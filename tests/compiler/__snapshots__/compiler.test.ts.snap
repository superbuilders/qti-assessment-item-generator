// Bun Snapshot v1, https://bun.sh/docs/test/snapshots

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "probability-not-purple-spinner" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="probability-not-purple-spinner"
    title="Probability of not purple on a spinner"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE" cardinality="single" base-type="string">
        <qti-correct-response>
            <qti-value>3/4</qti-value>
        </qti-correct-response>
        <qti-mapping default-value="0">
            <qti-map-entry map-key="3/4" mapped-value="1"/>
        </qti-mapping>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__RESPONSE" cardinality="single" base-type="identifier"/>
    <qti-item-body>
        <p>You spin the spinner shown below once. The spinner has <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4</mn></math> equal sectors colored pink, purple, blue, and green.</p>
        <p>What is <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>P</mi><mo>(</mo><mtext>not purple</mtext><mo>)</mo></math>?</p>
        <p>If necessary, round your answer to <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math> decimal places.</p>
        <p>Answer: <qti-text-entry-interaction response-identifier="RESPONSE" expected-length="4"/></p>
        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzQ3IiBoZWlnaHQ9IjM0MCIgdmlld0JveD0iLTIwIC0yMCAzNDcgMzQwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIj48ZGVmcz48c3R5bGU+LnRpdGxlIHsgZm9udC1zaXplOiAxNnB4OyBmb250LXdlaWdodDogYm9sZDsgdGV4dC1hbmNob3I6IG1pZGRsZTsgfTwvc3R5bGU+PC9kZWZzPjxwYXRoIGQ9Ik0gMTUwIDE1MCBMIDE1MCAyMCBBIDEzMCAxMzAgMCAwIDEgMjgwIDE1MCBaIiBmaWxsPSIjMjhhZTdiIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHBhdGggZD0iTSAxNTAgMTUwIEwgMjgwIDE1MCBBIDEzMCAxMzAgMCAwIDEgMTUwIDI4MCBaIiBmaWxsPSIjNjQ5NWVkIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHBhdGggZD0iTSAxNTAgMTUwIEwgMTUwIDI4MCBBIDEzMCAxMzAgMCAwIDEgMjAgMTUwLjAwMDAwMDAwMDAwMDAzIFoiIGZpbGw9IiM5ZDM4YmQiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48cGF0aCBkPSJNIDE1MCAxNTAgTCAyMCAxNTAuMDAwMDAwMDAwMDAwMDMgQSAxMzAgMTMwIDAgMCAxIDE0OS45OTk5OTk5OTk5OTk5NyAyMCBaIiBmaWxsPSIjZmYwMGFmIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGcgdHJhbnNmb3JtPSJyb3RhdGUoODAsIDE1MCwgMTUwKSI+PHBvbHlnb24gcG9pbnRzPSIxNTAsMTQ0IDI5NCwxNDQgMjk0LDEzOCAzMDYsMTUwIDI5NCwxNjIgMjk0LDE1NiAxNTAsMTU2IiBmaWxsPSIjNTU1NTU1IiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMSIvPjwvZz48Y2lyY2xlIGN4PSIxNTAiIGN5PSIxNTAiIHI9IjEyIiBmaWxsPSIjZmFmYWZhIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMiIvPjwvc3ZnPg==" alt="Widget visualization" />
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="CORRECT" show-hide="show">
            <qti-content-body><p>Excellent work! You correctly found that the probability of not landing on purple is <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>3</mn><mn>4</mn></mfrac></math> = <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0.75</mn></math> (or <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>75</mn><mo>%</mo></math>).</p>
        <p>You understood that "not purple" means any of the other <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math> colors: pink, blue, or green. Since each sector is equally likely, we count favorable outcomes over total outcomes.</p>
        <p>This is called complementary probability. Instead of finding P(purple) = <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>1</mn><mn>4</mn></mfrac></math> and then subtracting from <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math>, you directly counted the <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math> non-purple sectors!</p>
        <p>Real-world connection: This same thinking applies to any situation where you want the opposite of an event - like the probability of NOT raining, or NOT getting a specific card from a deck.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="INCORRECT" show-hide="show">
            <qti-content-body><p>Let's work through this step by step! Probability questions can be tricky, but there's a clear method.</p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math>: Count the total number of equally likely outcomes. The spinner has <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4</mn></math> equal sectors.</p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math>: Count the favorable outcomes. "Not purple" means any sector except purple, so that's <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math> sectors (pink, blue, and green).</p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math>: Calculate probability = <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mtext>favorable outcomes</mtext><mtext>total outcomes</mtext></mfrac></math> = <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>3</mn><mn>4</mn></mfrac></math></p>
        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDI0IiBoZWlnaHQ9IjMyNCIgdmlld0JveD0iLTEyIC0xMiA0MjQgMzI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0Ij48cmVjdCB4PSI2IiB5PSIzNCIgd2lkdGg9IjM4OCIgaGVpZ2h0PSIyNjAiIGZpbGw9IiNmYWZhZmEiIHN0cm9rZT0iI2UwZTBlMCIgc3Ryb2tlLXdpZHRoPSIyIi8+PHRleHQgeD0iMjAwIiB5PSIyMCIgZm9udC1zaXplPSIxMy4yMDAwMDAwMDAwMDAwMDEiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjx0c3BhbiB4PSIyMDAiIGR5PSIwZW0iPlByb2JhYmlsaXR5IFZpc3VhbGl6YXRpb248L3RzcGFuPjwvdGV4dD48dGV4dCB4PSI2MCIgeT0iODYiIGZvbnQtc2l6ZT0iODIuOCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZG9taW5hbnQtYmFzZWxpbmU9Im1pZGRsZSI+4pyFPC90ZXh0Pjx0ZXh0IHg9IjE4NCIgeT0iODYiIGZvbnQtc2l6ZT0iODIuOCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZG9taW5hbnQtYmFzZWxpbmU9Im1pZGRsZSI+4pyFPC90ZXh0Pjx0ZXh0IHg9IjMwOCIgeT0iODYiIGZvbnQtc2l6ZT0iODIuOCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZG9taW5hbnQtYmFzZWxpbmU9Im1pZGRsZSI+4pyFPC90ZXh0Pjx0ZXh0IHg9IjE4NCIgeT0iMjEwIiBmb250LXNpemU9IjgyLjgiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGRvbWluYW50LWJhc2VsaW5lPSJtaWRkbGUiPuKdjDwvdGV4dD48L3N2Zz4=" alt="Widget visualization" />
        <p>Memory tip: When you see "not" in a probability question, count everything EXCEPT that outcome!</p></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        
    <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-correct identifier="RESPONSE"/>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">CORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE"/><qti-correct identifier="RESPONSE"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "greatest-common-factor-numeric-input" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="greatest-common-factor-numeric-input"
    title="Greatest common factor"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE" cardinality="single" base-type="integer">
        <qti-correct-response>
            <qti-value>15</qti-value>
        </qti-correct-response>
        <qti-mapping default-value="0">
            <qti-map-entry map-key="15" mapped-value="1"/>
        </qti-mapping>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__RESPONSE" cardinality="single" base-type="identifier"/>
    <qti-item-body>
        <p>Find the greatest common factor of <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>30</mn></math> and <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>75</mn></math>.</p>
        <qti-text-entry-interaction response-identifier="RESPONSE" expected-length="3"/>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="CORRECT" show-hide="show">
            <qti-content-body><p>Outstanding! You correctly found that the greatest common factor of <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>30</mn></math> and <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>75</mn></math> is <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>15</mn></math>.</p>
        <p>You found the largest number that divides evenly into both numbers! <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>30</mn><mo>÷</mo><mn>15</mn><mo>=</mo><mn>2</mn></math> and <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>75</mn><mo>÷</mo><mn>15</mn><mo>=</mo><mn>5</mn></math> with no remainders.</p>
        <p>Understanding GCF is essential for simplifying fractions! For example, <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>30</mn><mn>75</mn></mfrac></math> simplifies to <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>2</mn><mn>5</mn></mfrac></math> by dividing both parts by <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>15</mn></math>.</p>
        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDQwIiBoZWlnaHQ9IjM0MCIgdmlld0JveD0iLTIwIC0yMCA0NDAgMzQwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIj48cmVjdCB4PSIyMCIgeT0iMjAiIHdpZHRoPSIyNjAiIGhlaWdodD0iNTIiIGZpbGw9IiM0Mjg1RjQiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjUiIGZpbGwtb3BhY2l0eT0iMC4zIi8+PHJlY3QgeD0iMjAiIHk9IjcyIiB3aWR0aD0iMjYwIiBoZWlnaHQ9IjUyIiBmaWxsPSIjNDI4NUY0IiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41IiBmaWxsLW9wYWNpdHk9IjAuMyIvPjxyZWN0IHg9IjIwIiB5PSIxMjQiIHdpZHRoPSIyNjAiIGhlaWdodD0iNTIiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjUiIGZpbGwtb3BhY2l0eT0iMC4zIi8+PHJlY3QgeD0iMjAiIHk9IjE3NiIgd2lkdGg9IjI2MCIgaGVpZ2h0PSI1MiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIgZmlsbC1vcGFjaXR5PSIwLjMiLz48cmVjdCB4PSIyMCIgeT0iMjI4IiB3aWR0aD0iMjYwIiBoZWlnaHQ9IjUyIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41IiBmaWxsLW9wYWNpdHk9IjAuMyIvPjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjI2MCIgaGVpZ2h0PSIyNjAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIyIi8+PC9zdmc+" alt="Widget visualization" /></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="INCORRECT" show-hide="show">
            <qti-content-body><p>Let's find the GCF step by step! There are several methods, but listing factors is very reliable.</p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math>: List all factors of <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>30</mn></math>:</p>
        <p>Factors of <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>30</mn></math>: <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math>, <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math>, <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math>, <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5</mn></math>, <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>6</mn></math>, <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>10</mn></math>, <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>15</mn></math>, <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>30</mn></math></p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math>: List all factors of <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>75</mn></math>:</p>
        <p>Factors of <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>75</mn></math>: <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math>, <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math>, <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5</mn></math>, <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>15</mn></math>, <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>25</mn></math>, <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>75</mn></math></p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math>: Find common factors: <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math>, <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math>, <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5</mn></math>, <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>15</mn></math></p>
        <p>The greatest (largest) common factor is <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>15</mn></math>!</p>
        <table><thead><tr><th>Number</th><th>All Factors</th></tr></thead><tbody><tr><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>30</mn></math></td><td>1, 2, 3, 5, 6, 10, 15, 30</td></tr><tr><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>75</mn></math></td><td>1, 3, 5, 15, 25, 75</td></tr><tr><td>Common</td><td>1, 3, 5, 15</td></tr></tbody></table></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        
    <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-correct identifier="RESPONSE"/>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">CORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE"/><qti-correct identifier="RESPONSE"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "double-number-line-ratio" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="double-number-line-ratio"
    title="Equivalent Ratios on a Double Number Line"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE" cardinality="single" base-type="identifier">
        <qti-correct-response>
            <qti-value>A</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__RESPONSE" cardinality="single" base-type="identifier"/>
    <qti-item-body>
        <p>Cory hikes up a hill with a constant slope. The double number line shows that after Cory hikes <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn><mtext> km</mtext></math>, their elevation is <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>120</mn><mtext> m</mtext></math>.</p>
        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDQwIiBoZWlnaHQ9IjM0MCIgdmlld0JveD0iLTIwIC0yMCA0NDAgMzQwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIj48ZGVmcz48c3R5bGU+LmxpbmUtbGFiZWwgeyBmb250LXNpemU6IDE0cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyB0ZXh0LWFuY2hvcjogbWlkZGxlOyB9PC9zdHlsZT48L2RlZnM+PGxpbmUgeDE9IjIwIiB5MT0iMTAwIiB4Mj0iMzgwIiB5Mj0iMTAwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMjAwIiB5PSI4MCIgZm9udC1zaXplPSIxNCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC13ZWlnaHQ9IjcwMCI+RGlzdGFuY2UsIGtpbG9tZXRlcnM8L3RleHQ+PGxpbmUgeDE9IjIwIiB5MT0iOTUiIHgyPSIyMCIgeTI9IjEwNSIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjIwIiB5PSIxMjAiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjA8L3RleHQ+PGxpbmUgeDE9IjExMCIgeTE9Ijk1IiB4Mj0iMTEwIiB5Mj0iMTA1IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMTEwIiB5PSIxMjAiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjwvdGV4dD48bGluZSB4MT0iMjAwIiB5MT0iOTUiIHgyPSIyMDAiIHkyPSIxMDUiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIyMDAiIHk9IjEyMCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+PC90ZXh0PjxsaW5lIHgxPSIyOTAiIHkxPSI5NSIgeDI9IjI5MCIgeTI9IjEwNSIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjI5MCIgeT0iMTIwIiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzMzMzMzIj4zPC90ZXh0PjxsaW5lIHgxPSIzODAiIHkxPSI5NSIgeDI9IjM4MCIgeTI9IjEwNSIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjM4MCIgeT0iMTIwIiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzMzMzMzIj48L3RleHQ+PGxpbmUgeDE9IjIwIiB5MT0iMjAwIiB4Mj0iMzgwIiB5Mj0iMjAwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMjAwIiB5PSIyMzAiIGZvbnQtc2l6ZT0iMTQiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtd2VpZ2h0PSI3MDAiPkVsZXZhdGlvbiwgbWV0ZXJzPC90ZXh0PjxsaW5lIHgxPSIyMCIgeTE9IjE5NSIgeDI9IjIwIiB5Mj0iMjA1IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMjAiIHk9IjE4NSIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+MDwvdGV4dD48bGluZSB4MT0iMTEwIiB5MT0iMTk1IiB4Mj0iMTEwIiB5Mj0iMjA1IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMTEwIiB5PSIxODUiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjwvdGV4dD48bGluZSB4MT0iMjAwIiB5MT0iMTk1IiB4Mj0iMjAwIiB5Mj0iMjA1IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMjAwIiB5PSIxODUiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjwvdGV4dD48bGluZSB4MT0iMjkwIiB5MT0iMTk1IiB4Mj0iMjkwIiB5Mj0iMjA1IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMjkwIiB5PSIxODUiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjEyMDwvdGV4dD48bGluZSB4MT0iMzgwIiB5MT0iMTk1IiB4Mj0iMzgwIiB5Mj0iMjA1IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMzgwIiB5PSIxODUiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjwvdGV4dD48bGluZSB4MT0iMjAiIHkxPSIxMDUiIHgyPSIyMCIgeTI9IjEwOCIgc3Ryb2tlPSIjY2NjY2NjIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWRhc2hhcnJheT0iMiIvPjxsaW5lIHgxPSIyMCIgeTE9IjEyNiIgeDI9IjIwIiB5Mj0iMTczIiBzdHJva2U9IiNjY2NjY2MiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtZGFzaGFycmF5PSIyIi8+PGxpbmUgeDE9IjIwIiB5MT0iMTkxIiB4Mj0iMjAiIHkyPSIxOTUiIHN0cm9rZT0iI2NjY2NjYyIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1kYXNoYXJyYXk9IjIiLz48bGluZSB4MT0iMTEwIiB5MT0iMTA1IiB4Mj0iMTEwIiB5Mj0iMTk1IiBzdHJva2U9IiNjY2NjY2MiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtZGFzaGFycmF5PSIyIi8+PGxpbmUgeDE9IjIwMCIgeTE9IjEwNSIgeDI9IjIwMCIgeTI9IjE5NSIgc3Ryb2tlPSIjY2NjY2NjIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWRhc2hhcnJheT0iMiIvPjxsaW5lIHgxPSIyOTAiIHkxPSIxMDUiIHgyPSIyOTAiIHkyPSIxMDgiIHN0cm9rZT0iI2NjY2NjYyIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1kYXNoYXJyYXk9IjIiLz48bGluZSB4MT0iMjkwIiB5MT0iMTI2IiB4Mj0iMjkwIiB5Mj0iMTczIiBzdHJva2U9IiNjY2NjY2MiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtZGFzaGFycmF5PSIyIi8+PGxpbmUgeDE9IjI5MCIgeTE9IjE5MSIgeDI9IjI5MCIgeTI9IjE5NSIgc3Ryb2tlPSIjY2NjY2NjIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWRhc2hhcnJheT0iMiIvPjxsaW5lIHgxPSIzODAiIHkxPSIxMDUiIHgyPSIzODAiIHkyPSIxOTUiIHN0cm9rZT0iI2NjY2NjYyIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1kYXNoYXJyYXk9IjIiLz48L3N2Zz4=" alt="Widget visualization" />
        <div><qti-choice-interaction response-identifier="RESPONSE" shuffle="true" min-choices="1" max-choices="1">
            <qti-prompt>Select the double number line that shows the other values of distance and elevation.</qti-prompt>
            <qti-simple-choice identifier="A"><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDQwIiBoZWlnaHQ9IjM0MCIgdmlld0JveD0iLTIwIC0yMCA0NDAgMzQwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIj48ZGVmcz48c3R5bGU+LmxpbmUtbGFiZWwgeyBmb250LXNpemU6IDE0cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyB0ZXh0LWFuY2hvcjogbWlkZGxlOyB9PC9zdHlsZT48L2RlZnM+PGxpbmUgeDE9IjIwIiB5MT0iMTAwIiB4Mj0iMzgwIiB5Mj0iMTAwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMjAwIiB5PSI4MCIgZm9udC1zaXplPSIxNCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC13ZWlnaHQ9IjcwMCI+RGlzdGFuY2UsIGtpbG9tZXRlcnM8L3RleHQ+PGxpbmUgeDE9IjIwIiB5MT0iOTUiIHgyPSIyMCIgeTI9IjEwNSIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjIwIiB5PSIxMjAiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjA8L3RleHQ+PGxpbmUgeDE9IjExMCIgeTE9Ijk1IiB4Mj0iMTEwIiB5Mj0iMTA1IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMTEwIiB5PSIxMjAiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjE8L3RleHQ+PGxpbmUgeDE9IjIwMCIgeTE9Ijk1IiB4Mj0iMjAwIiB5Mj0iMTA1IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMjAwIiB5PSIxMjAiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjI8L3RleHQ+PGxpbmUgeDE9IjI5MCIgeTE9Ijk1IiB4Mj0iMjkwIiB5Mj0iMTA1IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMjkwIiB5PSIxMjAiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjM8L3RleHQ+PGxpbmUgeDE9IjM4MCIgeTE9Ijk1IiB4Mj0iMzgwIiB5Mj0iMTA1IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMzgwIiB5PSIxMjAiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjQ8L3RleHQ+PGxpbmUgeDE9IjIwIiB5MT0iMjAwIiB4Mj0iMzgwIiB5Mj0iMjAwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMjAwIiB5PSIyMzAiIGZvbnQtc2l6ZT0iMTQiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtd2VpZ2h0PSI3MDAiPkVsZXZhdGlvbiwgbWV0ZXJzPC90ZXh0PjxsaW5lIHgxPSIyMCIgeTE9IjE5NSIgeDI9IjIwIiB5Mj0iMjA1IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMjAiIHk9IjE4NSIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+MDwvdGV4dD48bGluZSB4MT0iMTEwIiB5MT0iMTk1IiB4Mj0iMTEwIiB5Mj0iMjA1IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMTEwIiB5PSIxODUiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjQwPC90ZXh0PjxsaW5lIHgxPSIyMDAiIHkxPSIxOTUiIHgyPSIyMDAiIHkyPSIyMDUiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIyMDAiIHk9IjE4NSIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+ODA8L3RleHQ+PGxpbmUgeDE9IjI5MCIgeTE9IjE5NSIgeDI9IjI5MCIgeTI9IjIwNSIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjI5MCIgeT0iMTg1IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzMzMzMzIj4xMjA8L3RleHQ+PGxpbmUgeDE9IjM4MCIgeTE9IjE5NSIgeDI9IjM4MCIgeTI9IjIwNSIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjM4MCIgeT0iMTg1IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzMzMzMzIj4xNjA8L3RleHQ+PGxpbmUgeDE9IjIwIiB5MT0iMTA1IiB4Mj0iMjAiIHkyPSIxMDgiIHN0cm9rZT0iI2NjY2NjYyIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1kYXNoYXJyYXk9IjIiLz48bGluZSB4MT0iMjAiIHkxPSIxMjYiIHgyPSIyMCIgeTI9IjE3MyIgc3Ryb2tlPSIjY2NjY2NjIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWRhc2hhcnJheT0iMiIvPjxsaW5lIHgxPSIyMCIgeTE9IjE5MSIgeDI9IjIwIiB5Mj0iMTk1IiBzdHJva2U9IiNjY2NjY2MiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtZGFzaGFycmF5PSIyIi8+PGxpbmUgeDE9IjExMCIgeTE9IjEwNSIgeDI9IjExMCIgeTI9IjEwOCIgc3Ryb2tlPSIjY2NjY2NjIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWRhc2hhcnJheT0iMiIvPjxsaW5lIHgxPSIxMTAiIHkxPSIxMjYiIHgyPSIxMTAiIHkyPSIxNzMiIHN0cm9rZT0iI2NjY2NjYyIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1kYXNoYXJyYXk9IjIiLz48bGluZSB4MT0iMTEwIiB5MT0iMTkxIiB4Mj0iMTEwIiB5Mj0iMTk1IiBzdHJva2U9IiNjY2NjY2MiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtZGFzaGFycmF5PSIyIi8+PGxpbmUgeDE9IjIwMCIgeTE9IjEwNSIgeDI9IjIwMCIgeTI9IjEwOCIgc3Ryb2tlPSIjY2NjY2NjIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWRhc2hhcnJheT0iMiIvPjxsaW5lIHgxPSIyMDAiIHkxPSIxMjYiIHgyPSIyMDAiIHkyPSIxNzMiIHN0cm9rZT0iI2NjY2NjYyIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1kYXNoYXJyYXk9IjIiLz48bGluZSB4MT0iMjAwIiB5MT0iMTkxIiB4Mj0iMjAwIiB5Mj0iMTk1IiBzdHJva2U9IiNjY2NjY2MiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtZGFzaGFycmF5PSIyIi8+PGxpbmUgeDE9IjI5MCIgeTE9IjEwNSIgeDI9IjI5MCIgeTI9IjEwOCIgc3Ryb2tlPSIjY2NjY2NjIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWRhc2hhcnJheT0iMiIvPjxsaW5lIHgxPSIyOTAiIHkxPSIxMjYiIHgyPSIyOTAiIHkyPSIxNzMiIHN0cm9rZT0iI2NjY2NjYyIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1kYXNoYXJyYXk9IjIiLz48bGluZSB4MT0iMjkwIiB5MT0iMTkxIiB4Mj0iMjkwIiB5Mj0iMTk1IiBzdHJva2U9IiNjY2NjY2MiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtZGFzaGFycmF5PSIyIi8+PGxpbmUgeDE9IjM4MCIgeTE9IjEwNSIgeDI9IjM4MCIgeTI9IjEwOCIgc3Ryb2tlPSIjY2NjY2NjIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWRhc2hhcnJheT0iMiIvPjxsaW5lIHgxPSIzODAiIHkxPSIxMjYiIHgyPSIzODAiIHkyPSIxNzMiIHN0cm9rZT0iI2NjY2NjYyIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1kYXNoYXJyYXk9IjIiLz48bGluZSB4MT0iMzgwIiB5MT0iMTkxIiB4Mj0iMzgwIiB5Mj0iMTk1IiBzdHJva2U9IiNjY2NjY2MiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtZGFzaGFycmF5PSIyIi8+PC9zdmc+" alt="Widget visualization" /></qti-simple-choice>
            <qti-simple-choice identifier="B"><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDQwIiBoZWlnaHQ9IjM0MCIgdmlld0JveD0iLTIwIC0yMCA0NDAgMzQwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIj48ZGVmcz48c3R5bGU+LmxpbmUtbGFiZWwgeyBmb250LXNpemU6IDE0cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyB0ZXh0LWFuY2hvcjogbWlkZGxlOyB9PC9zdHlsZT48L2RlZnM+PGxpbmUgeDE9IjIwIiB5MT0iMTAwIiB4Mj0iMzgwIiB5Mj0iMTAwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMjAwIiB5PSI4MCIgZm9udC1zaXplPSIxNCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC13ZWlnaHQ9IjcwMCI+RGlzdGFuY2UsIGtpbG9tZXRlcnM8L3RleHQ+PGxpbmUgeDE9IjIwIiB5MT0iOTUiIHgyPSIyMCIgeTI9IjEwNSIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjIwIiB5PSIxMjAiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjA8L3RleHQ+PGxpbmUgeDE9IjExMCIgeTE9Ijk1IiB4Mj0iMTEwIiB5Mj0iMTA1IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMTEwIiB5PSIxMjAiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjE8L3RleHQ+PGxpbmUgeDE9IjIwMCIgeTE9Ijk1IiB4Mj0iMjAwIiB5Mj0iMTA1IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMjAwIiB5PSIxMjAiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjI8L3RleHQ+PGxpbmUgeDE9IjI5MCIgeTE9Ijk1IiB4Mj0iMjkwIiB5Mj0iMTA1IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMjkwIiB5PSIxMjAiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjM8L3RleHQ+PGxpbmUgeDE9IjM4MCIgeTE9Ijk1IiB4Mj0iMzgwIiB5Mj0iMTA1IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMzgwIiB5PSIxMjAiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjQ8L3RleHQ+PGxpbmUgeDE9IjIwIiB5MT0iMjAwIiB4Mj0iMzgwIiB5Mj0iMjAwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMjAwIiB5PSIyMzAiIGZvbnQtc2l6ZT0iMTQiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtd2VpZ2h0PSI3MDAiPkVsZXZhdGlvbiwgbWV0ZXJzPC90ZXh0PjxsaW5lIHgxPSIyMCIgeTE9IjE5NSIgeDI9IjIwIiB5Mj0iMjA1IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMjAiIHk9IjE4NSIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+MDwvdGV4dD48bGluZSB4MT0iMTEwIiB5MT0iMTk1IiB4Mj0iMTEwIiB5Mj0iMjA1IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMTEwIiB5PSIxODUiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjgwPC90ZXh0PjxsaW5lIHgxPSIyMDAiIHkxPSIxOTUiIHgyPSIyMDAiIHkyPSIyMDUiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIyMDAiIHk9IjE4NSIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+MTAwPC90ZXh0PjxsaW5lIHgxPSIyOTAiIHkxPSIxOTUiIHgyPSIyOTAiIHkyPSIyMDUiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIyOTAiIHk9IjE4NSIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+MTIwPC90ZXh0PjxsaW5lIHgxPSIzODAiIHkxPSIxOTUiIHgyPSIzODAiIHkyPSIyMDUiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIzODAiIHk9IjE4NSIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+MTQwPC90ZXh0PjxsaW5lIHgxPSIyMCIgeTE9IjEwNSIgeDI9IjIwIiB5Mj0iMTA4IiBzdHJva2U9IiNjY2NjY2MiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtZGFzaGFycmF5PSIyIi8+PGxpbmUgeDE9IjIwIiB5MT0iMTI2IiB4Mj0iMjAiIHkyPSIxNzMiIHN0cm9rZT0iI2NjY2NjYyIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1kYXNoYXJyYXk9IjIiLz48bGluZSB4MT0iMjAiIHkxPSIxOTEiIHgyPSIyMCIgeTI9IjE5NSIgc3Ryb2tlPSIjY2NjY2NjIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWRhc2hhcnJheT0iMiIvPjxsaW5lIHgxPSIxMTAiIHkxPSIxMDUiIHgyPSIxMTAiIHkyPSIxMDgiIHN0cm9rZT0iI2NjY2NjYyIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1kYXNoYXJyYXk9IjIiLz48bGluZSB4MT0iMTEwIiB5MT0iMTI2IiB4Mj0iMTEwIiB5Mj0iMTczIiBzdHJva2U9IiNjY2NjY2MiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtZGFzaGFycmF5PSIyIi8+PGxpbmUgeDE9IjExMCIgeTE9IjE5MSIgeDI9IjExMCIgeTI9IjE5NSIgc3Ryb2tlPSIjY2NjY2NjIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWRhc2hhcnJheT0iMiIvPjxsaW5lIHgxPSIyMDAiIHkxPSIxMDUiIHgyPSIyMDAiIHkyPSIxMDgiIHN0cm9rZT0iI2NjY2NjYyIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1kYXNoYXJyYXk9IjIiLz48bGluZSB4MT0iMjAwIiB5MT0iMTI2IiB4Mj0iMjAwIiB5Mj0iMTczIiBzdHJva2U9IiNjY2NjY2MiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtZGFzaGFycmF5PSIyIi8+PGxpbmUgeDE9IjIwMCIgeTE9IjE5MSIgeDI9IjIwMCIgeTI9IjE5NSIgc3Ryb2tlPSIjY2NjY2NjIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWRhc2hhcnJheT0iMiIvPjxsaW5lIHgxPSIyOTAiIHkxPSIxMDUiIHgyPSIyOTAiIHkyPSIxMDgiIHN0cm9rZT0iI2NjY2NjYyIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1kYXNoYXJyYXk9IjIiLz48bGluZSB4MT0iMjkwIiB5MT0iMTI2IiB4Mj0iMjkwIiB5Mj0iMTczIiBzdHJva2U9IiNjY2NjY2MiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtZGFzaGFycmF5PSIyIi8+PGxpbmUgeDE9IjI5MCIgeTE9IjE5MSIgeDI9IjI5MCIgeTI9IjE5NSIgc3Ryb2tlPSIjY2NjY2NjIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWRhc2hhcnJheT0iMiIvPjxsaW5lIHgxPSIzODAiIHkxPSIxMDUiIHgyPSIzODAiIHkyPSIxMDgiIHN0cm9rZT0iI2NjY2NjYyIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1kYXNoYXJyYXk9IjIiLz48bGluZSB4MT0iMzgwIiB5MT0iMTI2IiB4Mj0iMzgwIiB5Mj0iMTczIiBzdHJva2U9IiNjY2NjY2MiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtZGFzaGFycmF5PSIyIi8+PGxpbmUgeDE9IjM4MCIgeTE9IjE5MSIgeDI9IjM4MCIgeTI9IjE5NSIgc3Ryb2tlPSIjY2NjY2NjIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWRhc2hhcnJheT0iMiIvPjwvc3ZnPg==" alt="Widget visualization" /></qti-simple-choice>
        </qti-choice-interaction></div>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="A" show-hide="show">
            <qti-content-body><p>Excellent work! You correctly identified that the ratio of distance to elevation is <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn><mo>:</mo><mn>120</mn></math>, which simplifies to a unit rate of <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn><mo>:</mo><mn>40</mn></math>.</p>
        <p>You understood that for every <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn><mtext> km</mtext></math> Cory hikes horizontally, the elevation increases by <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>40</mn><mtext> m</mtext></math>. This constant rate creates a proportional relationship!</p>
        <p>Double number lines are perfect for showing these proportional relationships. Each tick mark maintains the same ratio, making it easy to find equivalent values.</p>
        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTY3IiBoZWlnaHQ9IjM0MCIgdmlld0JveD0iLTE0NyAtMjAgNTY3IDM0MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiI+PHRleHQgeD0iMTAiIHk9IjU1IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0iZW5kIiBkb21pbmFudC1iYXNlbGluZT0ibWlkZGxlIiBmb250LXdlaWdodD0iNzAwIiBmaWxsPSIjMDAwMDAwIj5SYXRpbyBWaXN1YWxpemF0aW9uPC90ZXh0PjxyZWN0IHg9IjIwIiB5PSI0MCIgd2lkdGg9IjM2MCIgaGVpZ2h0PSIzMCIgZmlsbD0iI0ZGNkI2QiIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjIwMCIgeT0iNTUiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGRvbWluYW50LWJhc2VsaW5lPSJtaWRkbGUiIGZvbnQtd2VpZ2h0PSI3MDAiIGZpbGw9IiMwMDAwMDAiPjQwbSBwZXIgMWttPC90ZXh0PjxyZWN0IHg9IjIwIiB5PSI0MCIgd2lkdGg9IjM2MCIgaGVpZ2h0PSIzMCIgZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIgZmlsbC1vcGFjaXR5PSIwIi8+PGxpbmUgeDE9IjI5IiB5MT0iNDAiIHgyPSIyOSIgeTI9IjcwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjM4IiB5MT0iNDAiIHgyPSIzOCIgeTI9IjcwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjQ3IiB5MT0iNDAiIHgyPSI0NyIgeTI9IjcwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjU2IiB5MT0iNDAiIHgyPSI1NiIgeTI9IjcwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjY1IiB5MT0iNDAiIHgyPSI2NSIgeTI9IjcwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9Ijc0IiB5MT0iNDAiIHgyPSI3NCIgeTI9IjcwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjgzIiB5MT0iNDAiIHgyPSI4MyIgeTI9IjcwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjkyIiB5MT0iNDAiIHgyPSI5MiIgeTI9IjcwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjEwMSIgeTE9IjQwIiB4Mj0iMTAxIiB5Mj0iNzAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iMTEwIiB5MT0iNDAiIHgyPSIxMTAiIHkyPSI3MCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSIxMTkiIHkxPSI0MCIgeDI9IjExOSIgeTI9IjcwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjEyOCIgeTE9IjQwIiB4Mj0iMTI4IiB5Mj0iNzAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iMTM3IiB5MT0iNDAiIHgyPSIxMzciIHkyPSI3MCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSIxNDYiIHkxPSI0MCIgeDI9IjE0NiIgeTI9IjcwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjE1NSIgeTE9IjQwIiB4Mj0iMTU1IiB5Mj0iNzAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iMTY0IiB5MT0iNDAiIHgyPSIxNjQiIHkyPSI3MCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSIxNzMiIHkxPSI0MCIgeDI9IjE3MyIgeTI9IjcwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjE4MiIgeTE9IjQwIiB4Mj0iMTgyIiB5Mj0iNzAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iMTkxIiB5MT0iNDAiIHgyPSIxOTEiIHkyPSI3MCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSIyMDAiIHkxPSI0MCIgeDI9IjIwMCIgeTI9IjcwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjIwOSIgeTE9IjQwIiB4Mj0iMjA5IiB5Mj0iNzAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iMjE4IiB5MT0iNDAiIHgyPSIyMTgiIHkyPSI3MCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSIyMjciIHkxPSI0MCIgeDI9IjIyNyIgeTI9IjcwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjIzNiIgeTE9IjQwIiB4Mj0iMjM2IiB5Mj0iNzAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iMjQ1IiB5MT0iNDAiIHgyPSIyNDUiIHkyPSI3MCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSIyNTQiIHkxPSI0MCIgeDI9IjI1NCIgeTI9IjcwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjI2MyIgeTE9IjQwIiB4Mj0iMjYzIiB5Mj0iNzAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iMjcyIiB5MT0iNDAiIHgyPSIyNzIiIHkyPSI3MCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSIyODEiIHkxPSI0MCIgeDI9IjI4MSIgeTI9IjcwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjI5MCIgeTE9IjQwIiB4Mj0iMjkwIiB5Mj0iNzAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iMjk5IiB5MT0iNDAiIHgyPSIyOTkiIHkyPSI3MCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSIzMDgiIHkxPSI0MCIgeDI9IjMwOCIgeTI9IjcwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjMxNyIgeTE9IjQwIiB4Mj0iMzE3IiB5Mj0iNzAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iMzI2IiB5MT0iNDAiIHgyPSIzMjYiIHkyPSI3MCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSIzMzUiIHkxPSI0MCIgeDI9IjMzNSIgeTI9IjcwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjM0NCIgeTE9IjQwIiB4Mj0iMzQ0IiB5Mj0iNzAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iMzUzIiB5MT0iNDAiIHgyPSIzNTMiIHkyPSI3MCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSIzNjIiIHkxPSI0MCIgeDI9IjM2MiIgeTI9IjcwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjM3MSIgeTE9IjQwIiB4Mj0iMzcxIiB5Mj0iNzAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48L3N2Zz4=" alt="Widget visualization" />
        <p>Real-world application: This same thinking applies to currency exchange rates, recipe scaling, and speed calculations!</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="B" show-hide="show">
            <qti-content-body><p>Let's work through this ratio problem together! Double number lines can be tricky, but there's a systematic approach.</p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math>: Find the unit rate. We know that after hiking <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn><mtext> km</mtext></math>, Cory's elevation is <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>120</mn><mtext> m</mtext></math>.</p>
        <p>Rate = <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mrow><mn>120</mn><mtext> m</mtext></mrow><mrow><mn>3</mn><mtext> km</mtext></mrow></mfrac><mo>=</mo><mn>40</mn><mtext> meters per kilometer</mtext></math></p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math>: Apply this rate to fill in the missing values. For every <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn><mtext> km</mtext></math> of distance, add <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>40</mn><mtext> m</mtext></math> of elevation:</p>
        <p>• <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn><mtext> km</mtext></math> → <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>40</mn><mtext> m</mtext></math></p>
        <p>• <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn><mtext> km</mtext></math> → <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>80</mn><mtext> m</mtext></math></p>
        <p>• <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4</mn><mtext> km</mtext></math> → <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>160</mn><mtext> m</mtext></math></p>
        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDQwIiBoZWlnaHQ9IjM0MCIgdmlld0JveD0iLTIwIC0yMCA0NDAgMzQwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIj48ZGVmcz48c3R5bGU+LmxpbmUtbGFiZWwgeyBmb250LXNpemU6IDE0cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyB0ZXh0LWFuY2hvcjogbWlkZGxlOyB9PC9zdHlsZT48L2RlZnM+PGxpbmUgeDE9IjIwIiB5MT0iMTAwIiB4Mj0iMzgwIiB5Mj0iMTAwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMjAwIiB5PSI4MCIgZm9udC1zaXplPSIxNCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC13ZWlnaHQ9IjcwMCI+RGlzdGFuY2UgKGttKTwvdGV4dD48bGluZSB4MT0iMjAiIHkxPSI5NSIgeDI9IjIwIiB5Mj0iMTA1IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMjAiIHk9IjEyMCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+MDwvdGV4dD48bGluZSB4MT0iMTEwIiB5MT0iOTUiIHgyPSIxMTAiIHkyPSIxMDUiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIxMTAiIHk9IjEyMCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+MTwvdGV4dD48bGluZSB4MT0iMjAwIiB5MT0iOTUiIHgyPSIyMDAiIHkyPSIxMDUiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIyMDAiIHk9IjEyMCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+MjwvdGV4dD48bGluZSB4MT0iMjkwIiB5MT0iOTUiIHgyPSIyOTAiIHkyPSIxMDUiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIyOTAiIHk9IjEyMCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+MzwvdGV4dD48bGluZSB4MT0iMzgwIiB5MT0iOTUiIHgyPSIzODAiIHkyPSIxMDUiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIzODAiIHk9IjEyMCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+NDwvdGV4dD48bGluZSB4MT0iMjAiIHkxPSIyMDAiIHgyPSIzODAiIHkyPSIyMDAiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIyMDAiIHk9IjIzMCIgZm9udC1zaXplPSIxNCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC13ZWlnaHQ9IjcwMCI+RWxldmF0aW9uIChtKTwvdGV4dD48bGluZSB4MT0iMjAiIHkxPSIxOTUiIHgyPSIyMCIgeTI9IjIwNSIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjIwIiB5PSIxODUiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjA8L3RleHQ+PGxpbmUgeDE9IjExMCIgeTE9IjE5NSIgeDI9IjExMCIgeTI9IjIwNSIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjExMCIgeT0iMTg1IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzMzMzMzIj40MDwvdGV4dD48bGluZSB4MT0iMjAwIiB5MT0iMTk1IiB4Mj0iMjAwIiB5Mj0iMjA1IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMjAwIiB5PSIxODUiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjgwPC90ZXh0PjxsaW5lIHgxPSIyOTAiIHkxPSIxOTUiIHgyPSIyOTAiIHkyPSIyMDUiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIyOTAiIHk9IjE4NSIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+MTIwPC90ZXh0PjxsaW5lIHgxPSIzODAiIHkxPSIxOTUiIHgyPSIzODAiIHkyPSIyMDUiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIzODAiIHk9IjE4NSIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+MTYwPC90ZXh0PjxsaW5lIHgxPSIyMCIgeTE9IjEwNSIgeDI9IjIwIiB5Mj0iMTA4IiBzdHJva2U9IiNjY2NjY2MiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtZGFzaGFycmF5PSIyIi8+PGxpbmUgeDE9IjIwIiB5MT0iMTI2IiB4Mj0iMjAiIHkyPSIxNzMiIHN0cm9rZT0iI2NjY2NjYyIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1kYXNoYXJyYXk9IjIiLz48bGluZSB4MT0iMjAiIHkxPSIxOTEiIHgyPSIyMCIgeTI9IjE5NSIgc3Ryb2tlPSIjY2NjY2NjIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWRhc2hhcnJheT0iMiIvPjxsaW5lIHgxPSIxMTAiIHkxPSIxMDUiIHgyPSIxMTAiIHkyPSIxMDgiIHN0cm9rZT0iI2NjY2NjYyIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1kYXNoYXJyYXk9IjIiLz48bGluZSB4MT0iMTEwIiB5MT0iMTI2IiB4Mj0iMTEwIiB5Mj0iMTczIiBzdHJva2U9IiNjY2NjY2MiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtZGFzaGFycmF5PSIyIi8+PGxpbmUgeDE9IjExMCIgeTE9IjE5MSIgeDI9IjExMCIgeTI9IjE5NSIgc3Ryb2tlPSIjY2NjY2NjIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWRhc2hhcnJheT0iMiIvPjxsaW5lIHgxPSIyMDAiIHkxPSIxMDUiIHgyPSIyMDAiIHkyPSIxMDgiIHN0cm9rZT0iI2NjY2NjYyIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1kYXNoYXJyYXk9IjIiLz48bGluZSB4MT0iMjAwIiB5MT0iMTI2IiB4Mj0iMjAwIiB5Mj0iMTczIiBzdHJva2U9IiNjY2NjY2MiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtZGFzaGFycmF5PSIyIi8+PGxpbmUgeDE9IjIwMCIgeTE9IjE5MSIgeDI9IjIwMCIgeTI9IjE5NSIgc3Ryb2tlPSIjY2NjY2NjIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWRhc2hhcnJheT0iMiIvPjxsaW5lIHgxPSIyOTAiIHkxPSIxMDUiIHgyPSIyOTAiIHkyPSIxMDgiIHN0cm9rZT0iI2NjY2NjYyIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1kYXNoYXJyYXk9IjIiLz48bGluZSB4MT0iMjkwIiB5MT0iMTI2IiB4Mj0iMjkwIiB5Mj0iMTczIiBzdHJva2U9IiNjY2NjY2MiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtZGFzaGFycmF5PSIyIi8+PGxpbmUgeDE9IjI5MCIgeTE9IjE5MSIgeDI9IjI5MCIgeTI9IjE5NSIgc3Ryb2tlPSIjY2NjY2NjIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWRhc2hhcnJheT0iMiIvPjxsaW5lIHgxPSIzODAiIHkxPSIxMDUiIHgyPSIzODAiIHkyPSIxMDgiIHN0cm9rZT0iI2NjY2NjYyIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1kYXNoYXJyYXk9IjIiLz48bGluZSB4MT0iMzgwIiB5MT0iMTI2IiB4Mj0iMzgwIiB5Mj0iMTczIiBzdHJva2U9IiNjY2NjY2MiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtZGFzaGFycmF5PSIyIi8+PGxpbmUgeDE9IjM4MCIgeTE9IjE5MSIgeDI9IjM4MCIgeTI9IjE5NSIgc3Ryb2tlPSIjY2NjY2NjIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWRhc2hhcnJheT0iMiIvPjwvc3ZnPg==" alt="Widget visualization" />
        <p>Memory tip: In proportional relationships, if you know one complete ratio, you can find any other by scaling up or down!</p></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">A</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">A</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">B</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">B</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if></qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE"/><qti-correct identifier="RESPONSE"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "eval-fractional-exponents" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="eval-fractional-exponents"
    title="Evaluate an expression with negative fractional exponents"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE" cardinality="single" base-type="integer">
        <qti-correct-response>
            <qti-value>81</qti-value>
        </qti-correct-response>
        <qti-mapping default-value="0">
            <qti-map-entry map-key="81" mapped-value="1"/>
        </qti-mapping>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__RESPONSE" cardinality="single" base-type="identifier"/>
    <qti-item-body>
        <p>Evaluate the expression and enter your answer: <qti-text-entry-interaction response-identifier="RESPONSE" expected-length="3"/></p>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="CORRECT" show-hide="show">
            <qti-content-body><p>Outstanding work! You correctly evaluated this complex expression and found the answer is 81.</p>
        <p>You successfully applied the quotient rule for exponents and worked through the steps systematically.</p>
        <table><thead><tr><th>Rule</th><th>Example</th></tr></thead><tbody><tr><td>Quotient Rule</td><td>a^n / b^n = (a/b)^n</td></tr><tr><td>Negative Exponent</td><td>a^(-n) = 1/a^n</td></tr><tr><td>Fractional Exponent</td><td>a^(m/n) = nth root of a^m</td></tr></tbody></table></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="INCORRECT" show-hide="show">
            <qti-content-body><p>This is a challenging problem! Let's work through it step by step using exponent rules.</p>
        <p>Step 1: Apply the quotient rule for exponents to simplify the expression.</p>
        <p>Step 2: Simplify the fraction inside the parentheses.</p>
        <p>Step 3: Apply the negative exponent rule.</p>
        <p>Step 4: Convert the fractional exponent to get the final answer of 81.</p>
        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjc0IiBoZWlnaHQ9IjM0MCIgdmlld0JveD0iLTE1NCAtMjAgNjc0IDM0MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiI+PHRleHQgeD0iMTAiIHk9IjU1IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0iZW5kIiBkb21pbmFudC1iYXNlbGluZT0ibWlkZGxlIiBmb250LXdlaWdodD0iNzAwIiBmaWxsPSIjMDAwMDAwIj5TdGVwLWJ5LVN0ZXAgUHJvY2VzczwvdGV4dD48cmVjdCB4PSIyMCIgeT0iNDAiIHdpZHRoPSIxMTUiIGhlaWdodD0iMzAiIGZpbGw9IiNGRjZCNkIiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSI3Ny41IiB5PSI1NSIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZG9taW5hbnQtYmFzZWxpbmU9Im1pZGRsZSIgZm9udC13ZWlnaHQ9IjcwMCIgZmlsbD0iIzAwMDAwMCI+QXBwbHkgcXVvdGllbnQgcnVsZTwvdGV4dD48cmVjdCB4PSIxMzUiIHk9IjQwIiB3aWR0aD0iMTE1IiBoZWlnaHQ9IjMwIiBmaWxsPSIjNDI4NUY0IiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMTkyLjUiIHk9IjU1IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkb21pbmFudC1iYXNlbGluZT0ibWlkZGxlIiBmb250LXdlaWdodD0iNzAwIiBmaWxsPSIjMDAwMDAwIj5TaW1wbGlmeSBmcmFjdGlvbjwvdGV4dD48cmVjdCB4PSIyNTAiIHk9IjQwIiB3aWR0aD0iMTE1IiBoZWlnaHQ9IjMwIiBmaWxsPSIjMzRBODUzIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMzA3LjUiIHk9IjU1IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkb21pbmFudC1iYXNlbGluZT0ibWlkZGxlIiBmb250LXdlaWdodD0iNzAwIiBmaWxsPSIjMDAwMDAwIj5OZWdhdGl2ZSBleHBvbmVudDwvdGV4dD48cmVjdCB4PSIzNjUiIHk9IjQwIiB3aWR0aD0iMTE1IiBoZWlnaHQ9IjMwIiBmaWxsPSIjRkJCQzA0IiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iNDIyLjUiIHk9IjU1IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkb21pbmFudC1iYXNlbGluZT0ibWlkZGxlIiBmb250LXdlaWdodD0iNzAwIiBmaWxsPSIjMDAwMDAwIj5FdmFsdWF0ZTwvdGV4dD48cmVjdCB4PSIyMCIgeT0iNDAiIHdpZHRoPSI0NjAiIGhlaWdodD0iMzAiIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjUiIGZpbGwtb3BhY2l0eT0iMCIvPjxsaW5lIHgxPSIxMzUiIHkxPSI0MCIgeDI9IjEzNSIgeTI9IjcwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjI1MCIgeTE9IjQwIiB4Mj0iMjUwIiB5Mj0iNzAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iMzY1IiB5MT0iNDAiIHgyPSIzNjUiIHkyPSI3MCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIvPjwvc3ZnPg==" alt="Widget visualization" />
        <p>Remember: Negative exponents flip fractions, and fractional exponents represent roots. Practice these rules - they're the foundation for advanced algebra!</p></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        
    <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-correct identifier="RESPONSE"/>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">CORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE"/><qti-correct identifier="RESPONSE"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "inequality-number-line" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="inequality-number-line"
    title="Identify an inequality from a number-line graph"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE" cardinality="single" base-type="identifier">
        <qti-correct-response>
            <qti-value>C</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__RESPONSE" cardinality="single" base-type="identifier"/>
    <qti-item-body>
        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTQwIiBoZWlnaHQ9IjM0MCIgdmlld0JveD0iLTIwIC0yMCA1NDAgMzQwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIj48ZGVmcz48bWFya2VyIGlkPSJhcnJvdyIgdmlld0JveD0iMCAwIDEwIDEwIiByZWZYPSI4IiByZWZZPSI1IiBtYXJrZXJXaWR0aD0iNiIgbWFya2VySGVpZ2h0PSI2IiBvcmllbnQ9ImF1dG8tc3RhcnQtcmV2ZXJzZSI+PHBhdGggZD0iTSAwIDAgTCAxMCA1IEwgMCAxMCB6IiBmaWxsPSIjMzMzMzMzIi8+PC9tYXJrZXI+PG1hcmtlciBpZD0iYXJyb3ctNDI4NWY0IiB2aWV3Qm94PSIwIDAgMTAgMTAiIHJlZlg9IjYiIHJlZlk9IjUiIG1hcmtlcldpZHRoPSIzIiBtYXJrZXJIZWlnaHQ9IjMiIG9yaWVudD0iYXV0by1zdGFydC1yZXZlcnNlIj48cGF0aCBkPSJNIDAgMCBMIDEwIDUgTCAwIDEwIHoiIGZpbGw9IiM0Mjg1ZjQiLz48L21hcmtlcj48L2RlZnM+PGxpbmUgeDE9IjIwIiB5MT0iMTUwIiB4Mj0iNDgwIiB5Mj0iMTUwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41IiBtYXJrZXItc3RhcnQ9InVybCgjYXJyb3cpIiBtYXJrZXItZW5kPSJ1cmwoI2Fycm93KSIvPjxsaW5lIHgxPSIyMCIgeTE9IjE0MiIgeDI9IjIwIiB5Mj0iMTU4IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMjAiIHk9IjE3NSIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+LTU8L3RleHQ+PGxpbmUgeDE9IjY2IiB5MT0iMTQyIiB4Mj0iNjYiIHkyPSIxNTgiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSI2NiIgeT0iMTc1IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzMzMzMzIj4tNDwvdGV4dD48bGluZSB4MT0iMTEyIiB5MT0iMTQyIiB4Mj0iMTEyIiB5Mj0iMTU4IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMTEyIiB5PSIxNzUiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPi0zPC90ZXh0PjxsaW5lIHgxPSIxNTgiIHkxPSIxNDIiIHgyPSIxNTgiIHkyPSIxNTgiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIxNTgiIHk9IjE3NSIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+LTI8L3RleHQ+PGxpbmUgeDE9IjIwNCIgeTE9IjE0MiIgeDI9IjIwNCIgeTI9IjE1OCIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjIwNCIgeT0iMTc1IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzMzMzMzIj4tMTwvdGV4dD48bGluZSB4MT0iMjUwIiB5MT0iMTQyIiB4Mj0iMjUwIiB5Mj0iMTU4IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMjUwIiB5PSIxNzUiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjA8L3RleHQ+PGxpbmUgeDE9IjI5NiIgeTE9IjE0MiIgeDI9IjI5NiIgeTI9IjE1OCIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjI5NiIgeT0iMTc1IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzMzMzMzIj4xPC90ZXh0PjxsaW5lIHgxPSIzNDIiIHkxPSIxNDIiIHgyPSIzNDIiIHkyPSIxNTgiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIzNDIiIHk9IjE3NSIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+MjwvdGV4dD48bGluZSB4MT0iMzg4IiB5MT0iMTQyIiB4Mj0iMzg4IiB5Mj0iMTU4IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMzg4IiB5PSIxNzUiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjM8L3RleHQ+PGxpbmUgeDE9IjQzNCIgeTE9IjE0MiIgeDI9IjQzNCIgeTI9IjE1OCIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjQzNCIgeT0iMTc1IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzMzMzMzIj40PC90ZXh0PjxsaW5lIHgxPSI0ODAiIHkxPSIxNDIiIHgyPSI0ODAiIHkyPSIxNTgiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSI0ODAiIHk9IjE3NSIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+NTwvdGV4dD48bGluZSB4MT0iMjUwIiB5MT0iMTUwIiB4Mj0iNDgwIiB5Mj0iMTUwIiBzdHJva2U9IiM0Mjg1ZjQiIHN0cm9rZS13aWR0aD0iNCIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIG1hcmtlci1lbmQ9InVybCgjYXJyb3ctNDI4NWY0KSIvPjxjaXJjbGUgY3g9IjI1MCIgY3k9IjE1MCIgcj0iNSIgZmlsbD0iI2ZhZmFmYSIgc3Ryb2tlPSIjNDI4NWY0IiBzdHJva2Utd2lkdGg9IjEuNSIvPjwvc3ZnPg==" alt="Widget visualization" />
        <div><qti-choice-interaction response-identifier="RESPONSE" shuffle="true" min-choices="1" max-choices="1">
            <qti-prompt>Choose the inequality that represents the graph.</qti-prompt>
            <qti-simple-choice identifier="A"><p><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>&lt;</mo><mn>0</mn></math></p></qti-simple-choice>
            <qti-simple-choice identifier="B"><p><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>≤</mo><mn>0</mn></math></p></qti-simple-choice>
            <qti-simple-choice identifier="C"><p><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>&gt;</mo><mn>0</mn></math></p></qti-simple-choice>
            <qti-simple-choice identifier="D"><p><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>≥</mo><mn>0</mn></math></p></qti-simple-choice>
        </qti-choice-interaction></div>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="A" show-hide="show">
            <qti-content-body><p>I can see why you might think this! Let's examine the direction of the shading on the number line more carefully.</p>
        <p>The inequality <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>&lt;</mo><mn>0</mn></math> would show shading to the LEFT of <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0</mn></math> (toward negative numbers). But this graph shows shading to the RIGHT of <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0</mn></math> (toward positive numbers).</p>
        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDQwIiBoZWlnaHQ9IjM0MCIgdmlld0JveD0iLTIwIC0yMCA0NDAgMzQwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIj48bGluZSB4MT0iMjAiIHkxPSIxNTAiIHgyPSIzODAiIHkyPSIxNTAiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIyIi8+PGxpbmUgeDE9IjIwIiB5MT0iMTQ1IiB4Mj0iMjAiIHkyPSIxNTUiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIyMCIgeT0iMTcwIiBmb250LXNpemU9IjExIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzMzMzMzIj4tMjwvdGV4dD48bGluZSB4MT0iMTEwIiB5MT0iMTQ1IiB4Mj0iMTEwIiB5Mj0iMTU1IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMTEwIiB5PSIxNzAiIGZvbnQtc2l6ZT0iMTEiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPi0xPC90ZXh0PjxsaW5lIHgxPSIyMDAiIHkxPSIxNDUiIHgyPSIyMDAiIHkyPSIxNTUiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIyMDAiIHk9IjE3MCIgZm9udC1zaXplPSIxMSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+MDwvdGV4dD48bGluZSB4MT0iMjkwIiB5MT0iMTQ1IiB4Mj0iMjkwIiB5Mj0iMTU1IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMjkwIiB5PSIxNzAiIGZvbnQtc2l6ZT0iMTEiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjE8L3RleHQ+PGxpbmUgeDE9IjM4MCIgeTE9IjE0NSIgeDI9IjM4MCIgeTI9IjE1NSIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjM4MCIgeT0iMTcwIiBmb250LXNpemU9IjExIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzMzMzMzIj4yPC90ZXh0PjxsaW5lIHgxPSIyMCIgeTE9IjE1MCIgeDI9IjIwMCIgeTI9IjE1MCIgc3Ryb2tlPSIjRkY2QjZCIiBzdHJva2Utd2lkdGg9IjUiLz48L3N2Zz4=" alt="Widget visualization" />
        <p>The correct inequality is <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>&gt;</mo><mn>0</mn></math> because the shading goes toward positive values.</p>
        <p>Memory tip: The shading always shows you which values make the inequality true!</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="B" show-hide="show">
            <qti-content-body><p>Good thinking about the direction! You correctly noticed that the shading goes to the right (positive direction), but let's look at the point at <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0</mn></math> more carefully.</p>
        <p>The difference between <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>≤</mo><mn>0</mn></math> and <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>&gt;</mo><mn>0</mn></math> is whether <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0</mn></math> itself is included:</p>
        <p>• Open circle (○) means the boundary point is NOT included</p>
        <p>• Closed circle (●) means the boundary point IS included</p>
        <p>Since this graph shows an open circle at <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0</mn></math>, the value <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0</mn></math> is NOT included, so we use <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>&gt;</mo><mn>0</mn></math> (not ≤).</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="C" show-hide="show">
            <qti-content-body><p>Perfect! You correctly interpreted both parts of this number line graph.</p>
        <p>You noticed that:</p>
        <p>• The open circle at <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0</mn></math> means <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0</mn></math> is NOT included</p>
        <p>• The shading extends to the right, representing all positive values</p>
        <p>Together, this gives us <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>&gt;</mo><mn>0</mn></math> - all values strictly greater than zero.</p>
        <table><thead><tr><th>Symbol</th><th>Meaning</th><th>Circle Type</th></tr></thead><tbody><tr><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></td><td>greater than</td><td>open ○</td></tr><tr><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>≥</mo></math></td><td>greater than or equal</td><td>closed ●</td></tr></tbody></table>
        <p>This skill of reading inequality graphs is essential for solving systems of inequalities and understanding domain/range in functions!</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="D" show-hide="show">
            <qti-content-body><p>Close! You correctly identified the direction (positive values), but let's examine whether <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0</mn></math> itself is included.</p>
        <p>The key difference between ≥ and &gt; is the boundary point:</p>
        <p>• <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>≥</mo><mn>0</mn></math> includes <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0</mn></math> (shown with a closed circle ●)</p>
        <p>• <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>&gt;</mo><mn>0</mn></math> excludes <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0</mn></math> (shown with an open circle ○)</p>
        <p>Since this graph shows an open circle at <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0</mn></math>, the correct inequality is <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>&gt;</mo><mn>0</mn></math>, not <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>≥</mo><mn>0</mn></math>.</p></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">A</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">A</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">B</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">B</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">C</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">C</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">D</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">D</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if></qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE"/><qti-correct identifier="RESPONSE"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "vertical-number-line-comparison" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="vertical-number-line-comparison"
    title="Compare numbers on a vertical number line"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE_POS" cardinality="single" base-type="identifier">
        <qti-correct-response>
            <qti-value>ABOVE</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-response-declaration identifier="RESPONSE_COMP" cardinality="single" base-type="identifier">
        <qti-correct-response>
            <qti-value>GT</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__RESPONSE_POS" cardinality="single" base-type="identifier"/>
    <qti-outcome-declaration identifier="FEEDBACK__RESPONSE_COMP" cardinality="single" base-type="identifier"/>
    <qti-item-body>
        <p>Use the number line to compare the numbers.</p>
        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDQ1IiBoZWlnaHQ9IjM5MCIgdmlld0JveD0iLTIwIC0yMCA0NDUgMzkwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIj48bGluZSB4MT0iMTUwIiB5MT0iMjAiIHgyPSIxNTAiIHkyPSIzMzAiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIyIi8+PGxpbmUgeDE9IjE0NSIgeTE9IjMzMCIgeDI9IjE1MCIgeTI9IjMzMCIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjE0MCIgeT0iMzM0IiBmb250LXNpemU9IjExIiB0ZXh0LWFuY2hvcj0iZW5kIiBmaWxsPSIjMzMzMzMzIj4tODwvdGV4dD48bGluZSB4MT0iMTQ1IiB5MT0iMjY4IiB4Mj0iMTUwIiB5Mj0iMjY4IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMTQwIiB5PSIyNzIiIGZvbnQtc2l6ZT0iMTEiIHRleHQtYW5jaG9yPSJlbmQiIGZpbGw9IiMzMzMzMzMiPi02PC90ZXh0PjxsaW5lIHgxPSIxNDUiIHkxPSIyMDYiIHgyPSIxNTAiIHkyPSIyMDYiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIxNDAiIHk9IjIxMCIgZm9udC1zaXplPSIxMSIgdGV4dC1hbmNob3I9ImVuZCIgZmlsbD0iIzMzMzMzMyI+LTQ8L3RleHQ+PGxpbmUgeDE9IjE0NSIgeTE9IjE0NCIgeDI9IjE1MCIgeTI9IjE0NCIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjE0MCIgeT0iMTQ4IiBmb250LXNpemU9IjExIiB0ZXh0LWFuY2hvcj0iZW5kIiBmaWxsPSIjMzMzMzMzIj4tMjwvdGV4dD48bGluZSB4MT0iMTQ1IiB5MT0iODIiIHgyPSIxNTAiIHkyPSI4MiIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjE0MCIgeT0iODYiIGZvbnQtc2l6ZT0iMTEiIHRleHQtYW5jaG9yPSJlbmQiIGZpbGw9IiMzMzMzMzMiPjA8L3RleHQ+PGxpbmUgeDE9IjE0NSIgeTE9IjIwIiB4Mj0iMTUwIiB5Mj0iMjAiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIxNDAiIHk9IjI0IiBmb250LXNpemU9IjExIiB0ZXh0LWFuY2hvcj0iZW5kIiBmaWxsPSIjMzMzMzMzIj4yPC90ZXh0PjxjaXJjbGUgY3g9IjE1MCIgY3k9IjEyNS40IiByPSI1IiBmaWxsPSIjODAwMDgwIiBzdHJva2U9IiM4MDAwODAiIHN0cm9rZS13aWR0aD0iMSIvPjxmb3JlaWduT2JqZWN0IHg9IjE2NSIgeT0iMTA5LjQiIHdpZHRoPSIyNDAiIGhlaWdodD0iMzIiPjwhRE9DVFlQRSBodG1sPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpmbGV4LXN0YXJ0O3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7bGluZS1oZWlnaHQ6MTtmb250LWZhbWlseTpzYW5zLXNlcmlmO2NvbG9yOiM4MDAwODA7Ij48bWF0aCB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoL01hdGhNTCIgZGlzcGxheT0iaW5saW5lIiBzdHlsZT0iZm9udC1zaXplOjE5LjJweDsiPjxtbz4tPC9tbz48bW4+MS40PC9tbj48L21hdGg+PC9kaXY+PC9mb3JlaWduT2JqZWN0PjxjaXJjbGUgY3g9IjE1MCIgY3k9IjI4MC40MDAwMDAwMDAwMDAwMyIgcj0iNSIgZmlsbD0iIzgwMDAwMCIgc3Ryb2tlPSIjODAwMDAwIiBzdHJva2Utd2lkdGg9IjEiLz48Zm9yZWlnbk9iamVjdCB4PSIxNjUiIHk9IjI2NC40MDAwMDAwMDAwMDAwMyIgd2lkdGg9IjI0MCIgaGVpZ2h0PSIzMiI+PCFET0NUWVBFIGh0bWw+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmZsZXgtc3RhcnQ7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtsaW5lLWhlaWdodDoxO2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7Y29sb3I6IzgwMDAwMDsiPjxtYXRoIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk4L01hdGgvTWF0aE1MIiBkaXNwbGF5PSJpbmxpbmUiIHN0eWxlPSJmb250LXNpemU6MTkuMnB4OyI+PG1vPi08L21vPjxtbj42LjQ8L21uPjwvbWF0aD48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PC9zdmc+" alt="Widget visualization" />
        <p><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>1.4</mn></math> is <qti-inline-choice-interaction response-identifier="RESPONSE_POS" shuffle="true">
                <qti-inline-choice identifier="ABOVE">above</qti-inline-choice>
                <qti-inline-choice identifier="BELOW">below</qti-inline-choice>
            </qti-inline-choice-interaction> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>6.4</mn></math>, so <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>1.4</mn></math> is <qti-inline-choice-interaction response-identifier="RESPONSE_COMP" shuffle="true">
                <qti-inline-choice identifier="GT">greater than</qti-inline-choice>
                <qti-inline-choice identifier="LT">less than</qti-inline-choice>
            </qti-inline-choice-interaction> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>6.4</mn></math>.</p>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE_POS" identifier="ABOVE" show-hide="show">
            <qti-content-body><p>Excellent! You correctly identified that <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>1.4</mn></math> is above <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>6.4</mn></math> on this vertical number line.</p>
        <p>You understand that on a vertical number line, numbers get larger as you move up, just like floors in a building! The higher the position, the greater the value.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE_POS" identifier="BELOW" show-hide="show">
            <qti-content-body><p>Let's look at the vertical number line more carefully! On vertical number lines, position tells us about value.</p>
        <p>Find <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>1.4</mn></math> and <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>6.4</mn></math> on the number line. <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>1.4</mn></math> appears higher up (above) <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>6.4</mn></math>.</p>
        <p>Think of it like a thermometer: <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>1.4</mn></math>°C is warmer (higher) than <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>6.4</mn></math>°C!</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE_COMP" identifier="GT" show-hide="show">
            <qti-content-body><p>Perfect! You correctly reasoned that since <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>1.4</mn></math> is in a higher position, it represents a greater value.</p>
        <p>This is a key insight about negative numbers: <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>1.4</mn></math> is closer to zero than <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>6.4</mn></math>, making it the larger value.</p>
        <p>Remember: With negative numbers, the one closer to zero is always greater!</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE_COMP" identifier="LT" show-hide="show">
            <qti-content-body><p>I understand the confusion! Negative numbers can be tricky because they work differently than positive numbers.</p>
        <p>Key insight: With negative numbers, the one closer to zero is always greater. <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>1.4</mn></math> is only <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1.4</mn></math> units away from zero, while <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>6.4</mn></math> is <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>6.4</mn></math> units away.</p>
        <p>Think about temperature: <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>1.4</mn></math>°C is warmer (greater) than <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>6.4</mn></math>°C, even though <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>6.4</mn></math> &gt; <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1.4</mn></math> for positive numbers.</p>
        <p>Therefore: <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>1.4</mn></math> &gt; <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>6.4</mn></math></p></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_POS"/>
                <qti-base-value base-type="identifier">ABOVE</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE_POS">
                <qti-base-value base-type="identifier">ABOVE</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_POS"/>
                <qti-base-value base-type="identifier">BELOW</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE_POS">
                <qti-base-value base-type="identifier">BELOW</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if></qti-response-condition>
<qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_COMP"/>
                <qti-base-value base-type="identifier">GT</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE_COMP">
                <qti-base-value base-type="identifier">GT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_COMP"/>
                <qti-base-value base-type="identifier">LT</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE_COMP">
                <qti-base-value base-type="identifier">LT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if></qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE_POS"/><qti-correct identifier="RESPONSE_POS"/></qti-match>
                        <qti-match><qti-variable identifier="RESPONSE_COMP"/><qti-correct identifier="RESPONSE_COMP"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "equivalent-fraction-images" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="equivalent-fraction-images"
    title="Identifying Equivalent Fractions with Images"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE" cardinality="multiple" base-type="identifier">
        <qti-correct-response>
            <qti-value>A</qti-value>
            <qti-value>B</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__RESPONSE" cardinality="multiple" base-type="identifier"/>
    <qti-item-body>
        <p><math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>3</mn><mn>6</mn></mfrac></math> of the following rectangle is shaded.</p>
        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzQxIiBoZWlnaHQ9IjM0MSIgdmlld0JveD0iLTIxIC0yMSAzNDEgMzQxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSI1MCIgaGVpZ2h0PSIzMDAiIGZpbGw9IiM0Mjg1RjQ4MCIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiIGZpbGwtb3BhY2l0eT0iMC41Ii8+PHJlY3QgeD0iNTAiIHk9IjAiIHdpZHRoPSI1MCIgaGVpZ2h0PSIzMDAiIGZpbGw9IiM0Mjg1RjQ4MCIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiIGZpbGwtb3BhY2l0eT0iMC41Ii8+PHJlY3QgeD0iMTAwIiB5PSIwIiB3aWR0aD0iNTAiIGhlaWdodD0iMzAwIiBmaWxsPSIjNDI4NUY0ODAiIHN0cm9rZT0iI2UwZTBlMCIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsLW9wYWNpdHk9IjAuNSIvPjxyZWN0IHg9IjE1MCIgeT0iMCIgd2lkdGg9IjUwIiBoZWlnaHQ9IjMwMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiIGZpbGwtb3BhY2l0eT0iMSIvPjxyZWN0IHg9IjIwMCIgeT0iMCIgd2lkdGg9IjUwIiBoZWlnaHQ9IjMwMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiIGZpbGwtb3BhY2l0eT0iMSIvPjxyZWN0IHg9IjI1MCIgeT0iMCIgd2lkdGg9IjUwIiBoZWlnaHQ9IjMwMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiIGZpbGwtb3BhY2l0eT0iMSIvPjwvc3ZnPg==" alt="Widget visualization" />
        <div><qti-choice-interaction response-identifier="RESPONSE" shuffle="true" min-choices="0" max-choices="3">
            <qti-prompt>Which of the following rectangles have exactly <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>3</mn><mn>6</mn></mfrac></math> of their area shaded?</qti-prompt>
            <qti-simple-choice identifier="A"><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzQxIiBoZWlnaHQ9IjM0MSIgdmlld0JveD0iLTIxIC0yMSAzNDEgMzQxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSI3NSIgaGVpZ2h0PSIxNTAiIGZpbGw9IiM0Mjg1RjQ4MCIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiIGZpbGwtb3BhY2l0eT0iMC41Ii8+PHJlY3QgeD0iNzUiIHk9IjAiIHdpZHRoPSI3NSIgaGVpZ2h0PSIxNTAiIGZpbGw9IiM0Mjg1RjQ4MCIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiIGZpbGwtb3BhY2l0eT0iMC41Ii8+PHJlY3QgeD0iMTUwIiB5PSIwIiB3aWR0aD0iNzUiIGhlaWdodD0iMTUwIiBmaWxsPSIjNDI4NUY0ODAiIHN0cm9rZT0iI2UwZTBlMCIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsLW9wYWNpdHk9IjAuNSIvPjxyZWN0IHg9IjIyNSIgeT0iMCIgd2lkdGg9Ijc1IiBoZWlnaHQ9IjE1MCIgZmlsbD0iIzQyODVGNDgwIiBzdHJva2U9IiNlMGUwZTAiIHN0cm9rZS13aWR0aD0iMSIgZmlsbC1vcGFjaXR5PSIwLjUiLz48cmVjdCB4PSIwIiB5PSIxNTAiIHdpZHRoPSI3NSIgaGVpZ2h0PSIxNTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsLW9wYWNpdHk9IjEiLz48cmVjdCB4PSI3NSIgeT0iMTUwIiB3aWR0aD0iNzUiIGhlaWdodD0iMTUwIiBmaWxsPSJub25lIiBzdHJva2U9IiNlMGUwZTAiIHN0cm9rZS13aWR0aD0iMSIgZmlsbC1vcGFjaXR5PSIxIi8+PHJlY3QgeD0iMTUwIiB5PSIxNTAiIHdpZHRoPSI3NSIgaGVpZ2h0PSIxNTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsLW9wYWNpdHk9IjEiLz48cmVjdCB4PSIyMjUiIHk9IjE1MCIgd2lkdGg9Ijc1IiBoZWlnaHQ9IjE1MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiIGZpbGwtb3BhY2l0eT0iMSIvPjwvc3ZnPg==" alt="Widget visualization" /></qti-simple-choice>
            <qti-simple-choice identifier="B"><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzQxIiBoZWlnaHQ9IjM0MSIgdmlld0JveD0iLTIxIC0yMSAzNDEgMzQxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIxNTAiIGhlaWdodD0iMTUwIiBmaWxsPSIjNDI4NUY0ODAiIHN0cm9rZT0iI2UwZTBlMCIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsLW9wYWNpdHk9IjAuNSIvPjxyZWN0IHg9IjE1MCIgeT0iMCIgd2lkdGg9IjE1MCIgaGVpZ2h0PSIxNTAiIGZpbGw9IiM0Mjg1RjQ4MCIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiIGZpbGwtb3BhY2l0eT0iMC41Ii8+PHJlY3QgeD0iMCIgeT0iMTUwIiB3aWR0aD0iMTUwIiBoZWlnaHQ9IjE1MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiIGZpbGwtb3BhY2l0eT0iMSIvPjxyZWN0IHg9IjE1MCIgeT0iMTUwIiB3aWR0aD0iMTUwIiBoZWlnaHQ9IjE1MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiIGZpbGwtb3BhY2l0eT0iMSIvPjwvc3ZnPg==" alt="Widget visualization" /></qti-simple-choice>
            <qti-simple-choice identifier="C"><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzQxIiBoZWlnaHQ9IjM0MSIgdmlld0JveD0iLTIxIC0yMSAzNDEgMzQxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIxNTAiIGhlaWdodD0iMTUwIiBmaWxsPSIjNDI4NUY0ODAiIHN0cm9rZT0iI2UwZTBlMCIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsLW9wYWNpdHk9IjAuNSIvPjxyZWN0IHg9IjE1MCIgeT0iMCIgd2lkdGg9IjE1MCIgaGVpZ2h0PSIxNTAiIGZpbGw9IiM0Mjg1RjQ4MCIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiIGZpbGwtb3BhY2l0eT0iMC41Ii8+PHJlY3QgeD0iMCIgeT0iMTUwIiB3aWR0aD0iMTUwIiBoZWlnaHQ9IjE1MCIgZmlsbD0iIzQyODVGNDgwIiBzdHJva2U9IiNlMGUwZTAiIHN0cm9rZS13aWR0aD0iMSIgZmlsbC1vcGFjaXR5PSIwLjUiLz48cmVjdCB4PSIxNTAiIHk9IjE1MCIgd2lkdGg9IjE1MCIgaGVpZ2h0PSIxNTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsLW9wYWNpdHk9IjEiLz48L3N2Zz4=" alt="Widget visualization" /></qti-simple-choice>
        </qti-choice-interaction></div>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="A" show-hide="show">
            <qti-content-body><p>Excellent choice! This rectangle demonstrates perfect equivalent fraction understanding.</p>
        <p>You correctly identified that this rectangle has <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4</mn></math> out of <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>8</mn></math> parts shaded, which equals <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>4</mn><mn>8</mn></mfrac></math>.</p>
        <p>Here's why this works: <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>4</mn><mn>8</mn></mfrac></math> = <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>1</mn><mn>2</mn></mfrac></math> = <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>3</mn><mn>6</mn></mfrac></math> because we can multiply or divide both numerator and denominator by the same number!</p>
        <table><thead><tr><th>Fraction</th><th>Simplified</th><th>Decimal</th></tr></thead><tbody><tr><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>3</mn><mn>6</mn></mfrac></math></td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>1</mn><mn>2</mn></mfrac></math></td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0.5</mn></math></td></tr><tr><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>4</mn><mn>8</mn></mfrac></math></td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>1</mn><mn>2</mn></mfrac></math></td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0.5</mn></math></td></tr><tr><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>2</mn><mn>4</mn></mfrac></math></td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>1</mn><mn>2</mn></mfrac></math></td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0.5</mn></math></td></tr></tbody></table>
        <p>This understanding of equivalent fractions is essential for adding fractions, converting between fractions and decimals, and solving proportion problems!</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="B" show-hide="show">
            <qti-content-body><p>Another excellent choice! You found a different rectangle that also shows exactly <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>3</mn><mn>6</mn></mfrac></math> shaded.</p>
        <p>This rectangle has <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math> out of <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4</mn></math> parts shaded, giving us <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>2</mn><mn>4</mn></mfrac></math>.</p>
        <p>The magic of equivalent fractions: <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>2</mn><mn>4</mn></mfrac></math> = <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>1</mn><mn>2</mn></mfrac></math> = <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>3</mn><mn>6</mn></mfrac></math> - they all represent the same amount!</p>
        <p>You're seeing that the same fraction can look different depending on how we divide the shape, but the actual amount shaded stays the same.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="C" show-hide="show">
            <qti-content-body><p>I can see why you might choose this! Let's examine this rectangle together and compare it to our target fraction.</p>
        <p>This rectangle has <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math> out of <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4</mn></math> parts shaded, which gives us <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>3</mn><mn>4</mn></mfrac></math>.</p>
        <p>Now let's check if <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>3</mn><mn>4</mn></mfrac></math> equals <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>3</mn><mn>6</mn></mfrac></math>. We can simplify <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>3</mn><mn>6</mn></mfrac></math> by dividing both top and bottom by <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math>:</p>
        <p><math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>3</mn><mn>6</mn></mfrac><mo>=</mo><mfrac><mn>1</mn><mn>2</mn></mfrac></math>, but <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>3</mn><mn>4</mn></mfrac></math> cannot be simplified to <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>1</mn><mn>2</mn></mfrac></math></p>
        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzQwIiBoZWlnaHQ9IjM0MCIgdmlld0JveD0iLTIwIC0yMCAzNDAgMzQwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIj48cmVjdCB4PSIyMCIgeT0iMjAiIHdpZHRoPSIyNjAiIGhlaWdodD0iNjUiIGZpbGw9IiNGRjZCNkIiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjUiIGZpbGwtb3BhY2l0eT0iMC4zIi8+PHJlY3QgeD0iMjAiIHk9Ijg1IiB3aWR0aD0iMjYwIiBoZWlnaHQ9IjY1IiBmaWxsPSIjRkY2QjZCIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41IiBmaWxsLW9wYWNpdHk9IjAuMyIvPjxyZWN0IHg9IjIwIiB5PSIxNTAiIHdpZHRoPSIyNjAiIGhlaWdodD0iNjUiIGZpbGw9IiNGRjZCNkIiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjUiIGZpbGwtb3BhY2l0eT0iMC4zIi8+PHJlY3QgeD0iMjAiIHk9IjIxNSIgd2lkdGg9IjI2MCIgaGVpZ2h0PSI2NSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIgZmlsbC1vcGFjaXR5PSIwLjMiLz48cmVjdCB4PSIyMCIgeT0iMjAiIHdpZHRoPSIyNjAiIGhlaWdodD0iMjYwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMiIvPjwvc3ZnPg==" alt="Widget visualization" />
        <p>Remember: To check if fractions are equivalent, simplify both to their lowest terms and see if they match!</p></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        
    <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
        <qti-variable identifier="RESPONSE"/>
    </qti-set-outcome-value>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE"/><qti-correct identifier="RESPONSE"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "calculate-shaded-area" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="calculate-shaded-area"
    title="Calculating Shaded Area of Multiple Shapes"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE" cardinality="multiple" base-type="identifier">
        <qti-correct-response>
            <qti-value>B</qti-value>
            <qti-value>C</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__RESPONSE" cardinality="multiple" base-type="identifier"/>
    <qti-item-body>
        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTM4MCIgaGVpZ2h0PSIzNDAiIHZpZXdCb3g9Ii0yMCAtMjAgMTM4MCAzNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTSAxNjAgMTUwIEwgMTYwIDUgQSAxNDUgMTQ1IDAgMCAxIDMwNSAxNTAgWiIgZmlsbD0iIzQyODVGNDgwIiBzdHJva2U9IiNlMGUwZTAiIHN0cm9rZS13aWR0aD0iMSIgZmlsbC1vcGFjaXR5PSIwLjUiLz48cGF0aCBkPSJNIDE2MCAxNTAgTCAzMDUgMTUwIEEgMTQ1IDE0NSAwIDAgMSAxNjAgMjk1IFoiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsLW9wYWNpdHk9IjEiLz48cGF0aCBkPSJNIDE2MCAxNTAgTCAxNjAgMjk1IEEgMTQ1IDE0NSAwIDAgMSAxNSAxNTAuMDAwMDAwMDAwMDAwMDMgWiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiIGZpbGwtb3BhY2l0eT0iMSIvPjxwYXRoIGQ9Ik0gMTYwIDE1MCBMIDE1IDE1MC4wMDAwMDAwMDAwMDAwMyBBIDE0NSAxNDUgMCAwIDEgMTU5Ljk5OTk5OTk5OTk5OTk3IDUgWiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiIGZpbGwtb3BhY2l0eT0iMSIvPjxwYXRoIGQ9Ik0gNTAwIDE1MCBMIDUwMCA1IEEgMTQ1IDE0NSAwIDAgMSA2NDUgMTUwIFoiIGZpbGw9IiM0Mjg1RjQ4MCIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiIGZpbGwtb3BhY2l0eT0iMC41Ii8+PHBhdGggZD0iTSA1MDAgMTUwIEwgNjQ1IDE1MCBBIDE0NSAxNDUgMCAwIDEgNTAwIDI5NSBaIiBmaWxsPSJub25lIiBzdHJva2U9IiNlMGUwZTAiIHN0cm9rZS13aWR0aD0iMSIgZmlsbC1vcGFjaXR5PSIxIi8+PHBhdGggZD0iTSA1MDAgMTUwIEwgNTAwIDI5NSBBIDE0NSAxNDUgMCAwIDEgMzU1IDE1MC4wMDAwMDAwMDAwMDAwMyBaIiBmaWxsPSJub25lIiBzdHJva2U9IiNlMGUwZTAiIHN0cm9rZS13aWR0aD0iMSIgZmlsbC1vcGFjaXR5PSIxIi8+PHBhdGggZD0iTSA1MDAgMTUwIEwgMzU1IDE1MC4wMDAwMDAwMDAwMDAwMyBBIDE0NSAxNDUgMCAwIDEgNTAwIDUgWiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiIGZpbGwtb3BhY2l0eT0iMSIvPjxwYXRoIGQ9Ik0gODQwIDE1MCBMIDg0MCA1IEEgMTQ1IDE0NSAwIDAgMSA5ODUgMTUwIFoiIGZpbGw9IiM0Mjg1RjQ4MCIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiIGZpbGwtb3BhY2l0eT0iMC41Ii8+PHBhdGggZD0iTSA4NDAgMTUwIEwgOTg1IDE1MCBBIDE0NSAxNDUgMCAwIDEgODQwIDI5NSBaIiBmaWxsPSJub25lIiBzdHJva2U9IiNlMGUwZTAiIHN0cm9rZS13aWR0aD0iMSIgZmlsbC1vcGFjaXR5PSIxIi8+PHBhdGggZD0iTSA4NDAgMTUwIEwgODQwIDI5NSBBIDE0NSAxNDUgMCAwIDEgNjk1IDE1MC4wMDAwMDAwMDAwMDAwMyBaIiBmaWxsPSJub25lIiBzdHJva2U9IiNlMGUwZTAiIHN0cm9rZS13aWR0aD0iMSIgZmlsbC1vcGFjaXR5PSIxIi8+PHBhdGggZD0iTSA4NDAgMTUwIEwgNjk1IDE1MC4wMDAwMDAwMDAwMDAwMyBBIDE0NSAxNDUgMCAwIDEgODQwIDUgWiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiIGZpbGwtb3BhY2l0eT0iMSIvPjxwYXRoIGQ9Ik0gMTE4MCAxNTAgTCAxMTgwIDUgQSAxNDUgMTQ1IDAgMCAxIDEzMjUgMTUwIFoiIGZpbGw9IiM0Mjg1RjQ4MCIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiIGZpbGwtb3BhY2l0eT0iMC41Ii8+PHBhdGggZD0iTSAxMTgwIDE1MCBMIDEzMjUgMTUwIEEgMTQ1IDE0NSAwIDAgMSAxMTgwIDI5NSBaIiBmaWxsPSJub25lIiBzdHJva2U9IiNlMGUwZTAiIHN0cm9rZS13aWR0aD0iMSIgZmlsbC1vcGFjaXR5PSIxIi8+PHBhdGggZD0iTSAxMTgwIDE1MCBMIDExODAgMjk1IEEgMTQ1IDE0NSAwIDAgMSAxMDM1IDE1MC4wMDAwMDAwMDAwMDAwMyBaIiBmaWxsPSJub25lIiBzdHJva2U9IiNlMGUwZTAiIHN0cm9rZS13aWR0aD0iMSIgZmlsbC1vcGFjaXR5PSIxIi8+PHBhdGggZD0iTSAxMTgwIDE1MCBMIDEwMzUgMTUwLjAwMDAwMDAwMDAwMDAzIEEgMTQ1IDE0NSAwIDAgMSAxMTgwIDUgWiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiIGZpbGwtb3BhY2l0eT0iMSIvPjwvc3ZnPg==" alt="Widget visualization" />
        <div><qti-choice-interaction response-identifier="RESPONSE" shuffle="true" min-choices="0" max-choices="3">
            <qti-prompt>How can we calculate the shaded area?</qti-prompt>
            <qti-simple-choice identifier="A"><p><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mn>4</mn><mo>×</mo><mfrac><mn>1</mn><mn>3</mn></mfrac></mrow></math></p></qti-simple-choice>
            <qti-simple-choice identifier="B"><p><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mn>3</mn><mo>×</mo><mfrac><mn>1</mn><mn>4</mn></mfrac></mrow></math></p></qti-simple-choice>
            <qti-simple-choice identifier="C"><p><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mfrac><mn>1</mn><mn>4</mn></mfrac><mo>+</mo><mfrac><mn>1</mn><mn>4</mn></mfrac><mo>+</mo><mfrac><mn>1</mn><mn>4</mn></mfrac></mrow></math></p></qti-simple-choice>
        </qti-choice-interaction></div>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="A" show-hide="show">
            <qti-content-body><p>I can see the logic in your thinking! Let's examine what this expression represents and compare it to our actual situation.</p>
        <p>The expression <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4</mn><mo>×</mo><mfrac><mn>1</mn><mn>3</mn></mfrac></math> would mean "<math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4</mn></math> groups, each with <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>1</mn><mn>3</mn></mfrac></math> shaded." But let's count what we actually have:</p>
        <p>• Number of circles: <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math> (not <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4</mn></math>)</p>
        <p>• Fraction shaded in each: <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>1</mn><mn>4</mn></mfrac></math> (not <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>1</mn><mn>3</mn></mfrac></math>)</p>
        <p>So the correct calculation is <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn><mo>×</mo><mfrac><mn>1</mn><mn>4</mn></mfrac></math> or <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>1</mn><mn>4</mn></mfrac><mo>+</mo><mfrac><mn>1</mn><mn>4</mn></mfrac><mo>+</mo><mfrac><mn>1</mn><mn>4</mn></mfrac></math>.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="B" show-hide="show">
            <qti-content-body><p>Excellent work! You correctly identified the multiplication approach to this problem.</p>
        <p>You reasoned that there are <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math> circles, and <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>1</mn><mn>4</mn></mfrac></math> of each circle is shaded, so we multiply: <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn><mo>×</mo><mfrac><mn>1</mn><mn>4</mn></mfrac><mo>=</mo><mfrac><mn>3</mn><mn>4</mn></mfrac></math></p>
        <p>This demonstrates excellent understanding of how multiplication works with fractions! When you have multiple identical fractional parts, multiplication is often the most efficient approach.</p>
        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjgyIiBoZWlnaHQ9IjM0MCIgdmlld0JveD0iLTI2MiAtMjAgNjgyIDM0MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiI+PHRleHQgeD0iMTAiIHk9IjU1IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0iZW5kIiBkb21pbmFudC1iYXNlbGluZT0ibWlkZGxlIiBmb250LXdlaWdodD0iNzAwIiBmaWxsPSIjMDAwMDAwIj5NdWx0aXBseWluZyBGcmFjdGlvbnMgVmlzdWFsaXphdGlvbjwvdGV4dD48cmVjdCB4PSIyMCIgeT0iNDAiIHdpZHRoPSIyNzAiIGhlaWdodD0iMzAiIGZpbGw9IiM0Mjg1RjQiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIxNTUiIHk9IjU1IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkb21pbmFudC1iYXNlbGluZT0ibWlkZGxlIiBmb250LXdlaWdodD0iNzAwIiBmaWxsPSIjMDAwMDAwIj4xLzQgKyAxLzQgKyAxLzQ8L3RleHQ+PHJlY3QgeD0iMjAiIHk9IjQwIiB3aWR0aD0iMzYwIiBoZWlnaHQ9IjMwIiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41IiBmaWxsLW9wYWNpdHk9IjAiLz48bGluZSB4MT0iMTEwIiB5MT0iNDAiIHgyPSIxMTAiIHkyPSI3MCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSIyMDAiIHkxPSI0MCIgeDI9IjIwMCIgeTI9IjcwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjI5MCIgeTE9IjQwIiB4Mj0iMjkwIiB5Mj0iNzAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iMjAiIHkxPSIzNCIgeDI9IjM4MCIgeTI9IjM0IiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjIwIiB5MT0iMjkiIHgyPSIyMCIgeTI9IjM5IiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjM4MCIgeTE9IjI5IiB4Mj0iMzgwIiB5Mj0iMzkiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIyMDAiIHk9IjIyIiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXdlaWdodD0iNzAwIiBmaWxsPSIjMDAwMDAwIj5Ub3RhbCBmb3VydGhzPC90ZXh0Pjwvc3ZnPg==" alt="Widget visualization" />
        <p>This same thinking applies to real situations: <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math> friends each eat <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>1</mn><mn>4</mn></mfrac></math> of a pizza - how much total pizza was eaten?</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="C" show-hide="show">
            <qti-content-body><p>Perfect! You chose the addition approach, which shows excellent understanding of what's actually happening.</p>
        <p>Since we have <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math> separate circles, each with <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>1</mn><mn>4</mn></mfrac></math> shaded, we can add them together: <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>1</mn><mn>4</mn></mfrac><mo>+</mo><mfrac><mn>1</mn><mn>4</mn></mfrac><mo>+</mo><mfrac><mn>1</mn><mn>4</mn></mfrac><mo>=</mo><mfrac><mn>3</mn><mn>4</mn></mfrac></math></p>
        <p>This addition approach helps you see exactly what's being combined. Notice how adding <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math> copies of <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>1</mn><mn>4</mn></mfrac></math> gives the same result as <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn><mo>×</mo><mfrac><mn>1</mn><mn>4</mn></mfrac></math>!</p>
        <p>Both methods work because multiplication is really just repeated addition. Choose whichever method makes more sense to you!</p></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        
    <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
        <qti-variable identifier="RESPONSE"/>
    </qti-set-outcome-value>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE"/><qti-correct identifier="RESPONSE"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "haruka-exam-score" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="haruka-exam-score"
    title="Find a missing data point given the mean"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE" cardinality="single" base-type="integer">
        <qti-correct-response>
            <qti-value>87</qti-value>
        </qti-correct-response>
        <qti-mapping default-value="0">
            <qti-map-entry map-key="87" mapped-value="1"/>
        </qti-mapping>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__RESPONSE" cardinality="single" base-type="identifier"/>
    <qti-item-body>
        <p>The following table shows each of Haruka's final exam scores last semester.</p>
        <table><thead><tr><th>Final exam</th><th>Score on a 100-point scale</th></tr></thead><tbody><tr><td>Astronomy</td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>72</mn></math></td></tr><tr><td>Biology</td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>85</mn></math></td></tr><tr><td>Physics</td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>92</mn></math></td></tr><tr><td>Chemistry</td><td>?</td></tr></tbody></table>
        <p>If the mean of the data set is <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>84</mn></math> points, find Haruka's final exam score in chemistry. <qti-text-entry-interaction response-identifier="RESPONSE" expected-length="3"/></p>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="CORRECT" show-hide="show">
            <qti-content-body><p>Excellent work! You correctly found that Haruka scored <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>87</mn></math> points on her chemistry exam.</p>
        <p>You demonstrated solid understanding of how to work backwards from a mean! You used the fact that if the mean of <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4</mn></math> scores is <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>84</mn></math>, then the total must be <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4</mn><mo>×</mo><mn>84</mn><mo>=</mo><mn>336</mn></math>.</p>
        <p>Then you subtracted the known scores: <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>336</mn><mo>-</mo><mn>72</mn><mo>-</mo><mn>85</mn><mo>-</mo><mn>92</mn><mo>=</mo><mn>87</mn></math></p>
        <p>This reverse-engineering skill is incredibly useful for quality control, budgeting, and analyzing incomplete data sets!</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="INCORRECT" show-hide="show">
            <qti-content-body><p>Let's work through finding the missing score using the mean! This is a great problem-solving strategy.</p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math>: Use the mean formula. Mean = <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mtext>Sum of all scores</mtext><mtext>Number of scores</mtext></mfrac></math></p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math>: Find the total sum. If mean = <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>84</mn></math> and there are <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4</mn></math> scores, then:</p>
        <p>Total sum = <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>84</mn><mo>×</mo><mn>4</mn><mo>=</mo><mn>336</mn></math></p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math>: Subtract the known scores:</p>
        <p>Chemistry score = <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>336</mn><mo>-</mo><mn>72</mn><mo>-</mo><mn>85</mn><mo>-</mo><mn>92</mn><mo>=</mo><mn>87</mn></math></p>
        <table><thead><tr><th>Step</th><th>Calculation</th><th>Result</th></tr></thead><tbody><tr><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></td><td>Total = Mean × Count</td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>84</mn><mo>×</mo><mn>4</mn><mo>=</mo><mn>336</mn></math></td></tr><tr><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math></td><td>Sum known scores</td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>72</mn><mo>+</mo><mn>85</mn><mo>+</mo><mn>92</mn><mo>=</mo><mn>249</mn></math></td></tr><tr><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math></td><td>Find missing score</td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>336</mn><mo>-</mo><mn>249</mn><mo>=</mo><mn>87</mn></math></td></tr></tbody></table>
        <p>Therefore, Haruka scored <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>87</mn></math> points on her chemistry exam.</p></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        
    <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-correct identifier="RESPONSE"/>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">CORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE"/><qti-correct identifier="RESPONSE"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "libertyville-business-cycle" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="libertyville-business-cycle"
    title="Business Cycle Trough Identification"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE" cardinality="single" base-type="identifier">
        <qti-correct-response>
            <qti-value>C</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__RESPONSE" cardinality="single" base-type="identifier"/>
    <qti-item-body>
        <p>The table below shows the gross domestic product (GDP) and unemployment data for Libertyville over five years</p>
        <table><thead><tr><th>Year</th><th>GDP (% change)</th><th>Unemployment (% of the labor force)</th></tr></thead><tbody><tr><td>2014</td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0</mn><mo>%</mo></math></td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>7</mn><mo>%</mo></math></td></tr><tr><td>2015</td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>1</mn><mo>%</mo></math></td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>8</mn><mo>%</mo></math></td></tr><tr><td>2016</td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>2</mn><mo>%</mo></math></td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>10</mn><mo>%</mo></math></td></tr><tr><td>2017</td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn><mo>%</mo></math></td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>6</mn><mo>%</mo></math></td></tr><tr><td>2018</td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4</mn><mo>%</mo></math></td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5</mn><mo>%</mo></math></td></tr><tr><td>2019</td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn><mo>%</mo></math></td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>6</mn><mo>%</mo></math></td></tr></tbody></table>
        <div><qti-choice-interaction response-identifier="RESPONSE" shuffle="true" min-choices="1" max-choices="1">
            <qti-prompt>In which of the years was Libertyville most likely experiencing a trough in its business cycle?</qti-prompt>
            <qti-simple-choice identifier="A"><p>2014</p></qti-simple-choice>
            <qti-simple-choice identifier="B"><p>2015</p></qti-simple-choice>
            <qti-simple-choice identifier="C"><p>2016</p></qti-simple-choice>
            <qti-simple-choice identifier="D"><p>2017</p></qti-simple-choice>
            <qti-simple-choice identifier="E"><p>2018</p></qti-simple-choice>
        </qti-choice-interaction></div>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="A" show-hide="show">
            <qti-content-body><p>GDP fell for the two years following 2014, indicating that Libertyville entered the recession phase of its business cycle in 2014. A trough is the turning point at which a recession ends and an expansion begins.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="B" show-hide="show">
            <qti-content-body><p>GDP fell in 2015, indicating that Libertyville was in the recession phase of its business cycle in 2015. However the economy still had further to fall before it started to turn around. A trough is the turning point at which a recession ends and an expansion begins.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="C" show-hide="show">
            <qti-content-body><p>GDP fell in 2016 but increased in 2017, indicating that 2016 was the turning point at which Libertyville's two year recession ended and the economy entered the recovery/expansion phase of its business cycle.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="D" show-hide="show">
            <qti-content-body><p>GDP increased in 2017, indicating that Libertyville was in the expansion phase of its business cycle. A trough is the turning point at which a recession ends and an expansion begins.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="E" show-hide="show">
            <qti-content-body><p>GDP increased in 2018, indicating that Libertyville was in the expansion phase of its business cycle. A trough is the turning point at which a recession ends and an expansion begins.</p></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">A</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">A</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">B</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">B</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">C</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">C</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">D</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">D</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">E</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">E</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if></qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE"/><qti-correct identifier="RESPONSE"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "continuity-differentiability-piecewise" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="continuity-differentiability-piecewise"
    title="Continuity and Differentiability of a Piecewise Function"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE" cardinality="single" base-type="identifier">
        <qti-correct-response>
            <qti-value>C</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__RESPONSE" cardinality="single" base-type="identifier"/>
    <qti-item-body>
        <p><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo>{</mo><mtable><mtr><mtd columnalign="left"><mrow><mo>-</mo><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><mn>3</mn></mrow></mtd><mtd columnalign="left"><mrow><mo>,</mo><mi>x</mi><mo>≤</mo><mn>2</mn></mrow></mtd></mtr><mtr><mtd columnalign="left"><mrow><msup><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>-</mo><mn>4</mn><mo stretchy="false">)</mo></mrow><mn>2</mn></msup><mo>-</mo><mn>5</mn></mrow></mtd><mtd columnalign="left"><mrow><mo>,</mo><mi>x</mi><mo>&gt;</mo><mn>2</mn></mrow></mtd></mtr></mtable></mrow></mrow></math></p>
        <div><qti-choice-interaction response-identifier="RESPONSE" shuffle="true" min-choices="1" max-choices="1">
            <qti-prompt>Is the function given below continuous/differentiable at <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>=</mo><mn>2</mn></math>?</qti-prompt>
            <qti-simple-choice identifier="A"><p>continuous, not differentiable</p></qti-simple-choice>
            <qti-simple-choice identifier="B"><p>differentiable, not continuous</p></qti-simple-choice>
            <qti-simple-choice identifier="C"><p>both continuous and differentiable</p></qti-simple-choice>
            <qti-simple-choice identifier="D"><p>neither continuous nor differentiable</p></qti-simple-choice>
        </qti-choice-interaction></div>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="A" show-hide="show">
            <qti-content-body><p>This would be the case if the function values matched at <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>=</mo><mn>2</mn></math> but the derivatives from left and right were different. Check both the limit values and the derivatives.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="B" show-hide="show">
            <qti-content-body><p>This is impossible! A function must be continuous at a point to be differentiable there.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="C" show-hide="show">
            <qti-content-body><p>Correct! The function values match at <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>=</mo><mn>2</mn></math> (both equal <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>1</mn></math>) and the derivatives from both sides equal <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>4</mn></math>, so the function is both continuous and differentiable.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="D" show-hide="show">
            <qti-content-body><p>Not quite. The function doesn't have a jump discontinuity at <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>=</mo><mn>2</mn></math>. Check if the left and right limits at <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>=</mo><mn>2</mn></math> are equal.</p></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">A</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">A</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">B</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">B</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">C</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">C</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">D</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">D</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if></qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE"/><qti-correct identifier="RESPONSE"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "stokes-theorem-rewrite" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="stokes-theorem-rewrite"
    title="Rewrite Surface Integral using Stokes&apos; Theorem"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE" cardinality="single" base-type="string">
        <qti-correct-response>
            <qti-value>x^2/2-x*cos(z)</qti-value>
        </qti-correct-response>
        <qti-mapping default-value="0">
            <qti-map-entry map-key="x^2/2-x*cos(z)" mapped-value="1"/>
        </qti-mapping>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__RESPONSE" cardinality="single" base-type="identifier"/>
    <qti-item-body>
        <p>Use Stokes' theorem to rewrite the surface integral as a line integral. <qti-text-entry-interaction response-identifier="RESPONSE" expected-length="20"/></p>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="CORRECT" show-hide="show">
            <qti-content-body><p>Correct!</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="INCORRECT" show-hide="show">
            <qti-content-body><p>Not quite. Let's use Stokes' theorem to solve this.</p></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        
    <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-correct identifier="RESPONSE"/>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">CORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE"/><qti-correct identifier="RESPONSE"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "estimate-derivative-from-table" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="estimate-derivative-from-table"
    title="Estimate derivative from a table of values"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE" cardinality="single" base-type="identifier">
        <qti-correct-response>
            <qti-value>D</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__RESPONSE" cardinality="single" base-type="identifier"/>
    <qti-item-body>
        <p>This table gives select values of the differentiable function <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>h</mi></math>.</p>
        <table><tbody><tr><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>9</mn></math></td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>8</mn></math></td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>6</mn></math></td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>3</mn></math></td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>2</mn></math></td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>1</mn></math></td></tr><tr><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>h</mi><mo>(</mo><mi>x</mi><mo>)</mo></math></td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>30</mn></math></td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>29</mn></math></td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>36</mn></math></td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>20</mn></math></td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>35</mn></math></td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>47</mn></math></td></tr></tbody></table>
        <div><qti-choice-interaction response-identifier="RESPONSE" shuffle="true" min-choices="1" max-choices="1">
            <qti-prompt>What is the best estimate for <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msup><mi>h</mi><mo>'</mo></msup><mo>(</mo><mo>-</mo><mn>4</mn><mo>)</mo></mrow></math> we can make based on this table?</qti-prompt>
            <qti-simple-choice identifier="A"><p><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>28</mn></math></p></qti-simple-choice>
            <qti-simple-choice identifier="B"><p><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>13.5</mn></math></p></qti-simple-choice>
            <qti-simple-choice identifier="C"><p><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>2.125</mn></math></p></qti-simple-choice>
            <qti-simple-choice identifier="D"><p><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5.33</mn></math></p></qti-simple-choice>
        </qti-choice-interaction></div>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="A" show-hide="show">
            <qti-content-body><p>This can be an estimate for <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>h</mi><mo>(</mo><mo>-</mo><mn>4</mn><mo>)</mo></math>, but we are looking for <math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>h</mi><mo>'</mo></msup><mo>(</mo><mo>-</mo><mn>4</mn><mo>)</mo></math>.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="B" show-hide="show">
            <qti-content-body><p>We should pick an interval that includes <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>=</mo><mo>-</mo><mn>4</mn></math>.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="C" show-hide="show">
            <qti-content-body><p>We can pick a closer interval to estimate <math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>h</mi><mo>'</mo></msup></math> specifically at <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>=</mo><mo>-</mo><mn>4</mn></math>.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="D" show-hide="show">
            <qti-content-body><p>Correct! The best estimate uses the narrowest interval available that contains -4.</p></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">A</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">A</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">B</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">B</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">C</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">C</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">D</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">D</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if></qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE"/><qti-correct identifier="RESPONSE"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "count-apples-emoji" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="count-apples-emoji"
    title="Count the apples"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE" cardinality="single" base-type="identifier">
        <qti-correct-response>
            <qti-value>CHOICE_5</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__RESPONSE" cardinality="single" base-type="identifier"/>
    <qti-item-body>
        <div><qti-choice-interaction response-identifier="RESPONSE" shuffle="true" min-choices="1" max-choices="1">
            <qti-prompt>Which box has <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5</mn></math> apples?</qti-prompt>
            <qti-simple-choice identifier="CHOICE_3"><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzI0IiBoZWlnaHQ9IjMyNCIgdmlld0JveD0iLTEyIC0xMiAzMjQgMzI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0Ij48cmVjdCB4PSI2IiB5PSIzNCIgd2lkdGg9IjI4OCIgaGVpZ2h0PSIyNjAiIGZpbGw9IiNmYWZhZmEiIHN0cm9rZT0iI2UwZTBlMCIgc3Ryb2tlLXdpZHRoPSIyIi8+PHRleHQgeD0iNDciIHk9Ijc0IiBmb250LXNpemU9IjYxLjIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGRvbWluYW50LWJhc2VsaW5lPSJtaWRkbGUiPvCfjY48L3RleHQ+PHRleHQgeD0iMTM4IiB5PSI3NCIgZm9udC1zaXplPSI2MS4yIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkb21pbmFudC1iYXNlbGluZT0ibWlkZGxlIj7wn42OPC90ZXh0Pjx0ZXh0IHg9IjIyOSIgeT0iNzQiIGZvbnQtc2l6ZT0iNjEuMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZG9taW5hbnQtYmFzZWxpbmU9Im1pZGRsZSI+8J+NjjwvdGV4dD48L3N2Zz4=" alt="Widget visualization" /></qti-simple-choice>
            <qti-simple-choice identifier="CHOICE_4"><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzI0IiBoZWlnaHQ9IjMyNCIgdmlld0JveD0iLTEyIC0xMiAzMjQgMzI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0Ij48cmVjdCB4PSI2IiB5PSIzNCIgd2lkdGg9IjI4OCIgaGVpZ2h0PSIyNjAiIGZpbGw9IiNmYWZhZmEiIHN0cm9rZT0iI2UwZTBlMCIgc3Ryb2tlLXdpZHRoPSIyIi8+PHRleHQgeD0iMzkuNSIgeT0iNjUuNSIgZm9udC1zaXplPSI0NS45IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkb21pbmFudC1iYXNlbGluZT0ibWlkZGxlIj7wn42OPC90ZXh0Pjx0ZXh0IHg9IjEwNy41IiB5PSI2NS41IiBmb250LXNpemU9IjQ1LjkiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGRvbWluYW50LWJhc2VsaW5lPSJtaWRkbGUiPvCfjY48L3RleHQ+PHRleHQgeD0iMTc1LjUiIHk9IjY1LjUiIGZvbnQtc2l6ZT0iNDUuOSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZG9taW5hbnQtYmFzZWxpbmU9Im1pZGRsZSI+8J+NjjwvdGV4dD48dGV4dCB4PSIyNDMuNSIgeT0iNjUuNSIgZm9udC1zaXplPSI0NS45IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkb21pbmFudC1iYXNlbGluZT0ibWlkZGxlIj7wn42OPC90ZXh0Pjwvc3ZnPg==" alt="Widget visualization" /></qti-simple-choice>
            <qti-simple-choice identifier="CHOICE_5"><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzI0IiBoZWlnaHQ9IjMyNCIgdmlld0JveD0iLTEyIC0xMiAzMjQgMzI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0Ij48cmVjdCB4PSI2IiB5PSIzNCIgd2lkdGg9IjI4OCIgaGVpZ2h0PSIyNjAiIGZpbGw9IiNmYWZhZmEiIHN0cm9rZT0iI2UwZTBlMCIgc3Ryb2tlLXdpZHRoPSIyIi8+PHRleHQgeD0iMzUiIHk9IjYwIiBmb250LXNpemU9IjM2IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkb21pbmFudC1iYXNlbGluZT0ibWlkZGxlIj7wn42OPC90ZXh0Pjx0ZXh0IHg9Ijg5IiB5PSI2MCIgZm9udC1zaXplPSIzNiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZG9taW5hbnQtYmFzZWxpbmU9Im1pZGRsZSI+8J+NjjwvdGV4dD48dGV4dCB4PSIxNDMiIHk9IjYwIiBmb250LXNpemU9IjM2IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkb21pbmFudC1iYXNlbGluZT0ibWlkZGxlIj7wn42OPC90ZXh0Pjx0ZXh0IHg9IjE5NyIgeT0iNjAiIGZvbnQtc2l6ZT0iMzYiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGRvbWluYW50LWJhc2VsaW5lPSJtaWRkbGUiPvCfjY48L3RleHQ+PHRleHQgeD0iMjUxIiB5PSI2MCIgZm9udC1zaXplPSIzNiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZG9taW5hbnQtYmFzZWxpbmU9Im1pZGRsZSI+8J+NjjwvdGV4dD48L3N2Zz4=" alt="Widget visualization" /></qti-simple-choice>
            <qti-simple-choice identifier="CHOICE_6"><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzI0IiBoZWlnaHQ9IjMyNCIgdmlld0JveD0iLTEyIC0xMiAzMjQgMzI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0Ij48cmVjdCB4PSI2IiB5PSIzNCIgd2lkdGg9IjI4OCIgaGVpZ2h0PSIyNjAiIGZpbGw9IiNmYWZhZmEiIHN0cm9rZT0iI2UwZTBlMCIgc3Ryb2tlLXdpZHRoPSIyIi8+PHRleHQgeD0iMzIiIHk9IjU3IiBmb250LXNpemU9IjMwLjYiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGRvbWluYW50LWJhc2VsaW5lPSJtaWRkbGUiPvCfjY48L3RleHQ+PHRleHQgeD0iNzciIHk9IjU3IiBmb250LXNpemU9IjMwLjYiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGRvbWluYW50LWJhc2VsaW5lPSJtaWRkbGUiPvCfjY48L3RleHQ+PHRleHQgeD0iMTIyIiB5PSI1NyIgZm9udC1zaXplPSIzMC42IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkb21pbmFudC1iYXNlbGluZT0ibWlkZGxlIj7wn42OPC90ZXh0Pjx0ZXh0IHg9IjE2NyIgeT0iNTciIGZvbnQtc2l6ZT0iMzAuNiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZG9taW5hbnQtYmFzZWxpbmU9Im1pZGRsZSI+8J+NjjwvdGV4dD48dGV4dCB4PSIyMTIiIHk9IjU3IiBmb250LXNpemU9IjMwLjYiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGRvbWluYW50LWJhc2VsaW5lPSJtaWRkbGUiPvCfjY48L3RleHQ+PHRleHQgeD0iMjU3IiB5PSI1NyIgZm9udC1zaXplPSIzMC42IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkb21pbmFudC1iYXNlbGluZT0ibWlkZGxlIj7wn42OPC90ZXh0Pjwvc3ZnPg==" alt="Widget visualization" /></qti-simple-choice>
        </qti-choice-interaction></div>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="CHOICE_3" show-hide="show">
            <qti-content-body><p>Let's count together! This box has <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math> apples, but we're looking for <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5</mn></math> apples.</p>
        <p>Counting tip: Point to each apple as you count: <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math>, <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math>, <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math>. This helps make sure you don't skip any or count the same one twice!</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="CHOICE_4" show-hide="show">
            <qti-content-body><p>Close! This box has <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4</mn></math> apples, which is very close to <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5</mn></math>, but we need exactly <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5</mn></math> apples.</p>
        <p>You're getting good at counting! Keep looking for the box that has exactly <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5</mn></math> apples - one more than this box has.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="CHOICE_5" show-hide="show">
            <qti-content-body><p>Perfect! You found the box with exactly <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5</mn></math> apples.</p>
        <p>You demonstrated excellent counting skills! Counting accurately is the foundation for all of mathematics - from addition and subtraction to more advanced concepts.</p>
        <p>Challenge: Can you arrange <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5</mn></math> objects in different patterns? Try making a line, a circle, or a triangle!</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="CHOICE_6" show-hide="show">
            <qti-content-body><p>This box has <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>6</mn></math> apples, which is <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math> more than the <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5</mn></math> we're looking for.</p>
        <p>Great counting! You correctly identified that this box has <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>6</mn></math> apples. Now look for the box that has exactly <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5</mn></math> apples - one less than this box.</p></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">CHOICE_3</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">CHOICE_3</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">CHOICE_4</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">CHOICE_4</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">CHOICE_5</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">CHOICE_5</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">CHOICE_6</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">CHOICE_6</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if></qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE"/><qti-correct identifier="RESPONSE"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "shape-bin-barchart-choice" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="shape-bin-barchart-choice"
    title="Create a bar graph for shapes in a bin"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE" cardinality="single" base-type="identifier">
        <qti-correct-response>
            <qti-value>A</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__RESPONSE" cardinality="single" base-type="identifier"/>
    <qti-item-body>
        <p>A second grade classroom has a bin of shapes.</p>
        <table><thead><tr><th>Type of shape</th><th>Number of shapes</th></tr></thead><tbody><tr><td>Triangles</td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>8</mn></math></td></tr><tr><td>Circles</td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5</mn></math></td></tr><tr><td>Rectangles</td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math></td></tr><tr><td>Squares</td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>9</mn></math></td></tr></tbody></table>
        <div><qti-choice-interaction response-identifier="RESPONSE" shuffle="true" min-choices="1" max-choices="1">
            <qti-prompt>Which bar graph correctly shows the number of shapes in the bin?</qti-prompt>
            <qti-simple-choice identifier="A"><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDg4IiBoZWlnaHQ9IjM4MSIgdmlld0JveD0iLTgwIC05IDQ4OCAzODEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiPjxkZWZzPjxjbGlwUGF0aCBpZD0iY2xpcC0wIj48cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIvPjwvY2xpcFBhdGg+PC9kZWZzPjxsaW5lIHgxPSIwIiB5MT0iMCIgeDI9IjAiIHkyPSIzMDAiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iLTUiIHkxPSIzMDAiIHgyPSIwIiB5Mj0iMzAwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iLTgiIHk9IjMwNCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9ImVuZCIgZmlsbD0iIzMzMzMzMyI+MDwvdGV4dD48bGluZSB4MT0iMCIgeTE9IjMwMCIgeDI9IjQwMCIgeTI9IjMwMCIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48bGluZSB4MT0iLTUiIHkxPSIyNDAiIHgyPSIwIiB5Mj0iMjQwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iLTgiIHk9IjI0NCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9ImVuZCIgZmlsbD0iIzMzMzMzMyI+MjwvdGV4dD48bGluZSB4MT0iMCIgeTE9IjI0MCIgeDI9IjQwMCIgeTI9IjI0MCIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48bGluZSB4MT0iLTUiIHkxPSIxODAiIHgyPSIwIiB5Mj0iMTgwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iLTgiIHk9IjE4NCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9ImVuZCIgZmlsbD0iIzMzMzMzMyI+NDwvdGV4dD48bGluZSB4MT0iMCIgeTE9IjE4MCIgeDI9IjQwMCIgeTI9IjE4MCIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48bGluZSB4MT0iLTUiIHkxPSIxMjAiIHgyPSIwIiB5Mj0iMTIwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iLTgiIHk9IjEyNCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9ImVuZCIgZmlsbD0iIzMzMzMzMyI+NjwvdGV4dD48bGluZSB4MT0iMCIgeTE9IjEyMCIgeDI9IjQwMCIgeTI9IjEyMCIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48bGluZSB4MT0iLTUiIHkxPSI2MCIgeDI9IjAiIHkyPSI2MCIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9Ii04IiB5PSI2NCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9ImVuZCIgZmlsbD0iIzMzMzMzMyI+ODwvdGV4dD48bGluZSB4MT0iMCIgeTE9IjYwIiB4Mj0iNDAwIiB5Mj0iNjAiIHN0cm9rZT0iI2UwZTBlMCIgc3Ryb2tlLXdpZHRoPSIxIi8+PGxpbmUgeDE9Ii01IiB5MT0iMCIgeDI9IjAiIHkyPSIwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iLTgiIHk9IjQiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJlbmQiIGZpbGw9IiMzMzMzMzMiPjEwPC90ZXh0PjxsaW5lIHgxPSIwIiB5MT0iMCIgeDI9IjQwMCIgeTI9IjAiIHN0cm9rZT0iI2UwZTBlMCIgc3Ryb2tlLXdpZHRoPSIxIi8+PHRleHQgeD0iLTYxLjYiIHk9IjE1MCIgZm9udC1zaXplPSIxNiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyIgZG9taW5hbnQtYmFzZWxpbmU9Im1pZGRsZSIgdHJhbnNmb3JtPSJyb3RhdGUoLTkwLCAtNjEuNiwgMTUwKSI+PHRzcGFuIHg9Ii02MS42IiBkeT0iMGVtIj5OdW1iZXIgb2Ygc2hhcGU8L3RzcGFuPjwvdGV4dD48bGluZSB4MT0iMCIgeTE9IjMwMCIgeDI9IjQwMCIgeTI9IjMwMCIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSI1MCIgeTE9IjMwMCIgeDI9IjUwIiB5Mj0iMzA1IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iNTAiIHk9IjMxMyIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZG9taW5hbnQtYmFzZWxpbmU9ImhhbmdpbmciIGZpbGw9IiMzMzMzMzMiPlRyaWFuZ2xlczwvdGV4dD48bGluZSB4MT0iMTUwIiB5MT0iMzAwIiB4Mj0iMTUwIiB5Mj0iMzA1IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMTUwIiB5PSIzMTMiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGRvbWluYW50LWJhc2VsaW5lPSJoYW5naW5nIiBmaWxsPSIjMzMzMzMzIj5DaXJjbGVzPC90ZXh0PjxsaW5lIHgxPSIyNTAiIHkxPSIzMDAiIHgyPSIyNTAiIHkyPSIzMDUiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIyNTAiIHk9IjMxMyIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZG9taW5hbnQtYmFzZWxpbmU9ImhhbmdpbmciIGZpbGw9IiMzMzMzMzMiPlJlY3RhbmdsZXM8L3RleHQ+PGxpbmUgeDE9IjM1MCIgeTE9IjMwMCIgeDI9IjM1MCIgeTI9IjMwNSIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjM1MCIgeT0iMzEzIiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkb21pbmFudC1iYXNlbGluZT0iaGFuZ2luZyIgZmlsbD0iIzMzMzMzMyI+U3F1YXJlczwvdGV4dD48dGV4dCB4PSIyMDAiIHk9IjM0NyIgZm9udC1zaXplPSIxNiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+PHRzcGFuIHg9IjIwMCIgZHk9IjBlbSI+VHlwZSBvZiBzaGFwZTwvdHNwYW4+PC90ZXh0PjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwLTApIj48cmVjdCB4PSIxMCIgeT0iNjAiIHdpZHRoPSI4MCIgaGVpZ2h0PSIyNDAiIGZpbGw9IiM0Mjg1RjQiLz48cmVjdCB4PSIxMTAiIHk9IjE1MCIgd2lkdGg9IjgwIiBoZWlnaHQ9IjE1MCIgZmlsbD0iIzQyODVGNCIvPjxyZWN0IHg9IjIxMCIgeT0iMjEwIiB3aWR0aD0iODAiIGhlaWdodD0iOTAiIGZpbGw9IiM0Mjg1RjQiLz48cmVjdCB4PSIzMTAiIHk9IjMwIiB3aWR0aD0iODAiIGhlaWdodD0iMjcwIiBmaWxsPSIjNDI4NUY0Ii8+PC9nPjwvc3ZnPg==" alt="Widget visualization" /></qti-simple-choice>
            <qti-simple-choice identifier="B"><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDg4IiBoZWlnaHQ9IjM4MSIgdmlld0JveD0iLTgwIC05IDQ4OCAzODEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiPjxkZWZzPjxjbGlwUGF0aCBpZD0iY2xpcC0wIj48cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIvPjwvY2xpcFBhdGg+PC9kZWZzPjxsaW5lIHgxPSIwIiB5MT0iMCIgeDI9IjAiIHkyPSIzMDAiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iLTUiIHkxPSIzMDAiIHgyPSIwIiB5Mj0iMzAwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iLTgiIHk9IjMwNCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9ImVuZCIgZmlsbD0iIzMzMzMzMyI+MDwvdGV4dD48bGluZSB4MT0iMCIgeTE9IjMwMCIgeDI9IjQwMCIgeTI9IjMwMCIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48bGluZSB4MT0iLTUiIHkxPSIyNDAiIHgyPSIwIiB5Mj0iMjQwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iLTgiIHk9IjI0NCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9ImVuZCIgZmlsbD0iIzMzMzMzMyI+MjwvdGV4dD48bGluZSB4MT0iMCIgeTE9IjI0MCIgeDI9IjQwMCIgeTI9IjI0MCIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48bGluZSB4MT0iLTUiIHkxPSIxODAiIHgyPSIwIiB5Mj0iMTgwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iLTgiIHk9IjE4NCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9ImVuZCIgZmlsbD0iIzMzMzMzMyI+NDwvdGV4dD48bGluZSB4MT0iMCIgeTE9IjE4MCIgeDI9IjQwMCIgeTI9IjE4MCIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48bGluZSB4MT0iLTUiIHkxPSIxMjAiIHgyPSIwIiB5Mj0iMTIwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iLTgiIHk9IjEyNCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9ImVuZCIgZmlsbD0iIzMzMzMzMyI+NjwvdGV4dD48bGluZSB4MT0iMCIgeTE9IjEyMCIgeDI9IjQwMCIgeTI9IjEyMCIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48bGluZSB4MT0iLTUiIHkxPSI2MCIgeDI9IjAiIHkyPSI2MCIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9Ii04IiB5PSI2NCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9ImVuZCIgZmlsbD0iIzMzMzMzMyI+ODwvdGV4dD48bGluZSB4MT0iMCIgeTE9IjYwIiB4Mj0iNDAwIiB5Mj0iNjAiIHN0cm9rZT0iI2UwZTBlMCIgc3Ryb2tlLXdpZHRoPSIxIi8+PGxpbmUgeDE9Ii01IiB5MT0iMCIgeDI9IjAiIHkyPSIwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iLTgiIHk9IjQiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJlbmQiIGZpbGw9IiMzMzMzMzMiPjEwPC90ZXh0PjxsaW5lIHgxPSIwIiB5MT0iMCIgeDI9IjQwMCIgeTI9IjAiIHN0cm9rZT0iI2UwZTBlMCIgc3Ryb2tlLXdpZHRoPSIxIi8+PHRleHQgeD0iLTYxLjYiIHk9IjE1MCIgZm9udC1zaXplPSIxNiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyIgZG9taW5hbnQtYmFzZWxpbmU9Im1pZGRsZSIgdHJhbnNmb3JtPSJyb3RhdGUoLTkwLCAtNjEuNiwgMTUwKSI+PHRzcGFuIHg9Ii02MS42IiBkeT0iMGVtIj5OdW1iZXIgb2Ygc2hhcGU8L3RzcGFuPjwvdGV4dD48bGluZSB4MT0iMCIgeTE9IjMwMCIgeDI9IjQwMCIgeTI9IjMwMCIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSI1MCIgeTE9IjMwMCIgeDI9IjUwIiB5Mj0iMzA1IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iNTAiIHk9IjMxMyIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZG9taW5hbnQtYmFzZWxpbmU9ImhhbmdpbmciIGZpbGw9IiMzMzMzMzMiPlRyaWFuZ2xlczwvdGV4dD48bGluZSB4MT0iMTUwIiB5MT0iMzAwIiB4Mj0iMTUwIiB5Mj0iMzA1IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMTUwIiB5PSIzMTMiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGRvbWluYW50LWJhc2VsaW5lPSJoYW5naW5nIiBmaWxsPSIjMzMzMzMzIj5DaXJjbGVzPC90ZXh0PjxsaW5lIHgxPSIyNTAiIHkxPSIzMDAiIHgyPSIyNTAiIHkyPSIzMDUiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIyNTAiIHk9IjMxMyIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZG9taW5hbnQtYmFzZWxpbmU9ImhhbmdpbmciIGZpbGw9IiMzMzMzMzMiPlJlY3RhbmdsZXM8L3RleHQ+PGxpbmUgeDE9IjM1MCIgeTE9IjMwMCIgeDI9IjM1MCIgeTI9IjMwNSIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjM1MCIgeT0iMzEzIiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkb21pbmFudC1iYXNlbGluZT0iaGFuZ2luZyIgZmlsbD0iIzMzMzMzMyI+U3F1YXJlczwvdGV4dD48dGV4dCB4PSIyMDAiIHk9IjM0NyIgZm9udC1zaXplPSIxNiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+PHRzcGFuIHg9IjIwMCIgZHk9IjBlbSI+VHlwZSBvZiBzaGFwZTwvdHNwYW4+PC90ZXh0PjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwLTApIj48cmVjdCB4PSIxMCIgeT0iMzAiIHdpZHRoPSI4MCIgaGVpZ2h0PSIyNzAiIGZpbGw9IiM0Mjg1RjQiLz48cmVjdCB4PSIxMTAiIHk9IjE1MCIgd2lkdGg9IjgwIiBoZWlnaHQ9IjE1MCIgZmlsbD0iIzQyODVGNCIvPjxyZWN0IHg9IjIxMCIgeT0iMjEwIiB3aWR0aD0iODAiIGhlaWdodD0iOTAiIGZpbGw9IiM0Mjg1RjQiLz48cmVjdCB4PSIzMTAiIHk9IjYwIiB3aWR0aD0iODAiIGhlaWdodD0iMjQwIiBmaWxsPSIjNDI4NUY0Ii8+PC9nPjwvc3ZnPg==" alt="Widget visualization" /></qti-simple-choice>
            <qti-simple-choice identifier="C"><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDg4IiBoZWlnaHQ9IjM4MSIgdmlld0JveD0iLTgwIC05IDQ4OCAzODEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiPjxkZWZzPjxjbGlwUGF0aCBpZD0iY2xpcC0wIj48cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIvPjwvY2xpcFBhdGg+PC9kZWZzPjxsaW5lIHgxPSIwIiB5MT0iMCIgeDI9IjAiIHkyPSIzMDAiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iLTUiIHkxPSIzMDAiIHgyPSIwIiB5Mj0iMzAwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iLTgiIHk9IjMwNCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9ImVuZCIgZmlsbD0iIzMzMzMzMyI+MDwvdGV4dD48bGluZSB4MT0iMCIgeTE9IjMwMCIgeDI9IjQwMCIgeTI9IjMwMCIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48bGluZSB4MT0iLTUiIHkxPSIyNDAiIHgyPSIwIiB5Mj0iMjQwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iLTgiIHk9IjI0NCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9ImVuZCIgZmlsbD0iIzMzMzMzMyI+MjwvdGV4dD48bGluZSB4MT0iMCIgeTE9IjI0MCIgeDI9IjQwMCIgeTI9IjI0MCIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48bGluZSB4MT0iLTUiIHkxPSIxODAiIHgyPSIwIiB5Mj0iMTgwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iLTgiIHk9IjE4NCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9ImVuZCIgZmlsbD0iIzMzMzMzMyI+NDwvdGV4dD48bGluZSB4MT0iMCIgeTE9IjE4MCIgeDI9IjQwMCIgeTI9IjE4MCIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48bGluZSB4MT0iLTUiIHkxPSIxMjAiIHgyPSIwIiB5Mj0iMTIwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iLTgiIHk9IjEyNCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9ImVuZCIgZmlsbD0iIzMzMzMzMyI+NjwvdGV4dD48bGluZSB4MT0iMCIgeTE9IjEyMCIgeDI9IjQwMCIgeTI9IjEyMCIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48bGluZSB4MT0iLTUiIHkxPSI2MCIgeDI9IjAiIHkyPSI2MCIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9Ii04IiB5PSI2NCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9ImVuZCIgZmlsbD0iIzMzMzMzMyI+ODwvdGV4dD48bGluZSB4MT0iMCIgeTE9IjYwIiB4Mj0iNDAwIiB5Mj0iNjAiIHN0cm9rZT0iI2UwZTBlMCIgc3Ryb2tlLXdpZHRoPSIxIi8+PGxpbmUgeDE9Ii01IiB5MT0iMCIgeDI9IjAiIHkyPSIwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iLTgiIHk9IjQiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJlbmQiIGZpbGw9IiMzMzMzMzMiPjEwPC90ZXh0PjxsaW5lIHgxPSIwIiB5MT0iMCIgeDI9IjQwMCIgeTI9IjAiIHN0cm9rZT0iI2UwZTBlMCIgc3Ryb2tlLXdpZHRoPSIxIi8+PHRleHQgeD0iLTYxLjYiIHk9IjE1MCIgZm9udC1zaXplPSIxNiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyIgZG9taW5hbnQtYmFzZWxpbmU9Im1pZGRsZSIgdHJhbnNmb3JtPSJyb3RhdGUoLTkwLCAtNjEuNiwgMTUwKSI+PHRzcGFuIHg9Ii02MS42IiBkeT0iMGVtIj5OdW1iZXIgb2Ygc2hhcGU8L3RzcGFuPjwvdGV4dD48bGluZSB4MT0iMCIgeTE9IjMwMCIgeDI9IjQwMCIgeTI9IjMwMCIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSI1MCIgeTE9IjMwMCIgeDI9IjUwIiB5Mj0iMzA1IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iNTAiIHk9IjMxMyIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZG9taW5hbnQtYmFzZWxpbmU9ImhhbmdpbmciIGZpbGw9IiMzMzMzMzMiPlRyaWFuZ2xlczwvdGV4dD48bGluZSB4MT0iMTUwIiB5MT0iMzAwIiB4Mj0iMTUwIiB5Mj0iMzA1IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMTUwIiB5PSIzMTMiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGRvbWluYW50LWJhc2VsaW5lPSJoYW5naW5nIiBmaWxsPSIjMzMzMzMzIj5DaXJjbGVzPC90ZXh0PjxsaW5lIHgxPSIyNTAiIHkxPSIzMDAiIHgyPSIyNTAiIHkyPSIzMDUiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIyNTAiIHk9IjMxMyIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZG9taW5hbnQtYmFzZWxpbmU9ImhhbmdpbmciIGZpbGw9IiMzMzMzMzMiPlJlY3RhbmdsZXM8L3RleHQ+PGxpbmUgeDE9IjM1MCIgeTE9IjMwMCIgeDI9IjM1MCIgeTI9IjMwNSIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjM1MCIgeT0iMzEzIiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkb21pbmFudC1iYXNlbGluZT0iaGFuZ2luZyIgZmlsbD0iIzMzMzMzMyI+U3F1YXJlczwvdGV4dD48dGV4dCB4PSIyMDAiIHk9IjM0NyIgZm9udC1zaXplPSIxNiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+PHRzcGFuIHg9IjIwMCIgZHk9IjBlbSI+VHlwZSBvZiBzaGFwZTwvdHNwYW4+PC90ZXh0PjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwLTApIj48cmVjdCB4PSIxMCIgeT0iOTAiIHdpZHRoPSI4MCIgaGVpZ2h0PSIyMTAiIGZpbGw9IiM0Mjg1RjQiLz48cmVjdCB4PSIxMTAiIHk9IjE4MCIgd2lkdGg9IjgwIiBoZWlnaHQ9IjEyMCIgZmlsbD0iIzQyODVGNCIvPjxyZWN0IHg9IjIxMCIgeT0iMjQwIiB3aWR0aD0iODAiIGhlaWdodD0iNjAiIGZpbGw9IiM0Mjg1RjQiLz48cmVjdCB4PSIzMTAiIHk9IjAiIHdpZHRoPSI4MCIgaGVpZ2h0PSIzMDAiIGZpbGw9IiM0Mjg1RjQiLz48L2c+PC9zdmc+" alt="Widget visualization" /></qti-simple-choice>
            <qti-simple-choice identifier="D"><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDg4IiBoZWlnaHQ9IjM4MSIgdmlld0JveD0iLTgwIC05IDQ4OCAzODEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiPjxkZWZzPjxjbGlwUGF0aCBpZD0iY2xpcC0wIj48cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIvPjwvY2xpcFBhdGg+PC9kZWZzPjxsaW5lIHgxPSIwIiB5MT0iMCIgeDI9IjAiIHkyPSIzMDAiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iLTUiIHkxPSIzMDAiIHgyPSIwIiB5Mj0iMzAwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iLTgiIHk9IjMwNCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9ImVuZCIgZmlsbD0iIzMzMzMzMyI+MDwvdGV4dD48bGluZSB4MT0iMCIgeTE9IjMwMCIgeDI9IjQwMCIgeTI9IjMwMCIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48bGluZSB4MT0iLTUiIHkxPSIyNDAiIHgyPSIwIiB5Mj0iMjQwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iLTgiIHk9IjI0NCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9ImVuZCIgZmlsbD0iIzMzMzMzMyI+MjwvdGV4dD48bGluZSB4MT0iMCIgeTE9IjI0MCIgeDI9IjQwMCIgeTI9IjI0MCIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48bGluZSB4MT0iLTUiIHkxPSIxODAiIHgyPSIwIiB5Mj0iMTgwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iLTgiIHk9IjE4NCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9ImVuZCIgZmlsbD0iIzMzMzMzMyI+NDwvdGV4dD48bGluZSB4MT0iMCIgeTE9IjE4MCIgeDI9IjQwMCIgeTI9IjE4MCIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48bGluZSB4MT0iLTUiIHkxPSIxMjAiIHgyPSIwIiB5Mj0iMTIwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iLTgiIHk9IjEyNCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9ImVuZCIgZmlsbD0iIzMzMzMzMyI+NjwvdGV4dD48bGluZSB4MT0iMCIgeTE9IjEyMCIgeDI9IjQwMCIgeTI9IjEyMCIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48bGluZSB4MT0iLTUiIHkxPSI2MCIgeDI9IjAiIHkyPSI2MCIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9Ii04IiB5PSI2NCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9ImVuZCIgZmlsbD0iIzMzMzMzMyI+ODwvdGV4dD48bGluZSB4MT0iMCIgeTE9IjYwIiB4Mj0iNDAwIiB5Mj0iNjAiIHN0cm9rZT0iI2UwZTBlMCIgc3Ryb2tlLXdpZHRoPSIxIi8+PGxpbmUgeDE9Ii01IiB5MT0iMCIgeDI9IjAiIHkyPSIwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iLTgiIHk9IjQiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJlbmQiIGZpbGw9IiMzMzMzMzMiPjEwPC90ZXh0PjxsaW5lIHgxPSIwIiB5MT0iMCIgeDI9IjQwMCIgeTI9IjAiIHN0cm9rZT0iI2UwZTBlMCIgc3Ryb2tlLXdpZHRoPSIxIi8+PHRleHQgeD0iLTYxLjYiIHk9IjE1MCIgZm9udC1zaXplPSIxNiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyIgZG9taW5hbnQtYmFzZWxpbmU9Im1pZGRsZSIgdHJhbnNmb3JtPSJyb3RhdGUoLTkwLCAtNjEuNiwgMTUwKSI+PHRzcGFuIHg9Ii02MS42IiBkeT0iMGVtIj5OdW1iZXIgb2Ygc2hhcGU8L3RzcGFuPjwvdGV4dD48bGluZSB4MT0iMCIgeTE9IjMwMCIgeDI9IjQwMCIgeTI9IjMwMCIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSI1MCIgeTE9IjMwMCIgeDI9IjUwIiB5Mj0iMzA1IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iNTAiIHk9IjMxMyIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZG9taW5hbnQtYmFzZWxpbmU9ImhhbmdpbmciIGZpbGw9IiMzMzMzMzMiPlRyaWFuZ2xlczwvdGV4dD48bGluZSB4MT0iMTUwIiB5MT0iMzAwIiB4Mj0iMTUwIiB5Mj0iMzA1IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMTUwIiB5PSIzMTMiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGRvbWluYW50LWJhc2VsaW5lPSJoYW5naW5nIiBmaWxsPSIjMzMzMzMzIj5DaXJjbGVzPC90ZXh0PjxsaW5lIHgxPSIyNTAiIHkxPSIzMDAiIHgyPSIyNTAiIHkyPSIzMDUiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIyNTAiIHk9IjMxMyIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZG9taW5hbnQtYmFzZWxpbmU9ImhhbmdpbmciIGZpbGw9IiMzMzMzMzMiPlJlY3RhbmdsZXM8L3RleHQ+PGxpbmUgeDE9IjM1MCIgeTE9IjMwMCIgeDI9IjM1MCIgeTI9IjMwNSIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjM1MCIgeT0iMzEzIiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkb21pbmFudC1iYXNlbGluZT0iaGFuZ2luZyIgZmlsbD0iIzMzMzMzMyI+U3F1YXJlczwvdGV4dD48dGV4dCB4PSIyMDAiIHk9IjM0NyIgZm9udC1zaXplPSIxNiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+PHRzcGFuIHg9IjIwMCIgZHk9IjBlbSI+VHlwZSBvZiBzaGFwZTwvdHNwYW4+PC90ZXh0PjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwLTApIj48cmVjdCB4PSIxMCIgeT0iMTgwIiB3aWR0aD0iODAiIGhlaWdodD0iMTIwIiBmaWxsPSIjNDI4NUY0Ii8+PHJlY3QgeD0iMTEwIiB5PSI2MCIgd2lkdGg9IjgwIiBoZWlnaHQ9IjI0MCIgZmlsbD0iIzQyODVGNCIvPjxyZWN0IHg9IjIxMCIgeT0iMzAiIHdpZHRoPSI4MCIgaGVpZ2h0PSIyNzAiIGZpbGw9IiM0Mjg1RjQiLz48cmVjdCB4PSIzMTAiIHk9IjIxMCIgd2lkdGg9IjgwIiBoZWlnaHQ9IjkwIiBmaWxsPSIjNDI4NUY0Ii8+PC9nPjwvc3ZnPg==" alt="Widget visualization" /></qti-simple-choice>
        </qti-choice-interaction></div>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="A" show-hide="show">
            <qti-content-body><p>Correct! The chosen graph perfectly matches the data provided in the table.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="B" show-hide="show">
            <qti-content-body><p>Not quite. Match the number of shapes from the table to the height of the bar for each shape type.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="C" show-hide="show">
            <qti-content-body><p>Not quite. Match the number of shapes from the table to the height of the bar for each shape type.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="D" show-hide="show">
            <qti-content-body><p>Not quite. Match the number of shapes from the table to the height of the bar for each shape type.</p></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">A</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">A</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">B</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">B</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">C</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">C</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">D</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">D</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if></qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE"/><qti-correct identifier="RESPONSE"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "pencil-length-line-plot-choice" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="pencil-length-line-plot-choice"
    title="Represent Pencil Lengths on a Line Plot"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE" cardinality="single" base-type="identifier">
        <qti-correct-response>
            <qti-value>A</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__RESPONSE" cardinality="single" base-type="identifier"/>
    <qti-item-body>
        <p>The lengths of 4 pencils were measured. The lengths are <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>11</mn><mtext> cm</mtext></math>, <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>8</mn><mtext> cm</mtext></math>, <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>8</mn><mtext> cm</mtext></math>, and <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn><mtext> cm</mtext></math>.</p>
        <div><qti-choice-interaction response-identifier="RESPONSE" shuffle="true" min-choices="1" max-choices="1">
            <qti-prompt>Which line plot correctly shows the length of each pencil?</qti-prompt>
            <qti-simple-choice identifier="A"><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDkwIiBoZWlnaHQ9IjM0MCIgdmlld0JveD0iLTIwIC0yMCA0OTAgMzQwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIj48bGluZSB4MT0iMjAiIHkxPSIyMzgiIHgyPSI0MzAiIHkyPSIyMzgiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iMjAiIHkxPSIyMzMiIHgyPSIyMCIgeTI9IjI0MyIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjIwIiB5PSIyNTgiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjA8L3RleHQ+PGxpbmUgeDE9Ijg4LjMzMzMzMzMzMzMzMzMzIiB5MT0iMjMzIiB4Mj0iODguMzMzMzMzMzMzMzMzMzMiIHkyPSIyNDMiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSI4OC4zMzMzMzMzMzMzMzMzMyIgeT0iMjU4IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzMzMzMzIj4yPC90ZXh0PjxsaW5lIHgxPSIxNTYuNjY2NjY2NjY2NjY2NjYiIHkxPSIyMzMiIHgyPSIxNTYuNjY2NjY2NjY2NjY2NjYiIHkyPSIyNDMiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIxNTYuNjY2NjY2NjY2NjY2NjYiIHk9IjI1OCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+NDwvdGV4dD48bGluZSB4MT0iMjI1IiB5MT0iMjMzIiB4Mj0iMjI1IiB5Mj0iMjQzIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMjI1IiB5PSIyNTgiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjY8L3RleHQ+PGxpbmUgeDE9IjI5My4zMzMzMzMzMzMzMzMzIiB5MT0iMjMzIiB4Mj0iMjkzLjMzMzMzMzMzMzMzMzMiIHkyPSIyNDMiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIyOTMuMzMzMzMzMzMzMzMzMyIgeT0iMjU4IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzMzMzMzIj44PC90ZXh0PjxsaW5lIHgxPSIzNjEuNjY2NjY2NjY2NjY2NjMiIHkxPSIyMzMiIHgyPSIzNjEuNjY2NjY2NjY2NjY2NjMiIHkyPSIyNDMiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIzNjEuNjY2NjY2NjY2NjY2NjMiIHk9IjI1OCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+MTA8L3RleHQ+PGxpbmUgeDE9IjQzMCIgeTE9IjIzMyIgeDI9IjQzMCIgeTI9IjI0MyIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjQzMCIgeT0iMjU4IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzMzMzMzIj4xMjwvdGV4dD48Y2lyY2xlIGN4PSIxMjIuNSIgY3k9IjIyMCIgcj0iOCIgZmlsbD0iIzAwNzRjOCIvPjxjaXJjbGUgY3g9IjI5My4zMzMzMzMzMzMzMzMzIiBjeT0iMjIwIiByPSI4IiBmaWxsPSIjMDA3NGM4Ii8+PGNpcmNsZSBjeD0iMjkzLjMzMzMzMzMzMzMzMzMiIGN5PSIyMDIiIHI9IjgiIGZpbGw9IiMwMDc0YzgiLz48Y2lyY2xlIGN4PSIzOTUuODMzMzMzMzMzMzMzMyIgY3k9IjIyMCIgcj0iOCIgZmlsbD0iIzAwNzRjOCIvPjwvc3ZnPg==" alt="Widget visualization" /></qti-simple-choice>
            <qti-simple-choice identifier="B"><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDkwIiBoZWlnaHQ9IjM0MCIgdmlld0JveD0iLTIwIC0yMCA0OTAgMzQwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIj48bGluZSB4MT0iMjAiIHkxPSIyMzgiIHgyPSI0MzAiIHkyPSIyMzgiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iMjAiIHkxPSIyMzMiIHgyPSIyMCIgeTI9IjI0MyIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjIwIiB5PSIyNTgiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjA8L3RleHQ+PGxpbmUgeDE9Ijg4LjMzMzMzMzMzMzMzMzMzIiB5MT0iMjMzIiB4Mj0iODguMzMzMzMzMzMzMzMzMzMiIHkyPSIyNDMiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSI4OC4zMzMzMzMzMzMzMzMzMyIgeT0iMjU4IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzMzMzMzIj4yPC90ZXh0PjxsaW5lIHgxPSIxNTYuNjY2NjY2NjY2NjY2NjYiIHkxPSIyMzMiIHgyPSIxNTYuNjY2NjY2NjY2NjY2NjYiIHkyPSIyNDMiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIxNTYuNjY2NjY2NjY2NjY2NjYiIHk9IjI1OCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+NDwvdGV4dD48bGluZSB4MT0iMjI1IiB5MT0iMjMzIiB4Mj0iMjI1IiB5Mj0iMjQzIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMjI1IiB5PSIyNTgiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjY8L3RleHQ+PGxpbmUgeDE9IjI5My4zMzMzMzMzMzMzMzMzIiB5MT0iMjMzIiB4Mj0iMjkzLjMzMzMzMzMzMzMzMzMiIHkyPSIyNDMiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIyOTMuMzMzMzMzMzMzMzMzMyIgeT0iMjU4IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzMzMzMzIj44PC90ZXh0PjxsaW5lIHgxPSIzNjEuNjY2NjY2NjY2NjY2NjMiIHkxPSIyMzMiIHgyPSIzNjEuNjY2NjY2NjY2NjY2NjMiIHkyPSIyNDMiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIzNjEuNjY2NjY2NjY2NjY2NjMiIHk9IjI1OCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+MTA8L3RleHQ+PGxpbmUgeDE9IjQzMCIgeTE9IjIzMyIgeDI9IjQzMCIgeTI9IjI0MyIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjQzMCIgeT0iMjU4IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzMzMzMzIj4xMjwvdGV4dD48Y2lyY2xlIGN4PSIxMjIuNSIgY3k9IjIyMCIgcj0iOCIgZmlsbD0iIzAwNzRjOCIvPjxjaXJjbGUgY3g9IjI5My4zMzMzMzMzMzMzMzMzIiBjeT0iMjIwIiByPSI4IiBmaWxsPSIjMDA3NGM4Ii8+PGNpcmNsZSBjeD0iMzk1LjgzMzMzMzMzMzMzMzMiIGN5PSIyMjAiIHI9IjgiIGZpbGw9IiMwMDc0YzgiLz48L3N2Zz4=" alt="Widget visualization" /></qti-simple-choice>
            <qti-simple-choice identifier="C"><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDkwIiBoZWlnaHQ9IjM0MCIgdmlld0JveD0iLTIwIC0yMCA0OTAgMzQwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIj48bGluZSB4MT0iMjAiIHkxPSIyMzgiIHgyPSI0MzAiIHkyPSIyMzgiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iMjAiIHkxPSIyMzMiIHgyPSIyMCIgeTI9IjI0MyIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjIwIiB5PSIyNTgiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjA8L3RleHQ+PGxpbmUgeDE9Ijg4LjMzMzMzMzMzMzMzMzMzIiB5MT0iMjMzIiB4Mj0iODguMzMzMzMzMzMzMzMzMzMiIHkyPSIyNDMiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSI4OC4zMzMzMzMzMzMzMzMzMyIgeT0iMjU4IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzMzMzMzIj4yPC90ZXh0PjxsaW5lIHgxPSIxNTYuNjY2NjY2NjY2NjY2NjYiIHkxPSIyMzMiIHgyPSIxNTYuNjY2NjY2NjY2NjY2NjYiIHkyPSIyNDMiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIxNTYuNjY2NjY2NjY2NjY2NjYiIHk9IjI1OCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+NDwvdGV4dD48bGluZSB4MT0iMjI1IiB5MT0iMjMzIiB4Mj0iMjI1IiB5Mj0iMjQzIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMjI1IiB5PSIyNTgiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjY8L3RleHQ+PGxpbmUgeDE9IjI5My4zMzMzMzMzMzMzMzMzIiB5MT0iMjMzIiB4Mj0iMjkzLjMzMzMzMzMzMzMzMzMiIHkyPSIyNDMiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIyOTMuMzMzMzMzMzMzMzMzMyIgeT0iMjU4IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzMzMzMzIj44PC90ZXh0PjxsaW5lIHgxPSIzNjEuNjY2NjY2NjY2NjY2NjMiIHkxPSIyMzMiIHgyPSIzNjEuNjY2NjY2NjY2NjY2NjMiIHkyPSIyNDMiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIzNjEuNjY2NjY2NjY2NjY2NjMiIHk9IjI1OCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+MTA8L3RleHQ+PGxpbmUgeDE9IjQzMCIgeTE9IjIzMyIgeDI9IjQzMCIgeTI9IjI0MyIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjQzMCIgeT0iMjU4IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzMzMzMzIj4xMjwvdGV4dD48Y2lyY2xlIGN4PSIxNTYuNjY2NjY2NjY2NjY2NjYiIGN5PSIyMjAiIHI9IjgiIGZpbGw9IiMwMDc0YzgiLz48Y2lyY2xlIGN4PSIxNTYuNjY2NjY2NjY2NjY2NjYiIGN5PSIyMDIiIHI9IjgiIGZpbGw9IiMwMDc0YzgiLz48Y2lyY2xlIGN4PSIxNTYuNjY2NjY2NjY2NjY2NjYiIGN5PSIxODQiIHI9IjgiIGZpbGw9IiMwMDc0YzgiLz48Y2lyY2xlIGN4PSIxNTYuNjY2NjY2NjY2NjY2NjYiIGN5PSIxNjYiIHI9IjgiIGZpbGw9IiMwMDc0YzgiLz48L3N2Zz4=" alt="Widget visualization" /></qti-simple-choice>
            <qti-simple-choice identifier="D"><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDkwIiBoZWlnaHQ9IjM0MCIgdmlld0JveD0iLTIwIC0yMCA0OTAgMzQwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIj48bGluZSB4MT0iMjAiIHkxPSIyMzgiIHgyPSI0MzAiIHkyPSIyMzgiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iMjAiIHkxPSIyMzMiIHgyPSIyMCIgeTI9IjI0MyIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjIwIiB5PSIyNTgiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjA8L3RleHQ+PGxpbmUgeDE9Ijg4LjMzMzMzMzMzMzMzMzMzIiB5MT0iMjMzIiB4Mj0iODguMzMzMzMzMzMzMzMzMzMiIHkyPSIyNDMiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSI4OC4zMzMzMzMzMzMzMzMzMyIgeT0iMjU4IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzMzMzMzIj4yPC90ZXh0PjxsaW5lIHgxPSIxNTYuNjY2NjY2NjY2NjY2NjYiIHkxPSIyMzMiIHgyPSIxNTYuNjY2NjY2NjY2NjY2NjYiIHkyPSIyNDMiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIxNTYuNjY2NjY2NjY2NjY2NjYiIHk9IjI1OCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+NDwvdGV4dD48bGluZSB4MT0iMjI1IiB5MT0iMjMzIiB4Mj0iMjI1IiB5Mj0iMjQzIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMjI1IiB5PSIyNTgiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjY8L3RleHQ+PGxpbmUgeDE9IjI5My4zMzMzMzMzMzMzMzMzIiB5MT0iMjMzIiB4Mj0iMjkzLjMzMzMzMzMzMzMzMzMiIHkyPSIyNDMiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIyOTMuMzMzMzMzMzMzMzMzMyIgeT0iMjU4IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzMzMzMzIj44PC90ZXh0PjxsaW5lIHgxPSIzNjEuNjY2NjY2NjY2NjY2NjMiIHkxPSIyMzMiIHgyPSIzNjEuNjY2NjY2NjY2NjY2NjMiIHkyPSIyNDMiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIzNjEuNjY2NjY2NjY2NjY2NjMiIHk9IjI1OCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+MTA8L3RleHQ+PGxpbmUgeDE9IjQzMCIgeTE9IjIzMyIgeDI9IjQzMCIgeTI9IjI0MyIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjQzMCIgeT0iMjU4IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzMzMzMzIj4xMjwvdGV4dD48Y2lyY2xlIGN4PSIxNTYuNjY2NjY2NjY2NjY2NjYiIGN5PSIyMjAiIHI9IjgiIGZpbGw9IiMwMDc0YzgiLz48Y2lyY2xlIGN4PSIzMjcuNSIgY3k9IjIyMCIgcj0iOCIgZmlsbD0iIzAwNzRjOCIvPjxjaXJjbGUgY3g9IjMyNy41IiBjeT0iMjAyIiByPSI4IiBmaWxsPSIjMDA3NGM4Ii8+PGNpcmNsZSBjeD0iNDMwIiBjeT0iMjIwIiByPSI4IiBmaWxsPSIjMDA3NGM4Ii8+PC9zdmc+" alt="Widget visualization" /></qti-simple-choice>
        </qti-choice-interaction></div>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="A" show-hide="show">
            <qti-content-body><p>This plot correctly shows a dot for each of the 4 pencils at its measured length.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="B" show-hide="show">
            <qti-content-body><p>This plot only shows one dot for the length of <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>8</mn><mtext> cm</mtext></math>. Remember, there were two pencils with this length.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="C" show-hide="show">
            <qti-content-body><p>This plot shows four dots above the number <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4</mn></math>. This represents the total number of pencils, not their individual lengths.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="D" show-hide="show">
            <qti-content-body><p>Check the data again carefully to make sure the dots are placed above the correct numbers.</p></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">A</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">A</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">B</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">B</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">C</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">C</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">D</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">D</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if></qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE"/><qti-correct identifier="RESPONSE"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "games-won-barchart" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="games-won-barchart"
    title="Reading a bar chart"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE" cardinality="single" base-type="integer">
        <qti-correct-response>
            <qti-value>14</qti-value>
        </qti-correct-response>
        <qti-mapping default-value="0">
            <qti-map-entry map-key="14" mapped-value="1"/>
        </qti-mapping>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__RESPONSE" cardinality="single" base-type="identifier"/>
    <qti-item-body>
        <p>The Lions, Tigers, and Bears won baseball games last summer.</p>
        <p>This bar graph shows how many games each team won.</p>
        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTY4IiBoZWlnaHQ9IjQyMSIgdmlld0JveD0iLTgwIC05IDU2OCA0MjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiPjxkZWZzPjxjbGlwUGF0aCBpZD0iY2xpcC0wIj48cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iNDgwIiBoZWlnaHQ9IjM0MCIvPjwvY2xpcFBhdGg+PC9kZWZzPjxsaW5lIHgxPSIwIiB5MT0iMCIgeDI9IjAiIHkyPSIzNDAiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iLTUiIHkxPSIzNDAiIHgyPSIwIiB5Mj0iMzQwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iLTgiIHk9IjM0NCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9ImVuZCIgZmlsbD0iIzMzMzMzMyI+MDwvdGV4dD48bGluZSB4MT0iMCIgeTE9IjM0MCIgeDI9IjQ4MCIgeTI9IjM0MCIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48bGluZSB4MT0iLTUiIHkxPSIyOTcuNSIgeDI9IjAiIHkyPSIyOTcuNSIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9Ii04IiB5PSIzMDEuNSIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9ImVuZCIgZmlsbD0iIzMzMzMzMyI+MjwvdGV4dD48bGluZSB4MT0iMCIgeTE9IjI5Ny41IiB4Mj0iNDgwIiB5Mj0iMjk3LjUiIHN0cm9rZT0iI2UwZTBlMCIgc3Ryb2tlLXdpZHRoPSIxIi8+PGxpbmUgeDE9Ii01IiB5MT0iMjU1IiB4Mj0iMCIgeTI9IjI1NSIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9Ii04IiB5PSIyNTkiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJlbmQiIGZpbGw9IiMzMzMzMzMiPjQ8L3RleHQ+PGxpbmUgeDE9IjAiIHkxPSIyNTUiIHgyPSI0ODAiIHkyPSIyNTUiIHN0cm9rZT0iI2UwZTBlMCIgc3Ryb2tlLXdpZHRoPSIxIi8+PGxpbmUgeDE9Ii01IiB5MT0iMjEyLjUiIHgyPSIwIiB5Mj0iMjEyLjUiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSItOCIgeT0iMjE2LjUiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJlbmQiIGZpbGw9IiMzMzMzMzMiPjY8L3RleHQ+PGxpbmUgeDE9IjAiIHkxPSIyMTIuNSIgeDI9IjQ4MCIgeTI9IjIxMi41IiBzdHJva2U9IiNlMGUwZTAiIHN0cm9rZS13aWR0aD0iMSIvPjxsaW5lIHgxPSItNSIgeTE9IjE3MCIgeDI9IjAiIHkyPSIxNzAiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSItOCIgeT0iMTc0IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0iZW5kIiBmaWxsPSIjMzMzMzMzIj44PC90ZXh0PjxsaW5lIHgxPSIwIiB5MT0iMTcwIiB4Mj0iNDgwIiB5Mj0iMTcwIiBzdHJva2U9IiNlMGUwZTAiIHN0cm9rZS13aWR0aD0iMSIvPjxsaW5lIHgxPSItNSIgeTE9IjEyNy41IiB4Mj0iMCIgeTI9IjEyNy41IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iLTgiIHk9IjEzMS41IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0iZW5kIiBmaWxsPSIjMzMzMzMzIj4xMDwvdGV4dD48bGluZSB4MT0iMCIgeTE9IjEyNy41IiB4Mj0iNDgwIiB5Mj0iMTI3LjUiIHN0cm9rZT0iI2UwZTBlMCIgc3Ryb2tlLXdpZHRoPSIxIi8+PGxpbmUgeDE9Ii01IiB5MT0iODUiIHgyPSIwIiB5Mj0iODUiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSItOCIgeT0iODkiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJlbmQiIGZpbGw9IiMzMzMzMzMiPjEyPC90ZXh0PjxsaW5lIHgxPSIwIiB5MT0iODUiIHgyPSI0ODAiIHkyPSI4NSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48bGluZSB4MT0iLTUiIHkxPSI0Mi41IiB4Mj0iMCIgeTI9IjQyLjUiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSItOCIgeT0iNDYuNSIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9ImVuZCIgZmlsbD0iIzMzMzMzMyI+MTQ8L3RleHQ+PGxpbmUgeDE9IjAiIHkxPSI0Mi41IiB4Mj0iNDgwIiB5Mj0iNDIuNSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48bGluZSB4MT0iLTUiIHkxPSIwIiB4Mj0iMCIgeTI9IjAiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSItOCIgeT0iNCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9ImVuZCIgZmlsbD0iIzMzMzMzMyI+MTY8L3RleHQ+PGxpbmUgeDE9IjAiIHkxPSIwIiB4Mj0iNDgwIiB5Mj0iMCIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48dGV4dCB4PSItNjEuNiIgeT0iMTcwIiBmb250LXNpemU9IjE2IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzMzMzMzIiBkb21pbmFudC1iYXNlbGluZT0ibWlkZGxlIiB0cmFuc2Zvcm09InJvdGF0ZSgtOTAsIC02MS42LCAxNzApIj48dHNwYW4geD0iLTYxLjYiIGR5PSIwZW0iPkdhbWVzIFdvbjwvdHNwYW4+PC90ZXh0PjxsaW5lIHgxPSIwIiB5MT0iMzQwIiB4Mj0iNDgwIiB5Mj0iMzQwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjgwIiB5MT0iMzQwIiB4Mj0iODAiIHkyPSIzNDUiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSI4MCIgeT0iMzUzIiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkb21pbmFudC1iYXNlbGluZT0iaGFuZ2luZyIgZmlsbD0iIzMzMzMzMyI+TGlvbnM8L3RleHQ+PGxpbmUgeDE9IjI0MCIgeTE9IjM0MCIgeDI9IjI0MCIgeTI9IjM0NSIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjI0MCIgeT0iMzUzIiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkb21pbmFudC1iYXNlbGluZT0iaGFuZ2luZyIgZmlsbD0iIzMzMzMzMyI+VGlnZXJzPC90ZXh0PjxsaW5lIHgxPSI0MDAiIHkxPSIzNDAiIHgyPSI0MDAiIHkyPSIzNDUiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSI0MDAiIHk9IjM1MyIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZG9taW5hbnQtYmFzZWxpbmU9ImhhbmdpbmciIGZpbGw9IiMzMzMzMzMiPkJlYXJzPC90ZXh0Pjx0ZXh0IHg9IjI0MCIgeT0iMzg3IiBmb250LXNpemU9IjE2IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzMzMzMzIj48dHNwYW4geD0iMjQwIiBkeT0iMGVtIj5UZWFtPC90c3Bhbj48L3RleHQ+PGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAtMCkiPjxyZWN0IHg9IjE2IiB5PSI0Mi41IiB3aWR0aD0iMTI4IiBoZWlnaHQ9IjI5Ny41IiBmaWxsPSIjNDI4NUY0Ii8+PHJlY3QgeD0iMTc2IiB5PSIyOTcuNSIgd2lkdGg9IjEyOCIgaGVpZ2h0PSI0Mi41IiBmaWxsPSIjNDI4NUY0Ii8+PHJlY3QgeD0iMzM2IiB5PSIxOTEuMjUiIHdpZHRoPSIxMjgiIGhlaWdodD0iMTQ4Ljc1IiBmaWxsPSIjNDI4NUY0Ii8+PC9nPjwvc3ZnPg==" alt="Widget visualization" />
        <p>How many games did the Lions win? <qti-text-entry-interaction response-identifier="RESPONSE" expected-length="3"/></p>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="CORRECT" show-hide="show">
            <qti-content-body><p>Perfect! You correctly read that the Lions won <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>14</mn></math> games by looking at where their bar reaches on the vertical axis.</p>
        <p>You demonstrated excellent bar chart reading skills! You found the Lions bar and traced it up to see that it reaches the <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>14</mn></math> mark on the "Games Won" axis.</p>
        <p>Bar charts are everywhere in real life - sports statistics, sales reports, weather data, and survey results. This skill will help you interpret data throughout your life!</p>
        <p>Fun fact: The Lions won <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>7</mn></math> times more games than the Tigers and exactly <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math> times more than the Bears!</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="INCORRECT" show-hide="show">
            <qti-content-body><p>Let's read this bar chart together step by step! Bar charts show data by the height of each bar.</p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math>: Find the Lions bar. Look along the bottom (x-axis) for "Lions" and find their bar.</p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math>: Follow the top of the Lions bar horizontally to the left until you reach the vertical axis (y-axis).</p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math>: Read the number where the bar height meets the "Games Won" axis. This should be <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>14</mn></math>.</p>
        <table><thead><tr><th>Step</th><th>What to Do</th></tr></thead><tbody><tr><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></td><td>Find the bar for your team</td></tr><tr><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math></td><td>Look at the top of the bar</td></tr><tr><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math></td><td>Trace horizontally to the y-axis</td></tr><tr><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4</mn></math></td><td>Read the number value</td></tr></tbody></table>
        <p>Memory tip: Always trace from the data to the axis - don't guess by eye!</p></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        
    <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-correct identifier="RESPONSE"/>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">CORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE"/><qti-correct identifier="RESPONSE"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "doll-height-line-plot" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="doll-height-line-plot"
    title="Interpreting a line plot"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE" cardinality="single" base-type="integer">
        <qti-correct-response>
            <qti-value>5</qti-value>
        </qti-correct-response>
        <qti-mapping default-value="0">
            <qti-map-entry map-key="5" mapped-value="1"/>
        </qti-mapping>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__RESPONSE" cardinality="single" base-type="identifier"/>
    <qti-item-body>
        <p>The heights of Sabrina's dolls are shown below.</p>
        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzkwIiBoZWlnaHQ9IjM0MCIgdmlld0JveD0iLTIwIC0yMCAzOTAgMzQwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIj48bGluZSB4MT0iMjAiIHkxPSIyMzgiIHgyPSIzMzAiIHkyPSIyMzgiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIxNzUiIHk9IjI4NCIgZm9udC1zaXplPSIxNCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+RG9sbCBIZWlnaHQgKGNlbnRpbWV0ZXJzKTwvdGV4dD48bGluZSB4MT0iMjAiIHkxPSIyMzMiIHgyPSIyMCIgeTI9IjI0MyIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjIwIiB5PSIyNTgiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjIwPC90ZXh0PjxsaW5lIHgxPSI4MiIgeTE9IjIzMyIgeDI9IjgyIiB5Mj0iMjQzIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iODIiIHk9IjI1OCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+MjE8L3RleHQ+PGxpbmUgeDE9IjE0NCIgeTE9IjIzMyIgeDI9IjE0NCIgeTI9IjI0MyIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjE0NCIgeT0iMjU4IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzMzMzMzIj4yMjwvdGV4dD48bGluZSB4MT0iMjA2IiB5MT0iMjMzIiB4Mj0iMjA2IiB5Mj0iMjQzIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMjA2IiB5PSIyNTgiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjIzPC90ZXh0PjxsaW5lIHgxPSIyNjgiIHkxPSIyMzMiIHgyPSIyNjgiIHkyPSIyNDMiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIyNjgiIHk9IjI1OCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+MjQ8L3RleHQ+PGxpbmUgeDE9IjMzMCIgeTE9IjIzMyIgeDI9IjMzMCIgeTI9IjI0MyIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjMzMCIgeT0iMjU4IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzMzMzMzIj4yNTwvdGV4dD48Y2lyY2xlIGN4PSI4MiIgY3k9IjIyMiIgcj0iNiIgZmlsbD0iIzMzMzMzMyIvPjxjaXJjbGUgY3g9IjE0NCIgY3k9IjIyMiIgcj0iNiIgZmlsbD0iIzMzMzMzMyIvPjxjaXJjbGUgY3g9IjE0NCIgY3k9IjIwOCIgcj0iNiIgZmlsbD0iIzMzMzMzMyIvPjxjaXJjbGUgY3g9IjIwNiIgY3k9IjIyMiIgcj0iNiIgZmlsbD0iIzMzMzMzMyIvPjxjaXJjbGUgY3g9IjIwNiIgY3k9IjIwOCIgcj0iNiIgZmlsbD0iIzMzMzMzMyIvPjxjaXJjbGUgY3g9IjIwNiIgY3k9IjE5NCIgcj0iNiIgZmlsbD0iIzMzMzMzMyIvPjxjaXJjbGUgY3g9IjI2OCIgY3k9IjIyMiIgcj0iNiIgZmlsbD0iIzMzMzMzMyIvPjxjaXJjbGUgY3g9IjI2OCIgY3k9IjIwOCIgcj0iNiIgZmlsbD0iIzMzMzMzMyIvPjwvc3ZnPg==" alt="Widget visualization" />
        <p>How many dolls are taller than <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>22</mn></math> centimeters? <qti-text-entry-interaction response-identifier="RESPONSE" expected-length="3"/></p>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="CORRECT" show-hide="show">
            <qti-content-body><p>Excellent work! You correctly found that <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5</mn></math> dolls are taller than <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>22</mn><mtext> cm</mtext></math>.</p>
        <p>You demonstrated great understanding of how to read dot plots! You correctly identified that "taller than <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>22</mn></math> cm" means looking at positions <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>23</mn></math> and <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>24</mn></math> cm.</p>
        <p>Your counting was perfect: <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math> dots at <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>23</mn></math> cm + <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math> dots at <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>24</mn></math> cm = <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5</mn></math> dolls total.</p>
        <p>This skill of reading data from dot plots is essential for understanding surveys, scientific data, and statistical analysis!</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="INCORRECT" show-hide="show">
            <qti-content-body><p>Let's read this dot plot together step by step! Dot plots can be tricky, but there's a clear method.</p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math>: Understand what "taller than <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>22</mn></math> cm" means. This means heights greater than <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>22</mn></math>, so we look at <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>23</mn></math> cm and <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>24</mn></math> cm.</p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math>: Count dots at each position:</p>
        <p>• At <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>23</mn></math> cm: <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math> dots (count them vertically!)</p>
        <p>• At <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>24</mn></math> cm: <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math> dots</p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math>: Add them up: <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn><mo>+</mo><mn>2</mn><mo>=</mo><mn>5</mn></math> dolls are taller than <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>22</mn></math> cm.</p>
        <table><thead><tr><th>Height (cm)</th><th>Number of Dots</th><th>Taller than 22?</th></tr></thead><tbody><tr><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>21</mn></math></td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></td><td>No</td></tr><tr><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>22</mn></math></td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math></td><td>No</td></tr><tr><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>23</mn></math></td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math></td><td>Yes</td></tr><tr><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>24</mn></math></td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math></td><td>Yes</td></tr></tbody></table></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        
    <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-correct identifier="RESPONSE"/>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">CORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE"/><qti-correct identifier="RESPONSE"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "compare-2-digit-numbers" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="compare-2-digit-numbers"
    title="Compare 2-digit numbers"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE" cardinality="single" base-type="identifier">
        <qti-correct-response>
            <qti-value>GT</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__RESPONSE" cardinality="single" base-type="identifier"/>
    <qti-item-body>
        <p>Compare using &gt;, &lt;, or =.</p>
        <p><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>83</mn></math> <qti-inline-choice-interaction response-identifier="RESPONSE" shuffle="true">
                <qti-inline-choice identifier="GT"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></qti-inline-choice>
                <qti-inline-choice identifier="LT"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&lt;</mo></math></qti-inline-choice>
                <qti-inline-choice identifier="EQ"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>=</mo></math></qti-inline-choice>
            </qti-inline-choice-interaction> <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>58</mn></math></p>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="GT" show-hide="show">
            <qti-content-body><p>Excellent work! You correctly identified that <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>83</mn></math> is greater than <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>58</mn></math>, so the correct symbol is <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math>.</p>
        <p>You used place value thinking perfectly! <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>83</mn></math> has <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>8</mn></math> tens, while <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>58</mn></math> has only <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5</mn></math> tens, making <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>83</mn></math> the larger number.</p>
        <p>The &gt; symbol always "points" toward the smaller number, like an arrow showing which way to go!</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="LT" show-hide="show">
            <qti-content-body><p>Let's compare these numbers using place value! This is a systematic way to never make mistakes.</p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math>: Compare the tens place first. <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>83</mn></math> has <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>8</mn></math> tens, <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>58</mn></math> has <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5</mn></math> tens.</p>
        <p>Since <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>8</mn></math> &gt; <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5</mn></math>, we know <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>83</mn></math> &gt; <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>58</mn></math> without even looking at the ones place!</p>
        <p>The correct comparison is <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>83</mn><mo>&gt;</mo><mn>58</mn></math> (not <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>83</mn><mo>&lt;</mo><mn>58</mn></math>).</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="EQ" show-hide="show">
            <qti-content-body><p>These numbers look similar, but they're not equal! Let's examine them digit by digit.</p>
        <p>Breaking down the numbers:</p>
        <p>• <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>83</mn></math> = <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>8</mn></math> tens + <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math> ones</p>
        <p>• <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>58</mn></math> = <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5</mn></math> tens + <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>8</mn></math> ones</p>
        <p>Since <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>8</mn></math> tens ≠ <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5</mn></math> tens, these numbers are not equal. The correct comparison is <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>83</mn><mo>&gt;</mo><mn>58</mn></math>.</p></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">GT</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">GT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">LT</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">LT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">EQ</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">EQ</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if></qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE"/><qti-correct identifier="RESPONSE"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "three-data-tables-mc" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="three-data-tables-mc"
    title="Read three different tables and answer three questions"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE_Q1" cardinality="single" base-type="identifier">
        <qti-correct-response>
            <qti-value>B</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-response-declaration identifier="RESPONSE_Q2" cardinality="single" base-type="identifier">
        <qti-correct-response>
            <qti-value>C</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-response-declaration identifier="RESPONSE_Q3" cardinality="single" base-type="identifier">
        <qti-correct-response>
            <qti-value>C</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__RESPONSE_Q1" cardinality="single" base-type="identifier"/>
    <qti-outcome-declaration identifier="FEEDBACK__RESPONSE_Q2" cardinality="single" base-type="identifier"/>
    <qti-outcome-declaration identifier="FEEDBACK__RESPONSE_Q3" cardinality="single" base-type="identifier"/>
    <qti-item-body>
        <p>For each table, answer the multiple choice question that follows.</p>
        <table><thead><tr><th>Fruit</th><th>Count</th></tr></thead><tbody><tr><td>Apples</td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>12</mn></math></td></tr><tr><td>Bananas</td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>8</mn></math></td></tr><tr><td>Cherries</td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4</mn></math></td></tr></tbody></table>
        <div><qti-choice-interaction response-identifier="RESPONSE_Q1" shuffle="true" min-choices="1" max-choices="1">
            <qti-prompt>Which fruit had the highest count?</qti-prompt>
            <qti-simple-choice identifier="A"><p>Apples</p></qti-simple-choice>
            <qti-simple-choice identifier="B"><p>Bananas</p></qti-simple-choice>
            <qti-simple-choice identifier="C"><p>Cherries</p></qti-simple-choice>
        </qti-choice-interaction></div>
        <table><thead><tr><th>City</th><th>Temperature (°F)</th></tr></thead><tbody><tr><td>Springfield</td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>72</mn></math></td></tr><tr><td>Riverton</td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>65</mn></math></td></tr><tr><td>Lakeside</td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>80</mn></math></td></tr></tbody></table>
        <div><qti-choice-interaction response-identifier="RESPONSE_Q2" shuffle="true" min-choices="1" max-choices="1">
            <qti-prompt>Which city had the lowest temperature?</qti-prompt>
            <qti-simple-choice identifier="A"><p>Springfield</p></qti-simple-choice>
            <qti-simple-choice identifier="B"><p>Riverton</p></qti-simple-choice>
            <qti-simple-choice identifier="C"><p>Lakeside</p></qti-simple-choice>
        </qti-choice-interaction></div>
        <table><thead><tr><th>Subject</th><th>Minutes studied</th></tr></thead><tbody><tr><td>Math</td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>45</mn></math></td></tr><tr><td>Science</td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>30</mn></math></td></tr><tr><td>History</td><td><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>15</mn></math></td></tr></tbody></table>
        <div><qti-choice-interaction response-identifier="RESPONSE_Q3" shuffle="true" min-choices="1" max-choices="1">
            <qti-prompt>Which subject shows 30 minutes studied?</qti-prompt>
            <qti-simple-choice identifier="A"><p>Math</p></qti-simple-choice>
            <qti-simple-choice identifier="B"><p>Science</p></qti-simple-choice>
            <qti-simple-choice identifier="C"><p>History</p></qti-simple-choice>
        </qti-choice-interaction></div>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE_Q1" identifier="A" show-hide="show">
            <qti-content-body><p>Let's look at the fruit table together! Reading data tables requires careful attention to both the labels and numbers.</p>
        <p>Looking at the counts: Apples = <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>12</mn></math>, Bananas = <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>8</mn></math>, Cherries = <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4</mn></math>. The highest count is <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>12</mn></math> (Apples), not <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>8</mn></math> (Bananas).</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE_Q1" identifier="B" show-hide="show">
            <qti-content-body><p>Excellent! You correctly identified that Apples had the highest count with <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>12</mn></math> fruits.</p>
        <p>You compared all three values (<math xmlns="http://www.w3.org/1998/Math/MathML"><mn>12</mn></math>, <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>8</mn></math>, <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4</mn></math>) and correctly identified the maximum. This is exactly how data analysis works!</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE_Q1" identifier="C" show-hide="show">
            <qti-content-body><p>Let's examine the fruit counts more carefully! Cherries had <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4</mn></math> fruits, but that's actually the lowest count, not the highest.</p>
        <p>Compare all three: Apples = <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>12</mn></math>, Bananas = <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>8</mn></math>, Cherries = <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4</mn></math>. The highest is <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>12</mn></math> (Apples).</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE_Q2" identifier="A" show-hide="show">
            <qti-content-body><p>Springfield had <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>72</mn></math>°F, but that's not the lowest temperature. Let's compare all three cities systematically.</p>
        <p>Springfield: <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>72</mn></math>°F, Riverton: <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>65</mn></math>°F, Lakeside: <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>80</mn></math>°F. The lowest is <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>65</mn></math>°F (Riverton).</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE_Q2" identifier="B" show-hide="show">
            <qti-content-body><p>Perfect! Riverton had the lowest temperature at <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>65</mn></math>°F.</p>
        <p>You correctly compared all three temperatures and identified the minimum value. This is exactly how meteorologists analyze weather data!</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE_Q2" identifier="C" show-hide="show">
            <qti-content-body><p>Lakeside had <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>80</mn></math>°F, which is actually the highest temperature, not the lowest!</p>
        <p>When finding the lowest value, look for the smallest number: <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>65</mn></math> &lt; <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>72</mn></math> &lt; <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>80</mn></math>. So Riverton (<math xmlns="http://www.w3.org/1998/Math/MathML"><mn>65</mn></math>°F) had the lowest temperature.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE_Q3" identifier="A" show-hide="show">
            <qti-content-body><p>Math shows <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>45</mn></math> minutes studied, but we're looking for exactly <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>30</mn></math> minutes.</p>
        <p>Check the minutes column carefully: Math = <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>45</mn></math>, Science = <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>30</mn></math>, History = <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>15</mn></math>. Science has exactly <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>30</mn></math> minutes.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE_Q3" identifier="B" show-hide="show">
            <qti-content-body><p>Excellent! Science shows exactly <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>30</mn></math> minutes studied.</p>
        <p>You successfully found the exact match in the data table. This precision in reading tables is essential for research, budgeting, and data analysis!</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE_Q3" identifier="C" show-hide="show">
            <qti-content-body><p>History shows <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>15</mn></math> minutes, which is half of the <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>30</mn></math> minutes we're looking for.</p>
        <p>Look at the minutes column: Math = <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>45</mn></math>, Science = <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>30</mn></math>, History = <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>15</mn></math>. Science has exactly <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>30</mn></math> minutes.</p></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_Q1"/>
                <qti-base-value base-type="identifier">A</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE_Q1">
                <qti-base-value base-type="identifier">A</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_Q1"/>
                <qti-base-value base-type="identifier">B</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE_Q1">
                <qti-base-value base-type="identifier">B</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_Q1"/>
                <qti-base-value base-type="identifier">C</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE_Q1">
                <qti-base-value base-type="identifier">C</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if></qti-response-condition>
<qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_Q2"/>
                <qti-base-value base-type="identifier">A</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE_Q2">
                <qti-base-value base-type="identifier">A</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_Q2"/>
                <qti-base-value base-type="identifier">B</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE_Q2">
                <qti-base-value base-type="identifier">B</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_Q2"/>
                <qti-base-value base-type="identifier">C</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE_Q2">
                <qti-base-value base-type="identifier">C</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if></qti-response-condition>
<qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_Q3"/>
                <qti-base-value base-type="identifier">A</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE_Q3">
                <qti-base-value base-type="identifier">A</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_Q3"/>
                <qti-base-value base-type="identifier">B</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE_Q3">
                <qti-base-value base-type="identifier">B</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_Q3"/>
                <qti-base-value base-type="identifier">C</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE_Q3">
                <qti-base-value base-type="identifier">C</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if></qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE_Q1"/><qti-correct identifier="RESPONSE_Q1"/></qti-match>
                        <qti-match><qti-variable identifier="RESPONSE_Q2"/><qti-correct identifier="RESPONSE_Q2"/></qti-match>
                        <qti-match><qti-variable identifier="RESPONSE_Q3"/><qti-correct identifier="RESPONSE_Q3"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "compare-negative-decimal-vs-root-inline-choice" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="compare-negative-decimal-vs-root-inline-choice"
    title="Compare a decimal and a square root"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE" cardinality="single" base-type="identifier">
        <qti-correct-response>
            <qti-value>GT</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__RESPONSE" cardinality="single" base-type="identifier"/>
    <qti-item-body>
        <p>Compare.</p>
        <p><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>4.1</mn></math> <qti-inline-choice-interaction response-identifier="RESPONSE" shuffle="true">
                <qti-inline-choice identifier="LT">&lt;</qti-inline-choice>
                <qti-inline-choice identifier="GT">&gt;</qti-inline-choice>
                <qti-inline-choice identifier="EQ">=</qti-inline-choice>
            </qti-inline-choice-interaction> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><msqrt><mn>20</mn></msqrt></math></p>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="GT" show-hide="show">
            <qti-content-body><p>Excellent work! You correctly determined that <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>4.1</mn></math> is greater than <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><msqrt><mn>20</mn></msqrt></math>.</p>
        <p>You understood that <math xmlns="http://www.w3.org/1998/Math/MathML"><msqrt><mn>20</mn></msqrt><mo>≈</mo><mn>4.47</mn></math>, so <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><msqrt><mn>20</mn></msqrt><mo>≈</mo><mo>-</mo><mn>4.47</mn></math>. Since <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>4.1</mn></math> is closer to zero than <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>4.47</mn></math>, it's the greater value.</p>
        <p>This shows excellent understanding of both square roots and negative number comparison - advanced mathematical thinking!</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="LT" show-hide="show">
            <qti-content-body><p>I can see why this is tricky! Comparing negative numbers with square roots involves multiple steps.</p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math>: Estimate <math xmlns="http://www.w3.org/1998/Math/MathML"><msqrt><mn>20</mn></msqrt></math>. Since <math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>4</mn><mn>2</mn></msup><mo>=</mo><mn>16</mn></math> and <math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>5</mn><mn>2</mn></msup><mo>=</mo><mn>25</mn></math>, we know <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4</mn><mo>&lt;</mo><msqrt><mn>20</mn></msqrt><mo>&lt;</mo><mn>5</mn></math>. More precisely, <math xmlns="http://www.w3.org/1998/Math/MathML"><msqrt><mn>20</mn></msqrt><mo>≈</mo><mn>4.47</mn></math>.</p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math>: Apply the negative sign: <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><msqrt><mn>20</mn></msqrt><mo>≈</mo><mo>-</mo><mn>4.47</mn></math></p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math>: Compare: <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>4.1</mn></math> vs <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>4.47</mn></math>. Since <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>4.1</mn></math> is closer to zero, <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>4.1</mn><mo>&gt;</mo><mo>-</mo><mn>4.47</mn></math>.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="EQ" show-hide="show">
            <qti-content-body><p>These values are close but not equal! Let's calculate to see the difference.</p>
        <p>First, let's find <math xmlns="http://www.w3.org/1998/Math/MathML"><msqrt><mn>20</mn></msqrt></math>. Since <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>20</mn></math> is between <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>16</mn></math> and <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>25</mn></math>, <math xmlns="http://www.w3.org/1998/Math/MathML"><msqrt><mn>20</mn></msqrt></math> is between <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4</mn></math> and <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5</mn></math>. More precisely, <math xmlns="http://www.w3.org/1998/Math/MathML"><msqrt><mn>20</mn></msqrt><mo>≈</mo><mn>4.47</mn></math>.</p>
        <p>So we're comparing <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>4.1</mn></math> and <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>4.47</mn></math>. Since <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>4.1</mn></math> is closer to zero, <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>4.1</mn><mo>&gt;</mo><mo>-</mo><mn>4.47</mn></math>.</p></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">LT</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">LT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">GT</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">GT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">EQ</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">EQ</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if></qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE"/><qti-correct identifier="RESPONSE"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;
