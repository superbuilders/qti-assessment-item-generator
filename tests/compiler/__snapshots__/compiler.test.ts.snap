// Bun Snapshot v1, https://bun.sh/docs/test/snapshots

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "probability-not-purple-spinner" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="probability-not-purple-spinner"
    title="Probability of not purple on a spinner"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE" cardinality="single" base-type="string">
        <qti-correct-response>
            <qti-value>3/4</qti-value>
        </qti-correct-response>
        <qti-mapping default-value="0">
            <qti-map-entry map-key="3/4" mapped-value="1"/>
        </qti-mapping>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__GLOBAL" cardinality="single" base-type="identifier"/>
    <qti-item-body>
        <p>You spin the spinner shown below once. The spinner has <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4</mn></math> equal sectors colored pink, purple, blue, and green.</p>
        <p>What is <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>P</mi><mo>(</mo><mtext>not purple</mtext><mo>)</mo></math>?</p>
        <p>If necessary, round your answer to <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math> decimal places.</p>
        <p>Answer: <qti-text-entry-interaction response-identifier="RESPONSE" expected-length="4"/></p>
        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzQ3IiBoZWlnaHQ9IjM0MCIgdmlld0JveD0iLTIwIC0yMCAzNDcgMzQwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIj48ZGVmcz48c3R5bGU+LnRpdGxlIHsgZm9udC1zaXplOiAxNnB4OyBmb250LXdlaWdodDogYm9sZDsgdGV4dC1hbmNob3I6IG1pZGRsZTsgfTwvc3R5bGU+PC9kZWZzPjxwYXRoIGQ9Ik0gMTUwIDE1MCBMIDE1MCAyMCBBIDEzMCAxMzAgMCAwIDEgMjgwIDE1MCBaIiBmaWxsPSIjMjhhZTdiIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHBhdGggZD0iTSAxNTAgMTUwIEwgMjgwIDE1MCBBIDEzMCAxMzAgMCAwIDEgMTUwIDI4MCBaIiBmaWxsPSIjNjQ5NWVkIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHBhdGggZD0iTSAxNTAgMTUwIEwgMTUwIDI4MCBBIDEzMCAxMzAgMCAwIDEgMjAgMTUwLjAwMDAwMDAwMDAwMDAzIFoiIGZpbGw9IiM5ZDM4YmQiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48cGF0aCBkPSJNIDE1MCAxNTAgTCAyMCAxNTAuMDAwMDAwMDAwMDAwMDMgQSAxMzAgMTMwIDAgMCAxIDE0OS45OTk5OTk5OTk5OTk5NyAyMCBaIiBmaWxsPSIjZmYwMGFmIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGcgdHJhbnNmb3JtPSJyb3RhdGUoODAsIDE1MCwgMTUwKSI+PHBvbHlnb24gcG9pbnRzPSIxNTAsMTQ0IDI5NCwxNDQgMjk0LDEzOCAzMDYsMTUwIDI5NCwxNjIgMjk0LDE1NiAxNTAsMTU2IiBmaWxsPSIjNTU1NTU1IiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMSIvPjwvZz48Y2lyY2xlIGN4PSIxNTAiIGN5PSIxNTAiIHI9IjEyIiBmaWxsPSIjZmFmYWZhIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMiIvPjwvc3ZnPg==" alt="Widget visualization" />
        <qti-feedback-block outcome-identifier="FEEDBACK__GLOBAL" identifier="CORRECT" show-hide="show">
            <qti-content-body><p>Excellent work! You correctly found that the probability of not landing on purple is <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>3</mn><mn>4</mn></mfrac></math> = <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0.75</mn></math> (or <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>75</mn><mo>%</mo></math>).</p>
        <p>You understood that "not purple" means any of the other <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math> colors: pink, blue, or green. Since each sector is equally likely, we count favorable outcomes over total outcomes.</p>
        <p>This is called complementary probability. Instead of finding P(purple) = <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>1</mn><mn>4</mn></mfrac></math> and then subtracting from <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math>, you directly counted the <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math> non-purple sectors!</p>
        <p>Real-world connection: This same thinking applies to any situation where you want the opposite of an event - like the probability of NOT raining, or NOT getting a specific card from a deck.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__GLOBAL" identifier="INCORRECT" show-hide="show">
            <qti-content-body><p>Let's work through this step by step! Probability questions can be tricky, but there's a clear method.</p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math>: Count the total number of equally likely outcomes. The spinner has <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4</mn></math> equal sectors.</p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math>: Count the favorable outcomes. "Not purple" means any sector except purple, so that's <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math> sectors (pink, blue, and green).</p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math>: Calculate probability = <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mtext>favorable outcomes</mtext><mtext>total outcomes</mtext></mfrac></math> = <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>3</mn><mn>4</mn></mfrac></math></p>
        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDI0IiBoZWlnaHQ9IjMyNCIgdmlld0JveD0iLTEyIC0xMiA0MjQgMzI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0Ij48cmVjdCB4PSI2IiB5PSIzNCIgd2lkdGg9IjM4OCIgaGVpZ2h0PSIyNjAiIGZpbGw9IiNmYWZhZmEiIHN0cm9rZT0iI2UwZTBlMCIgc3Ryb2tlLXdpZHRoPSIyIi8+PHRleHQgeD0iMjAwIiB5PSIyMCIgZm9udC1zaXplPSIxMy4yMDAwMDAwMDAwMDAwMDEiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjx0c3BhbiB4PSIyMDAiIGR5PSIwZW0iPlByb2JhYmlsaXR5IFZpc3VhbGl6YXRpb248L3RzcGFuPjwvdGV4dD48dGV4dCB4PSI2MCIgeT0iODYiIGZvbnQtc2l6ZT0iODIuOCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZG9taW5hbnQtYmFzZWxpbmU9Im1pZGRsZSI+4pyFPC90ZXh0Pjx0ZXh0IHg9IjE4NCIgeT0iODYiIGZvbnQtc2l6ZT0iODIuOCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZG9taW5hbnQtYmFzZWxpbmU9Im1pZGRsZSI+4pyFPC90ZXh0Pjx0ZXh0IHg9IjMwOCIgeT0iODYiIGZvbnQtc2l6ZT0iODIuOCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZG9taW5hbnQtYmFzZWxpbmU9Im1pZGRsZSI+4pyFPC90ZXh0Pjx0ZXh0IHg9IjE4NCIgeT0iMjEwIiBmb250LXNpemU9IjgyLjgiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGRvbWluYW50LWJhc2VsaW5lPSJtaWRkbGUiPuKdjDwvdGV4dD48L3N2Zz4=" alt="Widget visualization" />
        <p>Memory tip: When you see "not" in a probability question, count everything EXCEPT that outcome!</p></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        
    <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-correct identifier="RESPONSE"/>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">CORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE"/><qti-correct identifier="RESPONSE"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "linear-model-equation-prediction" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="linear-model-equation-prediction"
    title="Select a linear model from a scatterplot and make a prediction"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE_CHOICE" cardinality="single" base-type="identifier">
        <qti-correct-response>
            <qti-value>A</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-response-declaration identifier="RESPONSE_TEXT" cardinality="single" base-type="string">
        <qti-correct-response>
            <qti-value>27/2</qti-value>
        </qti-correct-response>
        <qti-mapping default-value="0">
            <qti-map-entry map-key="27/2" mapped-value="1"/>
        </qti-mapping>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__RESPONSE_CHOICE" cardinality="single" base-type="identifier"/>
    <qti-outcome-declaration identifier="FEEDBACK__GLOBAL" cardinality="single" base-type="identifier"/>
    <qti-item-body>
        <p>Daniel wants to predict how far he can hike based on the time he spends on the hike. He collected some data on the time (in hours) and distance (in kilometers) of some of his previous hikes. A line was fit to the data to model the relationship.</p>
        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzk1IiBoZWlnaHQ9IjM3OSIgdmlld0JveD0iLTggLTggMzk1IDM3OSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiI+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLTAiPjxyZWN0IHg9IjY2LjQiIHk9IjU2LjU5OTk5OTk5OTk5OTk5NCIgd2lkdGg9IjI3Mi42IiBoZWlnaHQ9IjI1Ny40Ii8+PC9jbGlwUGF0aD48L2RlZnM+PHRleHQgeD0iMjAyLjcwMDAwMDAwMDAwMDAyIiB5PSIyMCIgZm9udC1zaXplPSIxOCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+PHRzcGFuIHg9IjIwMi43MDAwMDAwMDAwMDAwMiIgZHk9IjBlbSI+VGltZSB2cyBkaXN0YW5jZSBtb2RlbDwvdHNwYW4+PC90ZXh0PjxsaW5lIHgxPSI5My42NjAwMDAwMDAwMDAwMSIgeTE9IjU2LjU5OTk5OTk5OTk5OTk5NCIgeDI9IjkzLjY2MDAwMDAwMDAwMDAxIiB5Mj0iMzE0IiBzdHJva2U9IiNlMGUwZTAiIHN0cm9rZS13aWR0aD0iMSIvPjxsaW5lIHgxPSIxMjAuOTIwMDAwMDAwMDAwMDIiIHkxPSI1Ni41OTk5OTk5OTk5OTk5OTQiIHgyPSIxMjAuOTIwMDAwMDAwMDAwMDIiIHkyPSIzMTQiIHN0cm9rZT0iI2UwZTBlMCIgc3Ryb2tlLXdpZHRoPSIxIi8+PGxpbmUgeDE9IjE0OC4xOCIgeTE9IjU2LjU5OTk5OTk5OTk5OTk5NCIgeDI9IjE0OC4xOCIgeTI9IjMxNCIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48bGluZSB4MT0iMTc1LjQ0IiB5MT0iNTYuNTk5OTk5OTk5OTk5OTk0IiB4Mj0iMTc1LjQ0IiB5Mj0iMzE0IiBzdHJva2U9IiNlMGUwZTAiIHN0cm9rZS13aWR0aD0iMSIvPjxsaW5lIHgxPSIyMDIuNzAwMDAwMDAwMDAwMDIiIHkxPSI1Ni41OTk5OTk5OTk5OTk5OTQiIHgyPSIyMDIuNzAwMDAwMDAwMDAwMDIiIHkyPSIzMTQiIHN0cm9rZT0iI2UwZTBlMCIgc3Ryb2tlLXdpZHRoPSIxIi8+PGxpbmUgeDE9IjIyOS45NiIgeTE9IjU2LjU5OTk5OTk5OTk5OTk5NCIgeDI9IjIyOS45NiIgeTI9IjMxNCIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48bGluZSB4MT0iMjU3LjIyIiB5MT0iNTYuNTk5OTk5OTk5OTk5OTk0IiB4Mj0iMjU3LjIyIiB5Mj0iMzE0IiBzdHJva2U9IiNlMGUwZTAiIHN0cm9rZS13aWR0aD0iMSIvPjxsaW5lIHgxPSIyODQuNDgiIHkxPSI1Ni41OTk5OTk5OTk5OTk5OTQiIHgyPSIyODQuNDgiIHkyPSIzMTQiIHN0cm9rZT0iI2UwZTBlMCIgc3Ryb2tlLXdpZHRoPSIxIi8+PGxpbmUgeDE9IjMxMS43NCIgeTE9IjU2LjU5OTk5OTk5OTk5OTk5NCIgeDI9IjMxMS43NCIgeTI9IjMxNCIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48bGluZSB4MT0iMzM5IiB5MT0iNTYuNTk5OTk5OTk5OTk5OTk0IiB4Mj0iMzM5IiB5Mj0iMzE0IiBzdHJva2U9IiNlMGUwZTAiIHN0cm9rZS13aWR0aD0iMSIvPjxsaW5lIHgxPSI2Ni40IiB5MT0iMjg4LjI2IiB4Mj0iMzM5IiB5Mj0iMjg4LjI2IiBzdHJva2U9IiNlMGUwZTAiIHN0cm9rZS13aWR0aD0iMSIvPjxsaW5lIHgxPSI2Ni40IiB5MT0iMjYyLjUyIiB4Mj0iMzM5IiB5Mj0iMjYyLjUyIiBzdHJva2U9IiNlMGUwZTAiIHN0cm9rZS13aWR0aD0iMSIvPjxsaW5lIHgxPSI2Ni40IiB5MT0iMjM2Ljc4IiB4Mj0iMzM5IiB5Mj0iMjM2Ljc4IiBzdHJva2U9IiNlMGUwZTAiIHN0cm9rZS13aWR0aD0iMSIvPjxsaW5lIHgxPSI2Ni40IiB5MT0iMjExLjA0MDAwMDAwMDAwMDAyIiB4Mj0iMzM5IiB5Mj0iMjExLjA0MDAwMDAwMDAwMDAyIiBzdHJva2U9IiNlMGUwZTAiIHN0cm9rZS13aWR0aD0iMSIvPjxsaW5lIHgxPSI2Ni40IiB5MT0iMTg1LjMiIHgyPSIzMzkiIHkyPSIxODUuMyIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48bGluZSB4MT0iNjYuNCIgeTE9IjE1OS41NiIgeDI9IjMzOSIgeTI9IjE1OS41NiIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48bGluZSB4MT0iNjYuNCIgeTE9IjEzMy44MjAwMDAwMDAwMDAwMiIgeDI9IjMzOSIgeTI9IjEzMy44MjAwMDAwMDAwMDAwMiIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48bGluZSB4MT0iNjYuNCIgeTE9IjEwOC4wODAwMDAwMDAwMDAwMSIgeDI9IjMzOSIgeTI9IjEwOC4wODAwMDAwMDAwMDAwMSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48bGluZSB4MT0iNjYuNCIgeTE9IjgyLjM0IiB4Mj0iMzM5IiB5Mj0iODIuMzQiIHN0cm9rZT0iI2UwZTBlMCIgc3Ryb2tlLXdpZHRoPSIxIi8+PGxpbmUgeDE9IjY2LjQiIHkxPSI1Ni42MDAwMDAwMDAwMDAwMiIgeDI9IjMzOSIgeTI9IjU2LjYwMDAwMDAwMDAwMDAyIiBzdHJva2U9IiNlMGUwZTAiIHN0cm9rZS13aWR0aD0iMSIvPjxsaW5lIHgxPSI2Ni40IiB5MT0iMzE0IiB4Mj0iMzM5IiB5Mj0iMzE0IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjY2LjQiIHkxPSI1Ni41OTk5OTk5OTk5OTk5OTQiIHgyPSI2Ni40IiB5Mj0iMzE0IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjkzLjY2MDAwMDAwMDAwMDAxIiB5MT0iMzEwIiB4Mj0iOTMuNjYwMDAwMDAwMDAwMDEiIHkyPSIzMTgiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxIi8+PHRleHQgeD0iOTMuNjYwMDAwMDAwMDAwMDEiIHk9IjMyOSIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+MTwvdGV4dD48bGluZSB4MT0iMTIwLjkyMDAwMDAwMDAwMDAyIiB5MT0iMzEwIiB4Mj0iMTIwLjkyMDAwMDAwMDAwMDAyIiB5Mj0iMzE4IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMSIvPjx0ZXh0IHg9IjEyMC45MjAwMDAwMDAwMDAwMiIgeT0iMzI5IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzMzMzMzIj4yPC90ZXh0PjxsaW5lIHgxPSIxNDguMTgiIHkxPSIzMTAiIHgyPSIxNDguMTgiIHkyPSIzMTgiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxIi8+PHRleHQgeD0iMTQ4LjE4IiB5PSIzMjkiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjM8L3RleHQ+PGxpbmUgeDE9IjE3NS40NCIgeTE9IjMxMCIgeDI9IjE3NS40NCIgeTI9IjMxOCIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEiLz48dGV4dCB4PSIxNzUuNDQiIHk9IjMyOSIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+NDwvdGV4dD48bGluZSB4MT0iMjAyLjcwMDAwMDAwMDAwMDAyIiB5MT0iMzEwIiB4Mj0iMjAyLjcwMDAwMDAwMDAwMDAyIiB5Mj0iMzE4IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMSIvPjx0ZXh0IHg9IjIwMi43MDAwMDAwMDAwMDAwMiIgeT0iMzI5IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzMzMzMzIj41PC90ZXh0PjxsaW5lIHgxPSIyMjkuOTYiIHkxPSIzMTAiIHgyPSIyMjkuOTYiIHkyPSIzMTgiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxIi8+PHRleHQgeD0iMjI5Ljk2IiB5PSIzMjkiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjY8L3RleHQ+PGxpbmUgeDE9IjI1Ny4yMiIgeTE9IjMxMCIgeDI9IjI1Ny4yMiIgeTI9IjMxOCIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEiLz48dGV4dCB4PSIyNTcuMjIiIHk9IjMyOSIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+NzwvdGV4dD48bGluZSB4MT0iMjg0LjQ4IiB5MT0iMzEwIiB4Mj0iMjg0LjQ4IiB5Mj0iMzE4IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMSIvPjx0ZXh0IHg9IjI4NC40OCIgeT0iMzI5IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzMzMzMzIj44PC90ZXh0PjxsaW5lIHgxPSIzMTEuNzQiIHkxPSIzMTAiIHgyPSIzMTEuNzQiIHkyPSIzMTgiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxIi8+PHRleHQgeD0iMzExLjc0IiB5PSIzMjkiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjk8L3RleHQ+PGxpbmUgeDE9IjMzOSIgeTE9IjMxMCIgeDI9IjMzOSIgeTI9IjMxOCIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEiLz48dGV4dCB4PSIzMzkiIHk9IjMyOSIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+MTA8L3RleHQ+PGxpbmUgeDE9IjYyLjQwMDAwMDAwMDAwMDAwNiIgeTE9IjI4OC4yNiIgeDI9IjcwLjQiIHkyPSIyODguMjYiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxIi8+PHRleHQgeD0iNTguNDAwMDAwMDAwMDAwMDA2IiB5PSIyOTIuMjYiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJlbmQiIGZpbGw9IiMzMzMzMzMiPjI8L3RleHQ+PGxpbmUgeDE9IjYyLjQwMDAwMDAwMDAwMDAwNiIgeTE9IjI2Mi41MiIgeDI9IjcwLjQiIHkyPSIyNjIuNTIiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxIi8+PHRleHQgeD0iNTguNDAwMDAwMDAwMDAwMDA2IiB5PSIyNjYuNTIiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJlbmQiIGZpbGw9IiMzMzMzMzMiPjQ8L3RleHQ+PGxpbmUgeDE9IjYyLjQwMDAwMDAwMDAwMDAwNiIgeTE9IjIzNi43OCIgeDI9IjcwLjQiIHkyPSIyMzYuNzgiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxIi8+PHRleHQgeD0iNTguNDAwMDAwMDAwMDAwMDA2IiB5PSIyNDAuNzgiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJlbmQiIGZpbGw9IiMzMzMzMzMiPjY8L3RleHQ+PGxpbmUgeDE9IjYyLjQwMDAwMDAwMDAwMDAwNiIgeTE9IjIxMS4wNDAwMDAwMDAwMDAwMiIgeDI9IjcwLjQiIHkyPSIyMTEuMDQwMDAwMDAwMDAwMDIiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxIi8+PHRleHQgeD0iNTguNDAwMDAwMDAwMDAwMDA2IiB5PSIyMTUuMDQwMDAwMDAwMDAwMDIiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJlbmQiIGZpbGw9IiMzMzMzMzMiPjg8L3RleHQ+PGxpbmUgeDE9IjYyLjQwMDAwMDAwMDAwMDAwNiIgeTE9IjE4NS4zIiB4Mj0iNzAuNCIgeTI9IjE4NS4zIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMSIvPjx0ZXh0IHg9IjU4LjQwMDAwMDAwMDAwMDAwNiIgeT0iMTg5LjMiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJlbmQiIGZpbGw9IiMzMzMzMzMiPjEwPC90ZXh0PjxsaW5lIHgxPSI2Mi40MDAwMDAwMDAwMDAwMDYiIHkxPSIxNTkuNTYiIHgyPSI3MC40IiB5Mj0iMTU5LjU2IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMSIvPjx0ZXh0IHg9IjU4LjQwMDAwMDAwMDAwMDAwNiIgeT0iMTYzLjU2IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0iZW5kIiBmaWxsPSIjMzMzMzMzIj4xMjwvdGV4dD48bGluZSB4MT0iNjIuNDAwMDAwMDAwMDAwMDA2IiB5MT0iMTMzLjgyMDAwMDAwMDAwMDAyIiB4Mj0iNzAuNCIgeTI9IjEzMy44MjAwMDAwMDAwMDAwMiIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEiLz48dGV4dCB4PSI1OC40MDAwMDAwMDAwMDAwMDYiIHk9IjEzNy44MjAwMDAwMDAwMDAwMiIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9ImVuZCIgZmlsbD0iIzMzMzMzMyI+MTQ8L3RleHQ+PGxpbmUgeDE9IjYyLjQwMDAwMDAwMDAwMDAwNiIgeTE9IjEwOC4wODAwMDAwMDAwMDAwMSIgeDI9IjcwLjQiIHkyPSIxMDguMDgwMDAwMDAwMDAwMDEiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxIi8+PHRleHQgeD0iNTguNDAwMDAwMDAwMDAwMDA2IiB5PSIxMTIuMDgwMDAwMDAwMDAwMDEiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJlbmQiIGZpbGw9IiMzMzMzMzMiPjE2PC90ZXh0PjxsaW5lIHgxPSI2Mi40MDAwMDAwMDAwMDAwMDYiIHkxPSI4Mi4zNCIgeDI9IjcwLjQiIHkyPSI4Mi4zNCIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEiLz48dGV4dCB4PSI1OC40MDAwMDAwMDAwMDAwMDYiIHk9Ijg2LjM0IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0iZW5kIiBmaWxsPSIjMzMzMzMzIj4xODwvdGV4dD48bGluZSB4MT0iNjIuNDAwMDAwMDAwMDAwMDA2IiB5MT0iNTYuNjAwMDAwMDAwMDAwMDIiIHgyPSI3MC40IiB5Mj0iNTYuNjAwMDAwMDAwMDAwMDIiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxIi8+PHRleHQgeD0iNTguNDAwMDAwMDAwMDAwMDA2IiB5PSI2MC42MDAwMDAwMDAwMDAwMiIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9ImVuZCIgZmlsbD0iIzMzMzMzMyI+MjA8L3RleHQ+PHRleHQgeD0iMjAyLjcwMDAwMDAwMDAwMDAyIiB5PSIzNDkiIGZvbnQtc2l6ZT0iMTQiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPlRpbWUgKGhvdXJzKTwvdGV4dD48dGV4dCB4PSIyMC4wMDAwMDAwMDAwMDAwMDciIHk9IjE4NS4yOTk5OTk5OTk5OTk5OCIgZm9udC1zaXplPSIxNCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyIgdHJhbnNmb3JtPSJyb3RhdGUoLTkwLCAyMC4wMDAwMDAwMDAwMDAwMDcsIDE4NS4yOTk5OTk5OTk5OTk5OCkiPjx0c3BhbiB4PSIyMC4wMDAwMDAwMDAwMDAwMDciIGR5PSIwZW0iPkRpc3RhbmNlIChraWxvbWV0ZXJzKTwvdHNwYW4+PC90ZXh0PjxsaW5lIHgxPSI2Ni40IiB5MT0iMjg5LjgxNzczNzgxOTAyNTUiIHgyPSIzMzkiIHkyPSI0Mi4zNzEzMzQxMDY3Mjg1MSIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIxMjAuOTIwMDAwMDAwMDAwMDIiIGN5PSIyNDkuNjUiIHI9IjUiIGZpbGw9IiMwMDAwMDAiIGZpbGwtb3BhY2l0eT0iMC45Ii8+PHRleHQgeD0iMTI1LjkyMDAwMDAwMDAwMDAyIiB5PSIyNDQuNjUiIGZvbnQtc2l6ZT0iMTEiIGZpbGw9IiMzMzMzMzMiPjwvdGV4dD48Y2lyY2xlIGN4PSIxNDEuMzY1IiBjeT0iMjExLjA0MDAwMDAwMDAwMDAyIiByPSI1IiBmaWxsPSIjMDAwMDAwIiBmaWxsLW9wYWNpdHk9IjAuOSIvPjx0ZXh0IHg9IjE0Ni4zNjUiIHk9IjIwNi4wNDAwMDAwMDAwMDAwMiIgZm9udC1zaXplPSIxMSIgZmlsbD0iIzMzMzMzMyI+PC90ZXh0PjxjaXJjbGUgY3g9IjE3NS40NCIgY3k9IjE5MS43MzUiIHI9IjUiIGZpbGw9IiMwMDAwMDAiIGZpbGwtb3BhY2l0eT0iMC45Ii8+PHRleHQgeD0iMTgwLjQ0IiB5PSIxODYuNzM1IiBmb250LXNpemU9IjExIiBmaWxsPSIjMzMzMzMzIj48L3RleHQ+PGNpcmNsZSBjeD0iMjY0LjAzNSIgY3k9IjEwOC4wODAwMDAwMDAwMDAwMSIgcj0iNSIgZmlsbD0iIzAwMDAwMCIgZmlsbC1vcGFjaXR5PSIwLjkiLz48dGV4dCB4PSIyNjkuMDM1IiB5PSIxMDMuMDgwMDAwMDAwMDAwMDEiIGZvbnQtc2l6ZT0iMTEiIGZpbGw9IiMzMzMzMzMiPjwvdGV4dD48Y2lyY2xlIGN4PSIyOTguMTEiIGN5PSI4Mi4zNCIgcj0iNSIgZmlsbD0iIzAwMDAwMCIgZmlsbC1vcGFjaXR5PSIwLjkiLz48dGV4dCB4PSIzMDMuMTEiIHk9Ijc3LjM0IiBmb250LXNpemU9IjExIiBmaWxsPSIjMzMzMzMzIj48L3RleHQ+PGxpbmUgeDE9IjM1NCIgeTE9IjYzLjU5OTk5OTk5OTk5OTk5NCIgeDI9IjM3NCIgeTI9IjYzLjU5OTk5OTk5OTk5OTk5NCIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjIiLz48dGV4dCB4PSIzNzkiIHk9IjY2LjYiIGZvbnQtc2l6ZT0iMTIiIGZpbGw9IiMwMDAwMDAiPjwvdGV4dD48L3N2Zz4=" alt="Widget visualization" />
        <p>Which of these linear equations best describes the given model?</p>
        <div><qti-choice-interaction response-identifier="RESPONSE_CHOICE" shuffle="true" min-choices="1" max-choices="1">
            <qti-prompt></qti-prompt>
            <qti-simple-choice identifier="A"><p><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mover accent="true"><mi>y</mi><mo>^</mo></mover><mo>=</mo><mn>2</mn><mi>x</mi><mo>+</mo><mn>1.5</mn></mrow></math></p></qti-simple-choice>
            <qti-simple-choice identifier="B"><p><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mover accent="true"><mi>y</mi><mo>^</mo></mover><mo>=</mo><mi>x</mi><mo>+</mo><mn>1.5</mn></mrow></math></p></qti-simple-choice>
            <qti-simple-choice identifier="C"><p><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mover accent="true"><mi>y</mi><mo>^</mo></mover><mo>=</mo><mn>2</mn><mi>x</mi><mo>-</mo><mn>1.5</mn></mrow></math></p></qti-simple-choice>
            <qti-simple-choice identifier="D"><p><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mover accent="true"><mi>y</mi><mo>^</mo></mover><mo>=</mo><mi>x</mi><mo>-</mo><mn>1.5</mn></mrow></math></p></qti-simple-choice>
        </qti-choice-interaction></div>
        <p>Based on this equation, estimate the distance Daniel can hike in <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>6</mn></math> hours.</p>
        <p>Round your answer to the nearest tenth.</p>
        <p><qti-text-entry-interaction response-identifier="RESPONSE_TEXT"/> km</p>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE_CHOICE" identifier="A" show-hide="show">
            <qti-content-body><p>Outstanding! You correctly identified that a reasonable linear model fits the points with a slope of <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math> and a y-intercept of <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1.5</mn></math>, giving us the equation <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mover accent="true"><mi>y</mi><mo>^</mo></mover><mo>=</mo><mn>2</mn><mi>x</mi><mo>+</mo><mn>1.5</mn></mrow></math>.</p>
        <p>You demonstrated excellent understanding of linear modeling! The slope of <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math> means Daniel hikes approximately <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math> kilometers for every hour, and the y-intercept of <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1.5</mn></math> suggests he covers some initial distance even at time zero.</p>
        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTY3IiBoZWlnaHQ9IjM0MCIgdmlld0JveD0iLTE0NyAtMjAgNTY3IDM0MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiI+PHRleHQgeD0iMTAiIHk9IjU1IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0iZW5kIiBkb21pbmFudC1iYXNlbGluZT0ibWlkZGxlIiBmb250LXdlaWdodD0iNzAwIiBmaWxsPSIjMDAwMDAwIj5VbmRlcnN0YW5kaW5nIFNsb3BlPC90ZXh0PjxyZWN0IHg9IjIwIiB5PSI0MCIgd2lkdGg9IjcyIiBoZWlnaHQ9IjMwIiBmaWxsPSIjNDI4NUY0IiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iNTYiIHk9IjU1IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkb21pbmFudC1iYXNlbGluZT0ibWlkZGxlIiBmb250LXdlaWdodD0iNzAwIiBmaWxsPSIjMDAwMDAwIj4yIGttL2hvdXI8L3RleHQ+PHJlY3QgeD0iMjAiIHk9IjQwIiB3aWR0aD0iMzYwIiBoZWlnaHQ9IjMwIiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41IiBmaWxsLW9wYWNpdHk9IjAiLz48bGluZSB4MT0iNTYiIHkxPSI0MCIgeDI9IjU2IiB5Mj0iNzAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iOTIiIHkxPSI0MCIgeDI9IjkyIiB5Mj0iNzAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iMTI4IiB5MT0iNDAiIHgyPSIxMjgiIHkyPSI3MCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSIxNjQiIHkxPSI0MCIgeDI9IjE2NCIgeTI9IjcwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjIwMCIgeTE9IjQwIiB4Mj0iMjAwIiB5Mj0iNzAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iMjM2IiB5MT0iNDAiIHgyPSIyMzYiIHkyPSI3MCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSIyNzIiIHkxPSI0MCIgeDI9IjI3MiIgeTI9IjcwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjMwOCIgeTE9IjQwIiB4Mj0iMzA4IiB5Mj0iNzAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iMzQ0IiB5MT0iNDAiIHgyPSIzNDQiIHkyPSI3MCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIvPjwvc3ZnPg==" alt="Widget visualization" />
        <p>This type of linear modeling is used everywhere: predicting sales growth, calculating medication dosages over time, and even estimating how much fuel a car uses per mile!</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE_CHOICE" identifier="B" show-hide="show">
            <qti-content-body><p>Good thinking, but let's examine the slope more carefully! You identified the y-intercept correctly as <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1.5</mn></math>, which shows you understand where the line crosses the y-axis.</p>
        <p>To find the slope, pick <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math> clear points on the line. For example, from <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>(</mo><mn>0</mn><mo>,</mo><mn>1.5</mn><mo>)</mo></math> to <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>(</mo><mn>4</mn><mo>,</mo><mn>9.5</mn><mo>)</mo></math>:</p>
        <p>Slope = <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mtext>rise</mtext><mtext>run</mtext></mfrac></math> = <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mrow><mn>9.5</mn><mo>-</mo><mn>1.5</mn></mrow><mrow><mn>4</mn><mo>-</mo><mn>0</mn></mrow></mfrac></math> = <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>8</mn><mn>4</mn></mfrac></math> = <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math></p>
        <p>So the correct equation is <math xmlns="http://www.w3.org/1998/Math/MathML"><mover accent="true"><mi>y</mi><mo>^</mo></mover><mo>=</mo><mn>2</mn><mi>x</mi><mo>+</mo><mn>1.5</mn></math>, not <math xmlns="http://www.w3.org/1998/Math/MathML"><mover accent="true"><mi>y</mi><mo>^</mo></mover><mo>=</mo><mn>1</mn><mi>x</mi><mo>+</mo><mn>1.5</mn></math>.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE_CHOICE" identifier="C" show-hide="show">
            <qti-content-body><p>Great work on finding the slope as <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math>! You correctly calculated the rate of change. Now let's check the y-intercept together.</p>
        <p>The y-intercept is where the line crosses the y-axis (when <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>=</mo><mn>0</mn></math>). Looking at the graph, the line appears to cross at <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>(</mo><mn>0</mn><mo>,</mo><mn>1.5</mn><mo>)</mo></math>, not <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>(</mo><mn>0</mn><mo>,</mo><mo>-</mo><mn>1.5</mn><mo>)</mo></math>.</p>
        <p>Remember: A positive y-intercept means the line starts above the x-axis, while a negative y-intercept means it starts below the x-axis.</p>
        <p>The correct equation is <math xmlns="http://www.w3.org/1998/Math/MathML"><mover accent="true"><mi>y</mi><mo>^</mo></mover><mo>=</mo><mn>2</mn><mi>x</mi><mo>+</mo><mn>1.5</mn></math> (positive <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1.5</mn></math>, not negative).</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE_CHOICE" identifier="D" show-hide="show">
            <qti-content-body><p>Let's work through finding both the slope and y-intercept systematically! Linear equations have the form <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi><mo>=</mo><mi>m</mi><mi>x</mi><mo>+</mo><mi>b</mi></math> where <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi></math> is slope and <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>b</mi></math> is y-intercept.</p>
        <p>Finding the y-intercept: Look where the line crosses the y-axis. This appears to be at <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>(</mo><mn>0</mn><mo>,</mo><mn>1.5</mn><mo>)</mo></math>, so <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>b</mi><mo>=</mo><mn>1.5</mn></math>.</p>
        <p>Finding the slope: Pick <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math> points and use <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mo>=</mo><mfrac><mrow><mi>y</mi><mn>2</mn><mo>-</mo><mi>y</mi><mn>1</mn></mrow><mrow><mi>x</mi><mn>2</mn><mo>-</mo><mi>x</mi><mn>1</mn></mrow></mfrac></math>. Using points <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>(</mo><mn>2</mn><mo>,</mo><mn>5</mn><mo>)</mo></math> and <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>(</mo><mn>4</mn><mo>,</mo><mn>9.5</mn><mo>)</mo></math>:</p>
        <p>Slope = <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mrow><mn>9.5</mn><mo>-</mo><mn>5</mn></mrow><mrow><mn>4</mn><mo>-</mo><mn>2</mn></mrow></mfrac></math> = <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>4.5</mn><mn>2</mn></mfrac></math> = <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2.25</mn></math> ≈ <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math></p>
        <p>Therefore, the equation is <math xmlns="http://www.w3.org/1998/Math/MathML"><mover accent="true"><mi>y</mi><mo>^</mo></mover><mo>=</mo><mn>2</mn><mi>x</mi><mo>+</mo><mn>1.5</mn></math>.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__GLOBAL" identifier="CORRECT" show-hide="show">
            <qti-content-body><p>Perfect! You correctly used the model to predict that in <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>6</mn></math> hours, Daniel can hike <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>13.5</mn></math> kilometers.</p>
        <p>Your calculation was spot-on: <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mover accent="true"><mi>y</mi><mo>^</mo></mover><mo>=</mo><mn>2</mn><mo>(</mo><mn>6</mn><mo>)</mo><mo>+</mo><mn>1.5</mn><mo>=</mo><mn>12</mn><mo>+</mo><mn>1.5</mn><mo>=</mo><mn>13.5</mn></mrow></math></p>
        <p>You demonstrated excellent understanding of how to use linear models for prediction! This skill is crucial for making informed decisions based on data patterns.</p>
        <p>Challenge: If Daniel wanted to hike exactly <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>20</mn></math> kilometers, how many hours would that take according to this model?</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__GLOBAL" identifier="INCORRECT" show-hide="show">
            <qti-content-body><p>Let's work through this prediction step by step! Using linear models to make predictions is a powerful skill once you get the process down.</p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math>: First, we need the correct linear equation. From the graph, we can estimate the slope from <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math> clear points on the fitted line.</p>
        <p>Using points <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>(</mo><mn>0</mn><mo>,</mo><mn>1.5</mn><mo>)</mo></math> and <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>(</mo><mn>4</mn><mo>,</mo><mn>9.5</mn><mo>)</mo></math>, the slope is <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mfrac><mrow><mn>9.5</mn><mo>-</mo><mn>1.5</mn></mrow><mrow><mn>4</mn><mo>-</mo><mn>0</mn></mrow></mfrac><mo>=</mo><mfrac><mn>8</mn><mn>4</mn></mfrac><mo>=</mo><mn>2</mn></mrow></math></p>
        <p>The y-intercept is <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1.5</mn></math>, so our model is <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mover accent="true"><mi>y</mi><mo>^</mo></mover><mo>=</mo><mn>2</mn><mi>x</mi><mo>+</mo><mn>1.5</mn></mrow></math></p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math>: Substitute <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>=</mo><mn>6</mn></math> hours into the equation:</p>
        <p><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mover accent="true"><mi>y</mi><mo>^</mo></mover><mo>=</mo><mn>2</mn><mo>(</mo><mn>6</mn><mo>)</mo><mo>+</mo><mn>1.5</mn><mo>=</mo><mn>12</mn><mo>+</mo><mn>1.5</mn><mo>=</mo><mn>13.5</mn></mrow></math></p>
        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTUwIiBoZWlnaHQ9IjM0MCIgdmlld0JveD0iLTIwIC0yMCA1NTAgMzQwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIj48bGluZSB4MT0iMjAiIHkxPSIxNTAiIHgyPSI0ODAiIHkyPSIxNTAiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIyIi8+PGxpbmUgeDE9IjIwIiB5MT0iMTQ1IiB4Mj0iMjAiIHkyPSIxNTUiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIyMCIgeT0iMTcwIiBmb250LXNpemU9IjExIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzMzMzMzIj4wPC90ZXh0PjxsaW5lIHgxPSIxMTIiIHkxPSIxNDUiIHgyPSIxMTIiIHkyPSIxNTUiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIxMTIiIHk9IjE3MCIgZm9udC1zaXplPSIxMSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+MzwvdGV4dD48bGluZSB4MT0iMjA0IiB5MT0iMTQ1IiB4Mj0iMjA0IiB5Mj0iMTU1IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMjA0IiB5PSIxNzAiIGZvbnQtc2l6ZT0iMTEiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjY8L3RleHQ+PGxpbmUgeDE9IjI5NiIgeTE9IjE0NSIgeDI9IjI5NiIgeTI9IjE1NSIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjI5NiIgeT0iMTcwIiBmb250LXNpemU9IjExIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzMzMzMzIj45PC90ZXh0PjxsaW5lIHgxPSIzODgiIHkxPSIxNDUiIHgyPSIzODgiIHkyPSIxNTUiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIzODgiIHk9IjE3MCIgZm9udC1zaXplPSIxMSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+MTI8L3RleHQ+PGxpbmUgeDE9IjQ4MCIgeTE9IjE0NSIgeDI9IjQ4MCIgeTI9IjE1NSIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjQ4MCIgeT0iMTcwIiBmb250LXNpemU9IjExIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzMzMzMzIj4xNTwvdGV4dD48Y2lyY2xlIGN4PSI0NDkuMzMzMzMzMzMzMzMzMzciIGN5PSIxNTAiIHI9IjUiIGZpbGw9IiM0Mjg1RjQiIHN0cm9rZT0iIzQyODVGNCIgc3Ryb2tlLXdpZHRoPSIxIi8+PGZvcmVpZ25PYmplY3QgeD0iMzg5LjMzMzMzMzMzMzMzMzM3IiB5PSIxMDAiIHdpZHRoPSIxMjAiIGhlaWdodD0iMzIiPjwhRE9DVFlQRSBodG1sPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6ZmxleC1lbmQ7anVzdGlmeS1jb250ZW50OmNlbnRlcjt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2xpbmUtaGVpZ2h0OjE7Zm9udC1mYW1pbHk6c2Fucy1zZXJpZjtjb2xvcjojNDI4NUY0OyI+PG1hdGggeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aC9NYXRoTUwiIGRpc3BsYXk9ImlubGluZSIgc3R5bGU9ImZvbnQtc2l6ZToxOS4ycHg7Ij48bW4+MTQ8L21uPjwvbWF0aD48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PC9zdmc+" alt="Widget visualization" />
        <p>Therefore, Daniel can hike approximately <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>13.5</mn></math> kilometers in <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>6</mn></math> hours.</p></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_CHOICE"/>
                <qti-base-value base-type="identifier">A</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE_CHOICE">
                <qti-base-value base-type="identifier">A</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_CHOICE"/>
                <qti-base-value base-type="identifier">B</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE_CHOICE">
                <qti-base-value base-type="identifier">B</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_CHOICE"/>
                <qti-base-value base-type="identifier">C</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE_CHOICE">
                <qti-base-value base-type="identifier">C</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_CHOICE"/>
                <qti-base-value base-type="identifier">D</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE_CHOICE">
                <qti-base-value base-type="identifier">D</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if></qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_TEXT"/>
                <qti-correct identifier="RESPONSE_TEXT"/>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">CORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE_CHOICE"/><qti-correct identifier="RESPONSE_CHOICE"/></qti-match>
                        <qti-match><qti-variable identifier="RESPONSE_TEXT"/><qti-correct identifier="RESPONSE_TEXT"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "eval-fractional-exponents" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="eval-fractional-exponents"
    title="Evaluate an expression with negative fractional exponents"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE" cardinality="single" base-type="integer">
        <qti-correct-response>
            <qti-value>81</qti-value>
        </qti-correct-response>
        <qti-mapping default-value="0">
            <qti-map-entry map-key="81" mapped-value="1"/>
        </qti-mapping>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__GLOBAL" cardinality="single" base-type="identifier"/>
    <qti-item-body>
        <p>Evaluate.<math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mfrac><msup><mn>2</mn><mrow><mo>-</mo><mfrac><mn>4</mn><mn>3</mn></mfrac></mrow></msup><msup><mn>54</mn><mrow><mo>-</mo><mfrac><mn>4</mn><mn>3</mn></mfrac></mrow></msup></mfrac><mo>=</mo></mrow></math> <qti-text-entry-interaction response-identifier="RESPONSE" expected-length="3"/></p>
        <qti-feedback-block outcome-identifier="FEEDBACK__GLOBAL" identifier="CORRECT" show-hide="show">
            <qti-content-body><p>Outstanding work! You correctly evaluated this complex expression and found the answer is <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>81</mn></math>.</p>
        <p>You successfully applied the quotient rule for exponents: <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><msup><mi>a</mi><mi>n</mi></msup><msup><mi>b</mi><mi>n</mi></msup></mfrac><mo>=</mo><msup><mrow><mo>(</mo><mfrac><mi>a</mi><mi>b</mi></mfrac><mo>)</mo></mrow><mi>n</mi></msup></math></p>
        <p>This rule is incredibly powerful because it lets you simplify complex fractional exponents by working with the base fraction first, then applying the exponent to the simplified result.</p>
        <p>Your understanding of negative fractional exponents shows advanced algebraic thinking. These concepts are essential for calculus, physics, and engineering!</p>
        <table style="border-collapse: collapse; width: 100%; border: 1px solid #000000;"><caption style="padding: 8px; font-size: 1.2em; font-weight: 700; caption-side: top;">Exponent Rules Reference</caption><thead><tr><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Rule</th><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Example</th></tr></thead><tbody><tr><td style="border: 1px solid #000000; padding: 8px; text-align: left;">Quotient Rule</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><msup><mi>a</mi><mi>n</mi></msup><msup><mi>b</mi><mi>n</mi></msup></mfrac><mo>=</mo><msup><mrow><mo>(</mo><mfrac><mi>a</mi><mi>b</mi></mfrac><mo>)</mo></mrow><mi>n</mi></msup></math></td></tr><tr><td style="border: 1px solid #000000; padding: 8px; text-align: left;">Negative Exponent</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>a</mi><mrow><mo>-</mo><mi>n</mi></mrow></msup><mo>=</mo><mfrac><mn>1</mn><msup><mi>a</mi><mi>n</mi></msup></math></td></tr><tr><td style="border: 1px solid #000000; padding: 8px; text-align: left;">Fractional Exponent</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>a</mi><mfrac><mi>m</mi><mi>n</mi></mfrac></msup><mo>=</mo><mroot><msup><mi>a</mi><mi>m</mi></msup><mi>n</mi></mroot></math></td></tr></tbody></table></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__GLOBAL" identifier="INCORRECT" show-hide="show">
            <qti-content-body><p>This is a challenging problem! Let's work through it step by step using exponent rules.</p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math>: Apply the quotient rule for exponents: <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><msup><mi>a</mi><mi>n</mi></msup><msup><mi>b</mi><mi>n</mi></msup></mfrac><mo>=</mo><msup><mrow><mo>(</mo><mfrac><mi>a</mi><mi>b</mi></mfrac><mo>)</mo></mrow><mi>n</mi></msup></math></p>
        <p>So: <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><msup><mn>2</mn><mrow><mo>-</mo><mfrac><mn>4</mn><mn>3</mn></mfrac></mrow></msup><msup><mn>54</mn><mrow><mo>-</mo><mfrac><mn>4</mn><mn>3</mn></mfrac></mrow></msup></mfrac><mo>=</mo><msup><mrow><mo>(</mo><mfrac><mn>2</mn><mn>54</mn></mfrac><mo>)</mo></mrow><mrow><mo>-</mo><mfrac><mn>4</mn><mn>3</mn></mfrac></mrow></msup></math></p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math>: Simplify the fraction: <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>2</mn><mn>54</mn></mfrac><mo>=</mo><mfrac><mn>1</mn><mn>27</mn></mfrac></math></p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math>: Apply the negative exponent rule: <math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow><mo>(</mo><mfrac><mn>1</mn><mn>27</mn></mfrac><mo>)</mo></mrow><mrow><mo>-</mo><mfrac><mn>4</mn><mn>3</mn></mfrac></mrow></msup><mo>=</mo><msup><mn>27</mn><mfrac><mn>4</mn><mn>3</mn></mfrac></msup></math></p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4</mn></math>: Convert the fractional exponent: <math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>27</mn><mfrac><mn>4</mn><mn>3</mn></mfrac></msup><mo>=</mo><msup><mrow><mo>(</mo><mroot><mn>27</mn><mn>3</mn></mroot><mo>)</mo></mrow><mn>4</mn></msup><mo>=</mo><msup><mn>3</mn><mn>4</mn></msup><mo>=</mo><mn>81</mn></math></p>
        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjc0IiBoZWlnaHQ9IjM0MCIgdmlld0JveD0iLTE1NCAtMjAgNjc0IDM0MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiI+PHRleHQgeD0iMTAiIHk9IjU1IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0iZW5kIiBkb21pbmFudC1iYXNlbGluZT0ibWlkZGxlIiBmb250LXdlaWdodD0iNzAwIiBmaWxsPSIjMDAwMDAwIj5TdGVwLWJ5LVN0ZXAgUHJvY2VzczwvdGV4dD48cmVjdCB4PSIyMCIgeT0iNDAiIHdpZHRoPSIxMTUiIGhlaWdodD0iMzAiIGZpbGw9IiNGRjZCNkIiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSI3Ny41IiB5PSI1NSIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZG9taW5hbnQtYmFzZWxpbmU9Im1pZGRsZSIgZm9udC13ZWlnaHQ9IjcwMCIgZmlsbD0iIzAwMDAwMCI+QXBwbHkgcXVvdGllbnQgcnVsZTwvdGV4dD48cmVjdCB4PSIxMzUiIHk9IjQwIiB3aWR0aD0iMTE1IiBoZWlnaHQ9IjMwIiBmaWxsPSIjNDI4NUY0IiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMTkyLjUiIHk9IjU1IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkb21pbmFudC1iYXNlbGluZT0ibWlkZGxlIiBmb250LXdlaWdodD0iNzAwIiBmaWxsPSIjMDAwMDAwIj5TaW1wbGlmeSBmcmFjdGlvbjwvdGV4dD48cmVjdCB4PSIyNTAiIHk9IjQwIiB3aWR0aD0iMTE1IiBoZWlnaHQ9IjMwIiBmaWxsPSIjMzRBODUzIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMzA3LjUiIHk9IjU1IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkb21pbmFudC1iYXNlbGluZT0ibWlkZGxlIiBmb250LXdlaWdodD0iNzAwIiBmaWxsPSIjMDAwMDAwIj5OZWdhdGl2ZSBleHBvbmVudDwvdGV4dD48cmVjdCB4PSIzNjUiIHk9IjQwIiB3aWR0aD0iMTE1IiBoZWlnaHQ9IjMwIiBmaWxsPSIjRkJCQzA0IiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iNDIyLjUiIHk9IjU1IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkb21pbmFudC1iYXNlbGluZT0ibWlkZGxlIiBmb250LXdlaWdodD0iNzAwIiBmaWxsPSIjMDAwMDAwIj5FdmFsdWF0ZTwvdGV4dD48cmVjdCB4PSIyMCIgeT0iNDAiIHdpZHRoPSI0NjAiIGhlaWdodD0iMzAiIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjUiIGZpbGwtb3BhY2l0eT0iMCIvPjxsaW5lIHgxPSIxMzUiIHkxPSI0MCIgeDI9IjEzNSIgeTI9IjcwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjI1MCIgeTE9IjQwIiB4Mj0iMjUwIiB5Mj0iNzAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iMzY1IiB5MT0iNDAiIHgyPSIzNjUiIHkyPSI3MCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIvPjwvc3ZnPg==" alt="Widget visualization" />
        <p>Remember: Negative exponents flip fractions, and fractional exponents represent roots. Practice these rules - they're the foundation for advanced algebra!</p></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        
    <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-correct identifier="RESPONSE"/>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">CORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE"/><qti-correct identifier="RESPONSE"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "compare-3-digit-numbers" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="compare-3-digit-numbers"
    title="Compare 3-digit numbers"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE" cardinality="ordered" base-type="identifier">
        <qti-correct-response>
            <qti-value>A</qti-value>
            <qti-value>B</qti-value>
            <qti-value>C</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-response-declaration identifier="RESPONSE_TEXT_ENTRY" cardinality="single" base-type="string">
        <qti-correct-response>
            <qti-value>correct</qti-value>
        </qti-correct-response>
        <qti-mapping default-value="0">
            <qti-map-entry map-key="correct" mapped-value="1"/>
        </qti-mapping>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__GLOBAL" cardinality="single" base-type="identifier"/>
    <qti-item-body>
        <div><qti-order-interaction response-identifier="RESPONSE" shuffle="true" orientation="vertical">
            <qti-prompt>Arrange the cards to make a true comparison.</qti-prompt>
            <qti-simple-choice identifier="A"><p><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>708</mn></math></p></qti-simple-choice>
            <qti-simple-choice identifier="B"><p><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></p></qti-simple-choice>
            <qti-simple-choice identifier="C"><p><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>79</mn></math></p></qti-simple-choice>
        </qti-order-interaction></div>
        <qti-feedback-block outcome-identifier="FEEDBACK__GLOBAL" identifier="CORRECT" show-hide="show">
            <qti-content-body><p>Excellent work! You correctly arranged the cards as <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>708</mn><mo>&gt;</mo><mn>79</mn></math>, which is a true comparison.</p>
        <p>You demonstrated solid understanding of place value! <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>708</mn></math> has <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>7</mn></math> hundreds, while <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>79</mn></math> has only <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>7</mn></math> tens, making <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>708</mn></math> much larger.</p>
        <p>The greater than symbol (&gt;) always "eats" the smaller number - it opens toward the larger number!</p>
        <table style="border-collapse: collapse; width: 100%; border: 1px solid #000000;"><caption style="padding: 8px; font-size: 1.2em; font-weight: 700; caption-side: top;">Place Value Breakdown</caption><thead><tr><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Number</th><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Hundreds</th><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Tens</th><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Ones</th></tr></thead><tbody><tr><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>708</mn></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>7</mn></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0</mn></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>8</mn></math></td></tr><tr><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>79</mn></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0</mn></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>7</mn></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>9</mn></math></td></tr></tbody></table>
        <p>This place value thinking will help you compare any numbers, even very large ones with millions or billions!</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__GLOBAL" identifier="INCORRECT" show-hide="show">
            <qti-content-body><p>Let's work through comparing these numbers using place value! Comparing numbers is all about understanding which digits are most important.</p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math>: Compare the hundreds place first. <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>708</mn></math> has <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>7</mn></math> hundreds, but <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>79</mn></math> has <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0</mn></math> hundreds.</p>
        <p>Since <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>7</mn></math> hundreds &gt; <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0</mn></math> hundreds, we know <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>708</mn><mo>&gt;</mo><mn>79</mn></math> without even looking at the other digits!</p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math>: Choose the correct symbol. Since <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>708</mn></math> is larger, it goes on the left with the &gt; symbol pointing toward the smaller number.</p>
        <p>The correct arrangement is: <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>708</mn></math> &gt; <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>79</mn></math></p>
        <p>Memory trick: The &gt; symbol is like a hungry mouth that always wants to "eat" the bigger number!</p></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        
    <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-correct identifier="RESPONSE"/>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">CORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_TEXT_ENTRY"/>
                <qti-correct identifier="RESPONSE_TEXT_ENTRY"/>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">CORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE"/><qti-correct identifier="RESPONSE"/></qti-match>
                        <qti-match><qti-variable identifier="RESPONSE_TEXT_ENTRY"/><qti-correct identifier="RESPONSE_TEXT_ENTRY"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "vertical-number-line-comparison" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="vertical-number-line-comparison"
    title="Compare numbers on a vertical number line"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE_POS" cardinality="single" base-type="identifier">
        <qti-correct-response>
            <qti-value>ABOVE</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-response-declaration identifier="RESPONSE_COMP" cardinality="single" base-type="identifier">
        <qti-correct-response>
            <qti-value>GT</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__RESPONSE_POS" cardinality="single" base-type="identifier"/>
    <qti-outcome-declaration identifier="FEEDBACK__RESPONSE_COMP" cardinality="single" base-type="identifier"/>
    <qti-item-body>
        <p>Use the number line to compare the numbers.</p>
        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDQ1IiBoZWlnaHQ9IjM5MCIgdmlld0JveD0iLTIwIC0yMCA0NDUgMzkwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIj48bGluZSB4MT0iMTUwIiB5MT0iMjAiIHgyPSIxNTAiIHkyPSIzMzAiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIyIi8+PGxpbmUgeDE9IjE0NSIgeTE9IjMzMCIgeDI9IjE1MCIgeTI9IjMzMCIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjE0MCIgeT0iMzM0IiBmb250LXNpemU9IjExIiB0ZXh0LWFuY2hvcj0iZW5kIiBmaWxsPSIjMzMzMzMzIj4tODwvdGV4dD48bGluZSB4MT0iMTQ1IiB5MT0iMjY4IiB4Mj0iMTUwIiB5Mj0iMjY4IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMTQwIiB5PSIyNzIiIGZvbnQtc2l6ZT0iMTEiIHRleHQtYW5jaG9yPSJlbmQiIGZpbGw9IiMzMzMzMzMiPi02PC90ZXh0PjxsaW5lIHgxPSIxNDUiIHkxPSIyMDYiIHgyPSIxNTAiIHkyPSIyMDYiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIxNDAiIHk9IjIxMCIgZm9udC1zaXplPSIxMSIgdGV4dC1hbmNob3I9ImVuZCIgZmlsbD0iIzMzMzMzMyI+LTQ8L3RleHQ+PGxpbmUgeDE9IjE0NSIgeTE9IjE0NCIgeDI9IjE1MCIgeTI9IjE0NCIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjE0MCIgeT0iMTQ4IiBmb250LXNpemU9IjExIiB0ZXh0LWFuY2hvcj0iZW5kIiBmaWxsPSIjMzMzMzMzIj4tMjwvdGV4dD48bGluZSB4MT0iMTQ1IiB5MT0iODIiIHgyPSIxNTAiIHkyPSI4MiIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjE0MCIgeT0iODYiIGZvbnQtc2l6ZT0iMTEiIHRleHQtYW5jaG9yPSJlbmQiIGZpbGw9IiMzMzMzMzMiPjA8L3RleHQ+PGxpbmUgeDE9IjE0NSIgeTE9IjIwIiB4Mj0iMTUwIiB5Mj0iMjAiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIxNDAiIHk9IjI0IiBmb250LXNpemU9IjExIiB0ZXh0LWFuY2hvcj0iZW5kIiBmaWxsPSIjMzMzMzMzIj4yPC90ZXh0PjxjaXJjbGUgY3g9IjE1MCIgY3k9IjEyNS40IiByPSI1IiBmaWxsPSIjODAwMDgwIiBzdHJva2U9IiM4MDAwODAiIHN0cm9rZS13aWR0aD0iMSIvPjxmb3JlaWduT2JqZWN0IHg9IjE2NSIgeT0iMTA5LjQiIHdpZHRoPSIyNDAiIGhlaWdodD0iMzIiPjwhRE9DVFlQRSBodG1sPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpmbGV4LXN0YXJ0O3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7bGluZS1oZWlnaHQ6MTtmb250LWZhbWlseTpzYW5zLXNlcmlmO2NvbG9yOiM4MDAwODA7Ij48bWF0aCB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoL01hdGhNTCIgZGlzcGxheT0iaW5saW5lIiBzdHlsZT0iZm9udC1zaXplOjE5LjJweDsiPjxtbz4tPC9tbz48bW4+MS40PC9tbj48L21hdGg+PC9kaXY+PC9mb3JlaWduT2JqZWN0PjxjaXJjbGUgY3g9IjE1MCIgY3k9IjI4MC40MDAwMDAwMDAwMDAwMyIgcj0iNSIgZmlsbD0iIzgwMDAwMCIgc3Ryb2tlPSIjODAwMDAwIiBzdHJva2Utd2lkdGg9IjEiLz48Zm9yZWlnbk9iamVjdCB4PSIxNjUiIHk9IjI2NC40MDAwMDAwMDAwMDAwMyIgd2lkdGg9IjI0MCIgaGVpZ2h0PSIzMiI+PCFET0NUWVBFIGh0bWw+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmZsZXgtc3RhcnQ7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtsaW5lLWhlaWdodDoxO2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7Y29sb3I6IzgwMDAwMDsiPjxtYXRoIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk4L01hdGgvTWF0aE1MIiBkaXNwbGF5PSJpbmxpbmUiIHN0eWxlPSJmb250LXNpemU6MTkuMnB4OyI+PG1vPi08L21vPjxtbj42LjQ8L21uPjwvbWF0aD48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PC9zdmc+" alt="Widget visualization" />
        <p><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>1.4</mn></math> is <qti-inline-choice-interaction response-identifier="RESPONSE_POS" shuffle="true">
                <qti-inline-choice identifier="ABOVE">above</qti-inline-choice>
                <qti-inline-choice identifier="BELOW">below</qti-inline-choice>
            </qti-inline-choice-interaction> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>6.4</mn></math>, so <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>1.4</mn></math> is <qti-inline-choice-interaction response-identifier="RESPONSE_COMP" shuffle="true">
                <qti-inline-choice identifier="GT">greater than</qti-inline-choice>
                <qti-inline-choice identifier="LT">less than</qti-inline-choice>
            </qti-inline-choice-interaction> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>6.4</mn></math>.</p>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE_POS" identifier="ABOVE" show-hide="show">
            <qti-content-body><p>Excellent! You correctly identified that <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>1.4</mn></math> is above <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>6.4</mn></math> on this vertical number line.</p>
        <p>You understand that on a vertical number line, numbers get larger as you move up, just like floors in a building! The higher the position, the greater the value.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE_POS" identifier="BELOW" show-hide="show">
            <qti-content-body><p>Let's look at the vertical number line more carefully! On vertical number lines, position tells us about value.</p>
        <p>Find <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>1.4</mn></math> and <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>6.4</mn></math> on the number line. <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>1.4</mn></math> appears higher up (above) <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>6.4</mn></math>.</p>
        <p>Think of it like a thermometer: <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>1.4</mn></math>°C is warmer (higher) than <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>6.4</mn></math>°C!</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE_COMP" identifier="GT" show-hide="show">
            <qti-content-body><p>Perfect! You correctly reasoned that since <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>1.4</mn></math> is in a higher position, it represents a greater value.</p>
        <p>This is a key insight about negative numbers: <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>1.4</mn></math> is closer to zero than <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>6.4</mn></math>, making it the larger value.</p>
        <p>Remember: With negative numbers, the one closer to zero is always greater!</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE_COMP" identifier="LT" show-hide="show">
            <qti-content-body><p>I understand the confusion! Negative numbers can be tricky because they work differently than positive numbers.</p>
        <p>Key insight: With negative numbers, the one closer to zero is always greater. <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>1.4</mn></math> is only <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1.4</mn></math> units away from zero, while <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>6.4</mn></math> is <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>6.4</mn></math> units away.</p>
        <p>Think about temperature: <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>1.4</mn></math>°C is warmer (greater) than <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>6.4</mn></math>°C, even though <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>6.4</mn></math> &gt; <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1.4</mn></math> for positive numbers.</p>
        <p>Therefore: <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>1.4</mn></math> &gt; <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>6.4</mn></math></p></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_POS"/>
                <qti-base-value base-type="identifier">ABOVE</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE_POS">
                <qti-base-value base-type="identifier">ABOVE</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_POS"/>
                <qti-base-value base-type="identifier">BELOW</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE_POS">
                <qti-base-value base-type="identifier">BELOW</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if></qti-response-condition>
<qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_COMP"/>
                <qti-base-value base-type="identifier">GT</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE_COMP">
                <qti-base-value base-type="identifier">GT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_COMP"/>
                <qti-base-value base-type="identifier">LT</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE_COMP">
                <qti-base-value base-type="identifier">LT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if></qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE_POS"/><qti-correct identifier="RESPONSE_POS"/></qti-match>
                        <qti-match><qti-variable identifier="RESPONSE_COMP"/><qti-correct identifier="RESPONSE_COMP"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "two-way-frequency-table-cold-study" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="two-way-frequency-table-cold-study"
    title="Complete a Two-Way Frequency Table"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE_A" cardinality="single" base-type="integer">
        <qti-correct-response>
            <qti-value>23</qti-value>
        </qti-correct-response>
        <qti-mapping default-value="0">
            <qti-map-entry map-key="23" mapped-value="1"/>
        </qti-mapping>
    </qti-response-declaration>
    <qti-response-declaration identifier="RESPONSE_B" cardinality="single" base-type="integer">
        <qti-correct-response>
            <qti-value>20</qti-value>
        </qti-correct-response>
        <qti-mapping default-value="0">
            <qti-map-entry map-key="20" mapped-value="1"/>
        </qti-mapping>
    </qti-response-declaration>
    <qti-response-declaration identifier="RESPONSE_C" cardinality="single" base-type="integer">
        <qti-correct-response>
            <qti-value>27</qti-value>
        </qti-correct-response>
        <qti-mapping default-value="0">
            <qti-map-entry map-key="27" mapped-value="1"/>
        </qti-mapping>
    </qti-response-declaration>
    <qti-response-declaration identifier="RESPONSE_D" cardinality="single" base-type="integer">
        <qti-correct-response>
            <qti-value>30</qti-value>
        </qti-correct-response>
        <qti-mapping default-value="0">
            <qti-map-entry map-key="30" mapped-value="1"/>
        </qti-mapping>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__GLOBAL" cardinality="single" base-type="identifier"/>
    <qti-item-body>
        <p>The Cold Be Gone Company conducted a study with <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>100</mn></math> participants. Each participant either received cold medicine or did not receive cold medicine, and the company recorded whether the participant's cold lasted <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>7</mn></math> days or longer.</p>
        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzkwIiBoZWlnaHQ9IjM0MCIgdmlld0JveD0iLTIwIC0yMCAzOTAgMzQwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIj48ZGVmcz48c3R5bGU+LmxhYmVsIHsgZm9udC1zaXplOiAxNnB4OyBmb250LXdlaWdodDogYm9sZDsgdGV4dC1hbmNob3I6IG1pZGRsZTsgfSAuY291bnQgeyBmb250LXNpemU6IDE4cHg7IHRleHQtYW5jaG9yOiBtaWRkbGU7IH08L3N0eWxlPjwvZGVmcz48cmVjdCB4PSIxIiB5PSIxIiB3aWR0aD0iMzQ4IiBoZWlnaHQ9IjI5OCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzMzMzMzIi8+PGNpcmNsZSBjeD0iMTI2Ljg3NSIgY3k9IjE1MCIgcj0iODcuNSIgZmlsbD0iIzFFOTBGRjk5IiBzdHJva2U9IiMzMzMzMzMiIGZpbGwtb3BhY2l0eT0iMC42Ii8+PGNpcmNsZSBjeD0iMjIzLjEyNSIgY3k9IjE1MCIgcj0iODcuNSIgZmlsbD0iI0ZGNkI2Qjk5IiBzdHJva2U9IiMzMzMzMzMiIGZpbGwtb3BhY2l0eT0iMC42Ii8+PHRleHQgeD0iODMuMTI1IiB5PSIzMC4xNSIgZm9udC1zaXplPSIxNiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC13ZWlnaHQ9IjcwMCI+PHRzcGFuIHg9IjgzLjEyNSIgZHk9IjBlbSI+Q29sZCBNZWRpY2luZTwvdHNwYW4+PC90ZXh0Pjx0ZXh0IHg9IjI2Ni44NzUiIHk9IjIwLjU1IiBmb250LXNpemU9IjE2IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXdlaWdodD0iNzAwIj48dHNwYW4geD0iMjY2Ljg3NSIgZHk9IjBlbSI+Q29sZCBsb25nZXI8L3RzcGFuPjx0c3BhbiB4PSIyNjYuODc1IiBkeT0iMS4yZW0iPnRoYW4gNyBkYXlzPC90c3Bhbj48L3RleHQ+PHRleHQgeD0iODMuMTI1IiB5PSIxNTAiIGZvbnQtc2l6ZT0iMTgiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGRvbWluYW50LWJhc2VsaW5lPSJtaWRkbGUiPjI3PC90ZXh0Pjx0ZXh0IHg9IjI2Ni44NzUiIHk9IjE1MCIgZm9udC1zaXplPSIxOCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZG9taW5hbnQtYmFzZWxpbmU9Im1pZGRsZSI+MjA8L3RleHQ+PHRleHQgeD0iMTc1IiB5PSIxNTAiIGZvbnQtc2l6ZT0iMTgiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGRvbWluYW50LWJhc2VsaW5lPSJtaWRkbGUiPjIzPC90ZXh0Pjx0ZXh0IHg9IjE3NSIgeT0iMjgwIiBmb250LXNpemU9IjE4IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj4zMDwvdGV4dD48L3N2Zz4=" alt="Widget visualization" />
        <p>Complete the following two-way frequency table.</p>
        <table style="border-collapse: collapse; width: 100%; border: 1px solid #000000;"><thead><tr><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2; text-align: left;"></th><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Received cold medicine</th><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Did not receive cold medicine</th></tr></thead><tbody><tr><th scope="row" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Cold lasted longer than 7 days</th><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><qti-text-entry-interaction response-identifier="RESPONSE_A" expected-length="3"/></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><qti-text-entry-interaction response-identifier="RESPONSE_B" expected-length="3"/></td></tr><tr><th scope="row" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Cold did not last longer than 7 days</th><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><qti-text-entry-interaction response-identifier="RESPONSE_C" expected-length="3"/></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><qti-text-entry-interaction response-identifier="RESPONSE_D" expected-length="3"/></td></tr></tbody></table>
        <qti-feedback-block outcome-identifier="FEEDBACK__GLOBAL" identifier="CORRECT" show-hide="show">
            <qti-content-body><p>Outstanding work! You successfully transferred all the data from the Venn diagram to the two-way frequency table.</p>
        <p>You correctly identified that the overlap region (<math xmlns="http://www.w3.org/1998/Math/MathML"><mn>23</mn></math> people) represents those who both received medicine AND had a cold lasting <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>7</mn></math> days or longer.</p>
        <p>This skill of converting between different data representations (Venn diagrams ↔ two-way tables) is crucial for analyzing real-world studies and surveys!</p>
        <table style="border-collapse: collapse; width: 100%; border: 1px solid #000000;"><caption style="padding: 8px; font-size: 1.2em; font-weight: 700; caption-side: top;">Venn to Table Conversion Guide</caption><thead><tr><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Venn Region</th><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Table Cell</th><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Count</th></tr></thead><tbody><tr><td style="border: 1px solid #000000; padding: 8px; text-align: left;">Overlap</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;">Medicine + Long Cold</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>23</mn></math></td></tr><tr><td style="border: 1px solid #000000; padding: 8px; text-align: left;">Medicine Only</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;">Medicine + Short Cold</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>27</mn></math></td></tr></tbody></table>
        <p>Challenge: Can you think of another study where a two-way table would help organize the data?</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__GLOBAL" identifier="INCORRECT" show-hide="show">
            <qti-content-body><p>Let's work through converting this Venn diagram to a two-way table step by step! This is a valuable skill for organizing data.</p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math>: Identify what the overlap represents. The <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>23</mn></math> in the center means <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>23</mn></math> people both received medicine AND had a cold lasting ≥ <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>7</mn></math> days.</p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math>: Calculate the remaining sections:</p>
        <p>• Medicine circle total is <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>27</mn></math>, so medicine-only = <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>27</mn><mo>-</mo><mn>23</mn><mo>=</mo><mn>4</mn></math></p>
        <p>• Long cold circle total is <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>20</mn></math>, so long-cold-only = <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>20</mn><mo>-</mo><mn>23</mn></math>... wait, that's negative! This means we need to recalculate.</p>
        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzkwIiBoZWlnaHQ9IjM0MCIgdmlld0JveD0iLTIwIC0yMCAzOTAgMzQwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIj48ZGVmcz48c3R5bGU+LmxhYmVsIHsgZm9udC1zaXplOiAxNnB4OyBmb250LXdlaWdodDogYm9sZDsgdGV4dC1hbmNob3I6IG1pZGRsZTsgfSAuY291bnQgeyBmb250LXNpemU6IDE4cHg7IHRleHQtYW5jaG9yOiBtaWRkbGU7IH08L3N0eWxlPjwvZGVmcz48cmVjdCB4PSIxIiB5PSIxIiB3aWR0aD0iMzQ4IiBoZWlnaHQ9IjI5OCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzMzMzMzIi8+PGNpcmNsZSBjeD0iMTI2Ljg3NSIgY3k9IjE1MCIgcj0iODcuNSIgZmlsbD0iIzQyODVGNDk5IiBzdHJva2U9IiMzMzMzMzMiIGZpbGwtb3BhY2l0eT0iMC42Ii8+PGNpcmNsZSBjeD0iMjIzLjEyNSIgY3k9IjE1MCIgcj0iODcuNSIgZmlsbD0iI0ZGNkI2Qjk5IiBzdHJva2U9IiMzMzMzMzMiIGZpbGwtb3BhY2l0eT0iMC42Ii8+PHRleHQgeD0iODMuMTI1IiB5PSIzMC4xNSIgZm9udC1zaXplPSIxNiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC13ZWlnaHQ9IjcwMCI+PHRzcGFuIHg9IjgzLjEyNSIgZHk9IjBlbSI+TWVkaWNpbmU8L3RzcGFuPjwvdGV4dD48dGV4dCB4PSIyNjYuODc1IiB5PSIzMC4xNSIgZm9udC1zaXplPSIxNiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC13ZWlnaHQ9IjcwMCI+PHRzcGFuIHg9IjI2Ni44NzUiIGR5PSIwZW0iPkxvbmcgQ29sZDwvdHNwYW4+PC90ZXh0Pjx0ZXh0IHg9IjgzLjEyNSIgeT0iMTUwIiBmb250LXNpemU9IjE4IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkb21pbmFudC1iYXNlbGluZT0ibWlkZGxlIj4yNzwvdGV4dD48dGV4dCB4PSIyNjYuODc1IiB5PSIxNTAiIGZvbnQtc2l6ZT0iMTgiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGRvbWluYW50LWJhc2VsaW5lPSJtaWRkbGUiPjIwPC90ZXh0Pjx0ZXh0IHg9IjE3NSIgeT0iMTUwIiBmb250LXNpemU9IjE4IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkb21pbmFudC1iYXNlbGluZT0ibWlkZGxlIj4yMzwvdGV4dD48dGV4dCB4PSIxNzUiIHk9IjI4MCIgZm9udC1zaXplPSIxOCIgdGV4dC1hbmNob3I9Im1pZGRsZSI+MzA8L3RleHQ+PC9zdmc+" alt="Widget visualization" />
        <p>Remember: The overlap goes in the cell where both conditions are true, then work outward to fill the rest!</p></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        
    <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_A"/>
                <qti-correct identifier="RESPONSE_A"/>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">CORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_B"/>
                <qti-correct identifier="RESPONSE_B"/>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">CORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_C"/>
                <qti-correct identifier="RESPONSE_C"/>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">CORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_D"/>
                <qti-correct identifier="RESPONSE_D"/>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">CORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE_A"/><qti-correct identifier="RESPONSE_A"/></qti-match>
                        <qti-match><qti-variable identifier="RESPONSE_B"/><qti-correct identifier="RESPONSE_B"/></qti-match>
                        <qti-match><qti-variable identifier="RESPONSE_C"/><qti-correct identifier="RESPONSE_C"/></qti-match>
                        <qti-match><qti-variable identifier="RESPONSE_D"/><qti-correct identifier="RESPONSE_D"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "circle-equation-center-radius" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="circle-equation-center-radius"
    title="Find the center and radius of a circle from its equation"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE_X" cardinality="single" base-type="integer">
        <qti-correct-response>
            <qti-value>-9</qti-value>
        </qti-correct-response>
        <qti-mapping default-value="0">
            <qti-map-entry map-key="-9" mapped-value="1"/>
        </qti-mapping>
    </qti-response-declaration>
    <qti-response-declaration identifier="RESPONSE_Y" cardinality="single" base-type="integer">
        <qti-correct-response>
            <qti-value>-7</qti-value>
        </qti-correct-response>
        <qti-mapping default-value="0">
            <qti-map-entry map-key="-7" mapped-value="1"/>
        </qti-mapping>
    </qti-response-declaration>
    <qti-response-declaration identifier="RESPONSE_R" cardinality="single" base-type="integer">
        <qti-correct-response>
            <qti-value>5</qti-value>
        </qti-correct-response>
        <qti-mapping default-value="0">
            <qti-map-entry map-key="5" mapped-value="1"/>
        </qti-mapping>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__GLOBAL" cardinality="single" base-type="identifier"/>
    <qti-item-body>
        <p>A certain circle can be represented by the following equation.</p>
        <p><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><msup><mi>y</mi><mn>2</mn></msup><mo>+</mo><mn>18</mn><mi>x</mi><mo>+</mo><mn>14</mn><mi>y</mi><mo>+</mo><mn>105</mn><mo>=</mo><mn>0</mn></mrow></math></p>
        <p>What is the center of this circle? (<qti-text-entry-interaction response-identifier="RESPONSE_X" expected-length="3"/>, <qti-text-entry-interaction response-identifier="RESPONSE_Y" expected-length="3"/>) and radius <qti-text-entry-interaction response-identifier="RESPONSE_R" expected-length="2"/>?</p>
        <qti-feedback-block outcome-identifier="FEEDBACK__GLOBAL" identifier="CORRECT" show-hide="show">
            <qti-content-body><p>Outstanding work! You successfully completed the square and found that the circle is centered at (<math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>9</mn></math>, <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>7</mn></math>) with a radius of <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5</mn></math> units.</p>
        <p>You correctly converted the general form to standard form: <math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow><mo>(</mo><mi>x</mi><mo>+</mo><mn>9</mn><mo>)</mo></mrow><mn>2</mn></msup><mo>+</mo><msup><mrow><mo>(</mo><mi>y</mi><mo>+</mo><mn>7</mn><mo>)</mo></mrow><mn>2</mn></msup><mo>=</mo><mn>25</mn></math></p>
        <p>This demonstrates mastery of completing the square! This technique is crucial for analyzing conic sections, optimizing quadratic functions, and solving quadratic equations.</p>
        <p>Remember: In <math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow><mo>(</mo><mi>x</mi><mo>-</mo><mi>h</mi><mo>)</mo></mrow><mn>2</mn></msup><mo>+</mo><msup><mrow><mo>(</mo><mi>y</mi><mo>-</mo><mi>k</mi><mo>)</mo></mrow><mn>2</mn></msup><mo>=</mo><msup><mi>r</mi><mn>2</mn></msup></math>, the center is <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>(</mo><mi>h</mi><mo>,</mo><mi>k</mi><mo>)</mo></math> and radius is <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>r</mi></math>.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__GLOBAL" identifier="INCORRECT" show-hide="show">
            <qti-content-body><p>Completing the square can be challenging! Let's work through this step-by-step to find the center and radius.</p>
        <p>Starting with: <math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><msup><mi>y</mi><mn>2</mn></msup><mo>+</mo><mn>18</mn><mi>x</mi><mo>+</mo><mn>14</mn><mi>y</mi><mo>+</mo><mn>105</mn><mo>=</mo><mn>0</mn></math></p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math>: Group x terms and y terms:</p>
        <p><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mo>(</mo><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><mn>18</mn><mi>x</mi><mo>)</mo></mrow><mo>+</mo><mrow><mo>(</mo><msup><mi>y</mi><mn>2</mn></msup><mo>+</mo><mn>14</mn><mi>y</mi><mo>)</mo></mrow><mo>=</mo><mo>-</mo><mn>105</mn></math></p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math>: Complete each square by adding <math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow><mo>(</mo><mfrac><mi>b</mi><mn>2</mn></mfrac><mo>)</mo></mrow><mn>2</mn></msup></math>:</p>
        <p>For x: <math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow><mo>(</mo><mfrac><mn>18</mn><mn>2</mn></mfrac><mo>)</mo></mrow><mn>2</mn></msup><mo>=</mo><mn>81</mn></math>, for y: <math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow><mo>(</mo><mfrac><mn>14</mn><mn>2</mn></mfrac><mo>)</mo></mrow><mn>2</mn></msup><mo>=</mo><mn>49</mn></math></p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math>: Rewrite in standard form:</p>
        <p><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow><mo>(</mo><mi>x</mi><mo>+</mo><mn>9</mn><mo>)</mo></mrow><mn>2</mn></msup><mo>+</mo><msup><mrow><mo>(</mo><mi>y</mi><mo>+</mo><mn>7</mn><mo>)</mo></mrow><mn>2</mn></msup><mo>=</mo><mn>25</mn></math></p>
        <table style="border-collapse: collapse; width: 100%; border: 1px solid #000000;"><caption style="padding: 8px; font-size: 1.2em; font-weight: 700; caption-side: top;">Completing the Square Steps</caption><thead><tr><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Step</th><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Equation</th><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">What We Did</th></tr></thead><tbody><tr><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;">Group x and y terms</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;">Separate variables</td></tr><tr><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;">Complete squares</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;">Add/subtract constants</td></tr><tr><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;">Standard form</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;">Read center and radius</td></tr></tbody></table>
        <p>Therefore: center = (<math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>9</mn></math>, <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>7</mn></math>) and radius = <math xmlns="http://www.w3.org/1998/Math/MathML"><msqrt><mn>25</mn></msqrt><mo>=</mo><mn>5</mn></math></p></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        
    <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_X"/>
                <qti-correct identifier="RESPONSE_X"/>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">CORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_Y"/>
                <qti-correct identifier="RESPONSE_Y"/>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">CORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_R"/>
                <qti-correct identifier="RESPONSE_R"/>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">CORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE_X"/><qti-correct identifier="RESPONSE_X"/></qti-match>
                        <qti-match><qti-variable identifier="RESPONSE_Y"/><qti-correct identifier="RESPONSE_Y"/></qti-match>
                        <qti-match><qti-variable identifier="RESPONSE_R"/><qti-correct identifier="RESPONSE_R"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "haruka-exam-score" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="haruka-exam-score"
    title="Find a missing data point given the mean"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE" cardinality="single" base-type="integer">
        <qti-correct-response>
            <qti-value>87</qti-value>
        </qti-correct-response>
        <qti-mapping default-value="0">
            <qti-map-entry map-key="87" mapped-value="1"/>
        </qti-mapping>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__GLOBAL" cardinality="single" base-type="identifier"/>
    <qti-item-body>
        <p>The following table shows each of Haruka's final exam scores last semester.</p>
        <table style="border-collapse: collapse; width: 100%; border: 1px solid #000000;"><thead><tr><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Final exam</th><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Score on a 100-point scale</th></tr></thead><tbody><tr><td style="border: 1px solid #000000; padding: 8px; text-align: left;">Astronomy</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>72</mn></math></td></tr><tr><td style="border: 1px solid #000000; padding: 8px; text-align: left;">Biology</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>85</mn></math></td></tr><tr><td style="border: 1px solid #000000; padding: 8px; text-align: left;">Physics</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>92</mn></math></td></tr><tr><td style="border: 1px solid #000000; padding: 8px; text-align: left;">Chemistry</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;">?</td></tr></tbody></table>
        <p>If the mean of the data set is <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>84</mn></math> points, find Haruka's final exam score in chemistry. <qti-text-entry-interaction response-identifier="RESPONSE" expected-length="3"/></p>
        <qti-feedback-block outcome-identifier="FEEDBACK__GLOBAL" identifier="CORRECT" show-hide="show">
            <qti-content-body><p>Excellent work! You correctly found that Haruka scored <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>87</mn></math> points on her chemistry exam.</p>
        <p>You demonstrated solid understanding of how to work backwards from a mean! You used the fact that if the mean of <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4</mn></math> scores is <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>84</mn></math>, then the total must be <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4</mn><mo>×</mo><mn>84</mn><mo>=</mo><mn>336</mn></math>.</p>
        <p>Then you subtracted the known scores: <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>336</mn><mo>-</mo><mn>72</mn><mo>-</mo><mn>85</mn><mo>-</mo><mn>92</mn><mo>=</mo><mn>87</mn></math></p>
        <p>This reverse-engineering skill is incredibly useful for quality control, budgeting, and analyzing incomplete data sets!</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__GLOBAL" identifier="INCORRECT" show-hide="show">
            <qti-content-body><p>Let's work through finding the missing score using the mean! This is a great problem-solving strategy.</p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math>: Use the mean formula. Mean = <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mtext>Sum of all scores</mtext><mtext>Number of scores</mtext></mfrac></math></p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math>: Find the total sum. If mean = <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>84</mn></math> and there are <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4</mn></math> scores, then:</p>
        <p>Total sum = <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>84</mn><mo>×</mo><mn>4</mn><mo>=</mo><mn>336</mn></math></p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math>: Subtract the known scores:</p>
        <p>Chemistry score = <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>336</mn><mo>-</mo><mn>72</mn><mo>-</mo><mn>85</mn><mo>-</mo><mn>92</mn><mo>=</mo><mn>87</mn></math></p>
        <table style="border-collapse: collapse; width: 100%; border: 1px solid #000000;"><caption style="padding: 8px; font-size: 1.2em; font-weight: 700; caption-side: top;">Mean Calculation Breakdown</caption><thead><tr><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Step</th><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Calculation</th><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Result</th></tr></thead><tbody><tr><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;">Total = Mean × Count</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>84</mn><mo>×</mo><mn>4</mn><mo>=</mo><mn>336</mn></math></td></tr><tr><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;">Sum known scores</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>72</mn><mo>+</mo><mn>85</mn><mo>+</mo><mn>92</mn><mo>=</mo><mn>249</mn></math></td></tr><tr><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;">Find missing score</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>336</mn><mo>-</mo><mn>249</mn><mo>=</mo><mn>87</mn></math></td></tr></tbody></table>
        <p>Therefore, Haruka scored <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>87</mn></math> points on her chemistry exam.</p></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        
    <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-correct identifier="RESPONSE"/>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">CORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE"/><qti-correct identifier="RESPONSE"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "libertyville-business-cycle" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="libertyville-business-cycle"
    title="Business Cycle Trough Identification"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE" cardinality="single" base-type="identifier">
        <qti-correct-response>
            <qti-value>C</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__RESPONSE" cardinality="single" base-type="identifier"/>
    <qti-item-body>
        <p>The table below shows the gross domestic product (GDP) and unemployment data for Libertyville over five years</p>
        <table style="border-collapse: collapse; width: 100%; border: 1px solid #000000;"><thead><tr><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Year</th><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">GDP (% change)</th><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Unemployment (% of the labor force)</th></tr></thead><tbody><tr><td style="border: 1px solid #000000; padding: 8px; text-align: left;">2014</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0</mn><mo>%</mo></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>7</mn><mo>%</mo></math></td></tr><tr><td style="border: 1px solid #000000; padding: 8px; text-align: left;">2015</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>1</mn><mo>%</mo></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>8</mn><mo>%</mo></math></td></tr><tr><td style="border: 1px solid #000000; padding: 8px; text-align: left;">2016</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>2</mn><mo>%</mo></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>10</mn><mo>%</mo></math></td></tr><tr><td style="border: 1px solid #000000; padding: 8px; text-align: left;">2017</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn><mo>%</mo></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>6</mn><mo>%</mo></math></td></tr><tr><td style="border: 1px solid #000000; padding: 8px; text-align: left;">2018</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4</mn><mo>%</mo></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5</mn><mo>%</mo></math></td></tr><tr><td style="border: 1px solid #000000; padding: 8px; text-align: left;">2019</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn><mo>%</mo></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>6</mn><mo>%</mo></math></td></tr></tbody></table>
        <div><qti-choice-interaction response-identifier="RESPONSE" shuffle="true" min-choices="1" max-choices="1">
            <qti-prompt>In which of the years was Libertyville most likely experiencing a trough in its business cycle?</qti-prompt>
            <qti-simple-choice identifier="A"><p>2014</p></qti-simple-choice>
            <qti-simple-choice identifier="B"><p>2015</p></qti-simple-choice>
            <qti-simple-choice identifier="C"><p>2016</p></qti-simple-choice>
            <qti-simple-choice identifier="D"><p>2017</p></qti-simple-choice>
            <qti-simple-choice identifier="E"><p>2018</p></qti-simple-choice>
        </qti-choice-interaction></div>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="A" show-hide="show">
            <qti-content-body><p>GDP fell for the two years following 2014, indicating that Libertyville entered the recession phase of its business cycle in 2014. A trough is the turning point at which a recession ends and an expansion begins.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="B" show-hide="show">
            <qti-content-body><p>GDP fell in 2015, indicating that Libertyville was in the recession phase of its business cycle in 2015. However the economy still had further to fall before it started to turn around. A trough is the turning point at which a recession ends and an expansion begins.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="C" show-hide="show">
            <qti-content-body><p>GDP fell in 2016 but increased in 2017, indicating that 2016 was the turning point at which Libertyville's two year recession ended and the economy entered the recovery/expansion phase of its business cycle.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="D" show-hide="show">
            <qti-content-body><p>GDP increased in 2017, indicating that Libertyville was in the expansion phase of its business cycle. A trough is the turning point at which a recession ends and an expansion begins.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="E" show-hide="show">
            <qti-content-body><p>GDP increased in 2018, indicating that Libertyville was in the expansion phase of its business cycle. A trough is the turning point at which a recession ends and an expansion begins.</p></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">A</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">A</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">B</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">B</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">C</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">C</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">D</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">D</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">E</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">E</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if></qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE"/><qti-correct identifier="RESPONSE"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "continuity-differentiability-piecewise" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="continuity-differentiability-piecewise"
    title="Continuity and Differentiability of a Piecewise Function"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE" cardinality="single" base-type="identifier">
        <qti-correct-response>
            <qti-value>C</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__RESPONSE" cardinality="single" base-type="identifier"/>
    <qti-item-body>
        <p><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo>{</mo><mtable><mtr><mtd columnalign="left"><mrow><mo>-</mo><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><mn>3</mn></mrow></mtd><mtd columnalign="left"><mrow><mo>,</mo><mi>x</mi><mo>≤</mo><mn>2</mn></mrow></mtd></mtr><mtr><mtd columnalign="left"><mrow><msup><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>-</mo><mn>4</mn><mo stretchy="false">)</mo></mrow><mn>2</mn></msup><mo>-</mo><mn>5</mn></mrow></mtd><mtd columnalign="left"><mrow><mo>,</mo><mi>x</mi><mo>&gt;</mo><mn>2</mn></mrow></mtd></mtr></mtable></mrow></mrow></math></p>
        <div><qti-choice-interaction response-identifier="RESPONSE" shuffle="true" min-choices="1" max-choices="1">
            <qti-prompt>Is the function given below continuous/differentiable at <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>=</mo><mn>2</mn></math>?</qti-prompt>
            <qti-simple-choice identifier="A"><p>continuous, not differentiable</p></qti-simple-choice>
            <qti-simple-choice identifier="B"><p>differentiable, not continuous</p></qti-simple-choice>
            <qti-simple-choice identifier="C"><p>both continuous and differentiable</p></qti-simple-choice>
            <qti-simple-choice identifier="D"><p>neither continuous nor differentiable</p></qti-simple-choice>
        </qti-choice-interaction></div>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="A" show-hide="show">
            <qti-content-body><p>This would be the case if the function values matched at <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>=</mo><mn>2</mn></math> but the derivatives from left and right were different. Check both the limit values and the derivatives.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="B" show-hide="show">
            <qti-content-body><p>This is impossible! A function must be continuous at a point to be differentiable there.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="C" show-hide="show">
            <qti-content-body><p>Correct! The function values match at <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>=</mo><mn>2</mn></math> (both equal <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>1</mn></math>) and the derivatives from both sides equal <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>4</mn></math>, so the function is both continuous and differentiable.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="D" show-hide="show">
            <qti-content-body><p>Not quite. The function doesn't have a jump discontinuity at <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>=</mo><mn>2</mn></math>. Check if the left and right limits at <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>=</mo><mn>2</mn></math> are equal.</p></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">A</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">A</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">B</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">B</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">C</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">C</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">D</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">D</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if></qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE"/><qti-correct identifier="RESPONSE"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "stokes-theorem-rewrite" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="stokes-theorem-rewrite"
    title="Rewrite Surface Integral using Stokes&apos; Theorem"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE" cardinality="single" base-type="string">
        <qti-correct-response>
            <qti-value>x^2/2-x*cos(z)</qti-value>
        </qti-correct-response>
        <qti-mapping default-value="0">
            <qti-map-entry map-key="x^2/2-x*cos(z)" mapped-value="1"/>
        </qti-mapping>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__GLOBAL" cardinality="single" base-type="identifier"/>
    <qti-item-body>
        <p>Use Stokes' theorem to rewrite the surface integral as a line integral. <qti-text-entry-interaction response-identifier="RESPONSE" expected-length="20"/></p>
        <qti-feedback-block outcome-identifier="FEEDBACK__GLOBAL" identifier="CORRECT" show-hide="show">
            <qti-content-body><p>Correct!</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__GLOBAL" identifier="INCORRECT" show-hide="show">
            <qti-content-body><p>Not quite. Let's use Stokes' theorem to solve this.</p></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        
    <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-correct identifier="RESPONSE"/>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">CORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE"/><qti-correct identifier="RESPONSE"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "estimate-derivative-from-table" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="estimate-derivative-from-table"
    title="Estimate derivative from a table of values"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE" cardinality="single" base-type="identifier">
        <qti-correct-response>
            <qti-value>D</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__RESPONSE" cardinality="single" base-type="identifier"/>
    <qti-item-body>
        <p>This table gives select values of the differentiable function <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>h</mi></math>.</p>
        <table style="border-collapse: collapse; width: 100%; border: 1px solid #000000;"><thead><tr><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2; text-align: left;"></th><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;"></th><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;"></th><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;"></th><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;"></th><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;"></th><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;"></th></tr></thead><tbody><tr><th scope="row" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></th><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>9</mn></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>8</mn></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>6</mn></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>3</mn></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>2</mn></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>1</mn></math></td></tr><tr><th scope="row" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>h</mi><mo>(</mo><mi>x</mi><mo>)</mo></math></th><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>30</mn></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>29</mn></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>36</mn></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>20</mn></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>35</mn></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>47</mn></math></td></tr></tbody></table>
        <div><qti-choice-interaction response-identifier="RESPONSE" shuffle="true" min-choices="1" max-choices="1">
            <qti-prompt>What is the best estimate for <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msup><mi>h</mi><mo>'</mo></msup><mo>(</mo><mo>-</mo><mn>4</mn><mo>)</mo></mrow></math> we can make based on this table?</qti-prompt>
            <qti-simple-choice identifier="A"><p><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>28</mn></math></p></qti-simple-choice>
            <qti-simple-choice identifier="B"><p><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>13.5</mn></math></p></qti-simple-choice>
            <qti-simple-choice identifier="C"><p><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>2.125</mn></math></p></qti-simple-choice>
            <qti-simple-choice identifier="D"><p><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5.33</mn></math></p></qti-simple-choice>
        </qti-choice-interaction></div>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="A" show-hide="show">
            <qti-content-body><p>This can be an estimate for <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>h</mi><mo>(</mo><mo>-</mo><mn>4</mn><mo>)</mo></math>, but we are looking for <math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>h</mi><mo>'</mo></msup><mo>(</mo><mo>-</mo><mn>4</mn><mo>)</mo></math>.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="B" show-hide="show">
            <qti-content-body><p>We should pick an interval that includes <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>=</mo><mo>-</mo><mn>4</mn></math>.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="C" show-hide="show">
            <qti-content-body><p>We can pick a closer interval to estimate <math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>h</mi><mo>'</mo></msup></math> specifically at <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>=</mo><mo>-</mo><mn>4</mn></math>.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="D" show-hide="show">
            <qti-content-body><p>Correct! The best estimate uses the narrowest interval available that contains -4.</p></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">A</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">A</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">B</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">B</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">C</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">C</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">D</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">D</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if></qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE"/><qti-correct identifier="RESPONSE"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "games-won-barchart" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="games-won-barchart"
    title="Reading a bar chart"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE" cardinality="single" base-type="integer">
        <qti-correct-response>
            <qti-value>14</qti-value>
        </qti-correct-response>
        <qti-mapping default-value="0">
            <qti-map-entry map-key="14" mapped-value="1"/>
        </qti-mapping>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__GLOBAL" cardinality="single" base-type="identifier"/>
    <qti-item-body>
        <p>The Lions, Tigers, and Bears won baseball games last summer.</p>
        <p>This bar graph shows how many games each team won.</p>
        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTY4IiBoZWlnaHQ9IjQyMSIgdmlld0JveD0iLTgwIC05IDU2OCA0MjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiPjxkZWZzPjxjbGlwUGF0aCBpZD0iY2xpcC0wIj48cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iNDgwIiBoZWlnaHQ9IjM0MCIvPjwvY2xpcFBhdGg+PC9kZWZzPjxsaW5lIHgxPSIwIiB5MT0iMCIgeDI9IjAiIHkyPSIzNDAiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iLTUiIHkxPSIzNDAiIHgyPSIwIiB5Mj0iMzQwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iLTgiIHk9IjM0NCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9ImVuZCIgZmlsbD0iIzMzMzMzMyI+MDwvdGV4dD48bGluZSB4MT0iMCIgeTE9IjM0MCIgeDI9IjQ4MCIgeTI9IjM0MCIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48bGluZSB4MT0iLTUiIHkxPSIyOTcuNSIgeDI9IjAiIHkyPSIyOTcuNSIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9Ii04IiB5PSIzMDEuNSIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9ImVuZCIgZmlsbD0iIzMzMzMzMyI+MjwvdGV4dD48bGluZSB4MT0iMCIgeTE9IjI5Ny41IiB4Mj0iNDgwIiB5Mj0iMjk3LjUiIHN0cm9rZT0iI2UwZTBlMCIgc3Ryb2tlLXdpZHRoPSIxIi8+PGxpbmUgeDE9Ii01IiB5MT0iMjU1IiB4Mj0iMCIgeTI9IjI1NSIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9Ii04IiB5PSIyNTkiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJlbmQiIGZpbGw9IiMzMzMzMzMiPjQ8L3RleHQ+PGxpbmUgeDE9IjAiIHkxPSIyNTUiIHgyPSI0ODAiIHkyPSIyNTUiIHN0cm9rZT0iI2UwZTBlMCIgc3Ryb2tlLXdpZHRoPSIxIi8+PGxpbmUgeDE9Ii01IiB5MT0iMjEyLjUiIHgyPSIwIiB5Mj0iMjEyLjUiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSItOCIgeT0iMjE2LjUiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJlbmQiIGZpbGw9IiMzMzMzMzMiPjY8L3RleHQ+PGxpbmUgeDE9IjAiIHkxPSIyMTIuNSIgeDI9IjQ4MCIgeTI9IjIxMi41IiBzdHJva2U9IiNlMGUwZTAiIHN0cm9rZS13aWR0aD0iMSIvPjxsaW5lIHgxPSItNSIgeTE9IjE3MCIgeDI9IjAiIHkyPSIxNzAiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSItOCIgeT0iMTc0IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0iZW5kIiBmaWxsPSIjMzMzMzMzIj44PC90ZXh0PjxsaW5lIHgxPSIwIiB5MT0iMTcwIiB4Mj0iNDgwIiB5Mj0iMTcwIiBzdHJva2U9IiNlMGUwZTAiIHN0cm9rZS13aWR0aD0iMSIvPjxsaW5lIHgxPSItNSIgeTE9IjEyNy41IiB4Mj0iMCIgeTI9IjEyNy41IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iLTgiIHk9IjEzMS41IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0iZW5kIiBmaWxsPSIjMzMzMzMzIj4xMDwvdGV4dD48bGluZSB4MT0iMCIgeTE9IjEyNy41IiB4Mj0iNDgwIiB5Mj0iMTI3LjUiIHN0cm9rZT0iI2UwZTBlMCIgc3Ryb2tlLXdpZHRoPSIxIi8+PGxpbmUgeDE9Ii01IiB5MT0iODUiIHgyPSIwIiB5Mj0iODUiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSItOCIgeT0iODkiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJlbmQiIGZpbGw9IiMzMzMzMzMiPjEyPC90ZXh0PjxsaW5lIHgxPSIwIiB5MT0iODUiIHgyPSI0ODAiIHkyPSI4NSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48bGluZSB4MT0iLTUiIHkxPSI0Mi41IiB4Mj0iMCIgeTI9IjQyLjUiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSItOCIgeT0iNDYuNSIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9ImVuZCIgZmlsbD0iIzMzMzMzMyI+MTQ8L3RleHQ+PGxpbmUgeDE9IjAiIHkxPSI0Mi41IiB4Mj0iNDgwIiB5Mj0iNDIuNSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48bGluZSB4MT0iLTUiIHkxPSIwIiB4Mj0iMCIgeTI9IjAiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSItOCIgeT0iNCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9ImVuZCIgZmlsbD0iIzMzMzMzMyI+MTY8L3RleHQ+PGxpbmUgeDE9IjAiIHkxPSIwIiB4Mj0iNDgwIiB5Mj0iMCIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48dGV4dCB4PSItNjEuNiIgeT0iMTcwIiBmb250LXNpemU9IjE2IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzMzMzMzIiBkb21pbmFudC1iYXNlbGluZT0ibWlkZGxlIiB0cmFuc2Zvcm09InJvdGF0ZSgtOTAsIC02MS42LCAxNzApIj48dHNwYW4geD0iLTYxLjYiIGR5PSIwZW0iPkdhbWVzIFdvbjwvdHNwYW4+PC90ZXh0PjxsaW5lIHgxPSIwIiB5MT0iMzQwIiB4Mj0iNDgwIiB5Mj0iMzQwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjgwIiB5MT0iMzQwIiB4Mj0iODAiIHkyPSIzNDUiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSI4MCIgeT0iMzUzIiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkb21pbmFudC1iYXNlbGluZT0iaGFuZ2luZyIgZmlsbD0iIzMzMzMzMyI+TGlvbnM8L3RleHQ+PGxpbmUgeDE9IjI0MCIgeTE9IjM0MCIgeDI9IjI0MCIgeTI9IjM0NSIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjI0MCIgeT0iMzUzIiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkb21pbmFudC1iYXNlbGluZT0iaGFuZ2luZyIgZmlsbD0iIzMzMzMzMyI+VGlnZXJzPC90ZXh0PjxsaW5lIHgxPSI0MDAiIHkxPSIzNDAiIHgyPSI0MDAiIHkyPSIzNDUiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSI0MDAiIHk9IjM1MyIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZG9taW5hbnQtYmFzZWxpbmU9ImhhbmdpbmciIGZpbGw9IiMzMzMzMzMiPkJlYXJzPC90ZXh0Pjx0ZXh0IHg9IjI0MCIgeT0iMzg3IiBmb250LXNpemU9IjE2IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzMzMzMzIj48dHNwYW4geD0iMjQwIiBkeT0iMGVtIj5UZWFtPC90c3Bhbj48L3RleHQ+PGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAtMCkiPjxyZWN0IHg9IjE2IiB5PSI0Mi41IiB3aWR0aD0iMTI4IiBoZWlnaHQ9IjI5Ny41IiBmaWxsPSIjNDI4NUY0Ii8+PHJlY3QgeD0iMTc2IiB5PSIyOTcuNSIgd2lkdGg9IjEyOCIgaGVpZ2h0PSI0Mi41IiBmaWxsPSIjNDI4NUY0Ii8+PHJlY3QgeD0iMzM2IiB5PSIxOTEuMjUiIHdpZHRoPSIxMjgiIGhlaWdodD0iMTQ4Ljc1IiBmaWxsPSIjNDI4NUY0Ii8+PC9nPjwvc3ZnPg==" alt="Widget visualization" />
        <p>How many games did the Lions win? <qti-text-entry-interaction response-identifier="RESPONSE" expected-length="3"/></p>
        <qti-feedback-block outcome-identifier="FEEDBACK__GLOBAL" identifier="CORRECT" show-hide="show">
            <qti-content-body><p>Perfect! You correctly read that the Lions won <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>14</mn></math> games by looking at where their bar reaches on the vertical axis.</p>
        <p>You demonstrated excellent bar chart reading skills! You found the Lions bar and traced it up to see that it reaches the <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>14</mn></math> mark on the "Games Won" axis.</p>
        <p>Bar charts are everywhere in real life - sports statistics, sales reports, weather data, and survey results. This skill will help you interpret data throughout your life!</p>
        <p>Fun fact: The Lions won <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>7</mn></math> times more games than the Tigers and exactly <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math> times more than the Bears!</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__GLOBAL" identifier="INCORRECT" show-hide="show">
            <qti-content-body><p>Let's read this bar chart together step by step! Bar charts show data by the height of each bar.</p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math>: Find the Lions bar. Look along the bottom (x-axis) for "Lions" and find their bar.</p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math>: Follow the top of the Lions bar horizontally to the left until you reach the vertical axis (y-axis).</p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math>: Read the number where the bar height meets the "Games Won" axis. This should be <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>14</mn></math>.</p>
        <table style="border-collapse: collapse; width: 100%; border: 1px solid #000000;"><caption style="padding: 8px; font-size: 1.2em; font-weight: 700; caption-side: top;">Bar Chart Reading Steps</caption><thead><tr><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Step</th><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">What to Do</th></tr></thead><tbody><tr><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;">Find the bar for your team</td></tr><tr><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;">Look at the top of the bar</td></tr><tr><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;">Trace horizontally to the y-axis</td></tr><tr><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4</mn></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;">Read the number value</td></tr></tbody></table>
        <p>Memory tip: Always trace from the data to the axis - don't guess by eye!</p></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        
    <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-correct identifier="RESPONSE"/>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">CORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE"/><qti-correct identifier="RESPONSE"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "doll-height-line-plot" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="doll-height-line-plot"
    title="Interpreting a line plot"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE" cardinality="single" base-type="integer">
        <qti-correct-response>
            <qti-value>5</qti-value>
        </qti-correct-response>
        <qti-mapping default-value="0">
            <qti-map-entry map-key="5" mapped-value="1"/>
        </qti-mapping>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__GLOBAL" cardinality="single" base-type="identifier"/>
    <qti-item-body>
        <p>The heights of Sabrina's dolls are shown below.</p>
        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzkwIiBoZWlnaHQ9IjM0MCIgdmlld0JveD0iLTIwIC0yMCAzOTAgMzQwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIj48bGluZSB4MT0iMjAiIHkxPSIyMzgiIHgyPSIzMzAiIHkyPSIyMzgiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIxNzUiIHk9IjI4NCIgZm9udC1zaXplPSIxNCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+RG9sbCBIZWlnaHQgKGNlbnRpbWV0ZXJzKTwvdGV4dD48bGluZSB4MT0iMjAiIHkxPSIyMzMiIHgyPSIyMCIgeTI9IjI0MyIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjIwIiB5PSIyNTgiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjIwPC90ZXh0PjxsaW5lIHgxPSI4MiIgeTE9IjIzMyIgeDI9IjgyIiB5Mj0iMjQzIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iODIiIHk9IjI1OCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+MjE8L3RleHQ+PGxpbmUgeDE9IjE0NCIgeTE9IjIzMyIgeDI9IjE0NCIgeTI9IjI0MyIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjE0NCIgeT0iMjU4IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzMzMzMzIj4yMjwvdGV4dD48bGluZSB4MT0iMjA2IiB5MT0iMjMzIiB4Mj0iMjA2IiB5Mj0iMjQzIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMjA2IiB5PSIyNTgiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjIzPC90ZXh0PjxsaW5lIHgxPSIyNjgiIHkxPSIyMzMiIHgyPSIyNjgiIHkyPSIyNDMiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIyNjgiIHk9IjI1OCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+MjQ8L3RleHQ+PGxpbmUgeDE9IjMzMCIgeTE9IjIzMyIgeDI9IjMzMCIgeTI9IjI0MyIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjMzMCIgeT0iMjU4IiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzMzMzMzIj4yNTwvdGV4dD48Y2lyY2xlIGN4PSI4MiIgY3k9IjIyMiIgcj0iNiIgZmlsbD0iIzMzMzMzMyIvPjxjaXJjbGUgY3g9IjE0NCIgY3k9IjIyMiIgcj0iNiIgZmlsbD0iIzMzMzMzMyIvPjxjaXJjbGUgY3g9IjE0NCIgY3k9IjIwOCIgcj0iNiIgZmlsbD0iIzMzMzMzMyIvPjxjaXJjbGUgY3g9IjIwNiIgY3k9IjIyMiIgcj0iNiIgZmlsbD0iIzMzMzMzMyIvPjxjaXJjbGUgY3g9IjIwNiIgY3k9IjIwOCIgcj0iNiIgZmlsbD0iIzMzMzMzMyIvPjxjaXJjbGUgY3g9IjIwNiIgY3k9IjE5NCIgcj0iNiIgZmlsbD0iIzMzMzMzMyIvPjxjaXJjbGUgY3g9IjI2OCIgY3k9IjIyMiIgcj0iNiIgZmlsbD0iIzMzMzMzMyIvPjxjaXJjbGUgY3g9IjI2OCIgY3k9IjIwOCIgcj0iNiIgZmlsbD0iIzMzMzMzMyIvPjwvc3ZnPg==" alt="Widget visualization" />
        <p>How many dolls are taller than <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>22</mn></math> centimeters? <qti-text-entry-interaction response-identifier="RESPONSE" expected-length="3"/></p>
        <qti-feedback-block outcome-identifier="FEEDBACK__GLOBAL" identifier="CORRECT" show-hide="show">
            <qti-content-body><p>Excellent work! You correctly found that <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5</mn></math> dolls are taller than <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>22</mn><mtext> cm</mtext></math>.</p>
        <p>You demonstrated great understanding of how to read dot plots! You correctly identified that "taller than <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>22</mn></math> cm" means looking at positions <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>23</mn></math> and <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>24</mn></math> cm.</p>
        <p>Your counting was perfect: <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math> dots at <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>23</mn></math> cm + <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math> dots at <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>24</mn></math> cm = <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5</mn></math> dolls total.</p>
        <p>This skill of reading data from dot plots is essential for understanding surveys, scientific data, and statistical analysis!</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__GLOBAL" identifier="INCORRECT" show-hide="show">
            <qti-content-body><p>Let's read this dot plot together step by step! Dot plots can be tricky, but there's a clear method.</p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math>: Understand what "taller than <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>22</mn></math> cm" means. This means heights greater than <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>22</mn></math>, so we look at <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>23</mn></math> cm and <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>24</mn></math> cm.</p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math>: Count dots at each position:</p>
        <p>• At <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>23</mn></math> cm: <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math> dots (count them vertically!)</p>
        <p>• At <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>24</mn></math> cm: <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math> dots</p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math>: Add them up: <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn><mo>+</mo><mn>2</mn><mo>=</mo><mn>5</mn></math> dolls are taller than <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>22</mn></math> cm.</p>
        <table style="border-collapse: collapse; width: 100%; border: 1px solid #000000;"><caption style="padding: 8px; font-size: 1.2em; font-weight: 700; caption-side: top;">Dot Plot Reading Guide</caption><thead><tr><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Height (cm)</th><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Number of Dots</th><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Taller than 22?</th></tr></thead><tbody><tr><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>21</mn></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;">No</td></tr><tr><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>22</mn></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;">No</td></tr><tr><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>23</mn></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;">Yes</td></tr><tr><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>24</mn></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;">Yes</td></tr></tbody></table></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        
    <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-correct identifier="RESPONSE"/>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">CORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE"/><qti-correct identifier="RESPONSE"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "time-on-number-line-detailed-final" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="time-on-number-line-detailed-final"
    title="What time is shown on the number line?"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE_HR" cardinality="single" base-type="integer">
        <qti-correct-response>
            <qti-value>12</qti-value>
        </qti-correct-response>
        <qti-mapping default-value="0">
            <qti-map-entry map-key="12" mapped-value="1"/>
        </qti-mapping>
    </qti-response-declaration>
    <qti-response-declaration identifier="RESPONSE_MIN" cardinality="single" base-type="integer">
        <qti-correct-response>
            <qti-value>55</qti-value>
        </qti-correct-response>
        <qti-mapping default-value="0">
            <qti-map-entry map-key="55" mapped-value="1"/>
        </qti-mapping>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__GLOBAL" cardinality="single" base-type="identifier"/>
    <qti-item-body>
        <p>Look at the following number line.</p>
        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTQyIiBoZWlnaHQ9IjM0MCIgdmlld0JveD0iLTIwIC0yMCA1NDIgMzQwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIj48bGluZSB4MT0iMjAiIHkxPSIxNTAiIHgyPSI0ODAiIHkyPSIxNTAiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIyIi8+PGxpbmUgeDE9IjI3LjY2NjY2NjY2NjY2NjY2OCIgeTE9IjE0NyIgeDI9IjI3LjY2NjY2NjY2NjY2NjY2OCIgeTI9IjE1MyIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSIzNS4zMzMzMzMzMzMzMzMzMzYiIHkxPSIxNDciIHgyPSIzNS4zMzMzMzMzMzMzMzMzMzYiIHkyPSIxNTMiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iNDMiIHkxPSIxNDciIHgyPSI0MyIgeTI9IjE1MyIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSI1MC42NjY2NjY2NjY2NjY2NyIgeTE9IjE0NyIgeDI9IjUwLjY2NjY2NjY2NjY2NjY3IiB5Mj0iMTUzIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjU4LjMzMzMzMzMzMzMzMzMzNiIgeTE9IjE0NyIgeDI9IjU4LjMzMzMzMzMzMzMzMzMzNiIgeTI9IjE1MyIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSI2NiIgeTE9IjE0NyIgeDI9IjY2IiB5Mj0iMTUzIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjczLjY2NjY2NjY2NjY2NjY3IiB5MT0iMTQ3IiB4Mj0iNzMuNjY2NjY2NjY2NjY2NjciIHkyPSIxNTMiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iODEuMzMzMzMzMzMzMzMzMzQiIHkxPSIxNDciIHgyPSI4MS4zMzMzMzMzMzMzMzMzNCIgeTI9IjE1MyIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSI4OSIgeTE9IjE0NyIgeDI9Ijg5IiB5Mj0iMTUzIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9Ijk2LjY2NjY2NjY2NjY2NjY3IiB5MT0iMTQ3IiB4Mj0iOTYuNjY2NjY2NjY2NjY2NjciIHkyPSIxNTMiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iMTA0LjMzMzMzMzMzMzMzMzM0IiB5MT0iMTQ3IiB4Mj0iMTA0LjMzMzMzMzMzMzMzMzM0IiB5Mj0iMTUzIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjExMiIgeTE9IjE0NyIgeDI9IjExMiIgeTI9IjE1MyIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSIxMTkuNjY2NjY2NjY2NjY2NjciIHkxPSIxNDciIHgyPSIxMTkuNjY2NjY2NjY2NjY2NjciIHkyPSIxNTMiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iMTI3LjMzMzMzMzMzMzMzMzM0IiB5MT0iMTQ3IiB4Mj0iMTI3LjMzMzMzMzMzMzMzMzM0IiB5Mj0iMTUzIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjE0Mi42NjY2NjY2NjY2NjY2OSIgeTE9IjE0NyIgeDI9IjE0Mi42NjY2NjY2NjY2NjY2OSIgeTI9IjE1MyIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSIxNTAuMzMzMzMzMzMzMzMzMzQiIHkxPSIxNDciIHgyPSIxNTAuMzMzMzMzMzMzMzMzMzQiIHkyPSIxNTMiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iMTU4IiB5MT0iMTQ3IiB4Mj0iMTU4IiB5Mj0iMTUzIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjE2NS42NjY2NjY2NjY2NjY2OSIgeTE9IjE0NyIgeDI9IjE2NS42NjY2NjY2NjY2NjY2OSIgeTI9IjE1MyIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSIxNzMuMzMzMzMzMzMzMzMzMzQiIHkxPSIxNDciIHgyPSIxNzMuMzMzMzMzMzMzMzMzMzQiIHkyPSIxNTMiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iMTgxIiB5MT0iMTQ3IiB4Mj0iMTgxIiB5Mj0iMTUzIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjE4OC42NjY2NjY2NjY2NjY2OSIgeTE9IjE0NyIgeDI9IjE4OC42NjY2NjY2NjY2NjY2OSIgeTI9IjE1MyIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSIxOTYuMzMzMzMzMzMzMzMzMzQiIHkxPSIxNDciIHgyPSIxOTYuMzMzMzMzMzMzMzMzMzQiIHkyPSIxNTMiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iMjA0IiB5MT0iMTQ3IiB4Mj0iMjA0IiB5Mj0iMTUzIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjIxMS42NjY2NjY2NjY2NjY2OSIgeTE9IjE0NyIgeDI9IjIxMS42NjY2NjY2NjY2NjY2OSIgeTI9IjE1MyIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSIyMTkuMzMzMzMzMzMzMzMzMzQiIHkxPSIxNDciIHgyPSIyMTkuMzMzMzMzMzMzMzMzMzQiIHkyPSIxNTMiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iMjI3IiB5MT0iMTQ3IiB4Mj0iMjI3IiB5Mj0iMTUzIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjIzNC42NjY2NjY2NjY2NjY2OSIgeTE9IjE0NyIgeDI9IjIzNC42NjY2NjY2NjY2NjY2OSIgeTI9IjE1MyIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSIyNDIuMzMzMzMzMzMzMzMzMzQiIHkxPSIxNDciIHgyPSIyNDIuMzMzMzMzMzMzMzMzMzQiIHkyPSIxNTMiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iMjU3LjY2NjY2NjY2NjY2NjciIHkxPSIxNDciIHgyPSIyNTcuNjY2NjY2NjY2NjY2NyIgeTI9IjE1MyIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSIyNjUuMzMzMzMzMzMzMzMzMzciIHkxPSIxNDciIHgyPSIyNjUuMzMzMzMzMzMzMzMzMzciIHkyPSIxNTMiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iMjczIiB5MT0iMTQ3IiB4Mj0iMjczIiB5Mj0iMTUzIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjI4MC42NjY2NjY2NjY2NjY3IiB5MT0iMTQ3IiB4Mj0iMjgwLjY2NjY2NjY2NjY2NjciIHkyPSIxNTMiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iMjg4LjMzMzMzMzMzMzMzMzM3IiB5MT0iMTQ3IiB4Mj0iMjg4LjMzMzMzMzMzMzMzMzM3IiB5Mj0iMTUzIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjI5NiIgeTE9IjE0NyIgeDI9IjI5NiIgeTI9IjE1MyIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSIzMDMuNjY2NjY2NjY2NjY2NyIgeTE9IjE0NyIgeDI9IjMwMy42NjY2NjY2NjY2NjY3IiB5Mj0iMTUzIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjMxMS4zMzMzMzMzMzMzMzMzNyIgeTE9IjE0NyIgeDI9IjMxMS4zMzMzMzMzMzMzMzMzNyIgeTI9IjE1MyIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSIzMTkiIHkxPSIxNDciIHgyPSIzMTkiIHkyPSIxNTMiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iMzI2LjY2NjY2NjY2NjY2NjciIHkxPSIxNDciIHgyPSIzMjYuNjY2NjY2NjY2NjY2NyIgeTI9IjE1MyIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSIzMzQuMzMzMzMzMzMzMzMzMzciIHkxPSIxNDciIHgyPSIzMzQuMzMzMzMzMzMzMzMzMzciIHkyPSIxNTMiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iMzQyIiB5MT0iMTQ3IiB4Mj0iMzQyIiB5Mj0iMTUzIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjM0OS42NjY2NjY2NjY2NjY3IiB5MT0iMTQ3IiB4Mj0iMzQ5LjY2NjY2NjY2NjY2NjciIHkyPSIxNTMiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iMzU3LjMzMzMzMzMzMzMzMzM3IiB5MT0iMTQ3IiB4Mj0iMzU3LjMzMzMzMzMzMzMzMzM3IiB5Mj0iMTUzIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjM3Mi42NjY2NjY2NjY2NjY3IiB5MT0iMTQ3IiB4Mj0iMzcyLjY2NjY2NjY2NjY2NjciIHkyPSIxNTMiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iMzgwLjMzMzMzMzMzMzMzMzM3IiB5MT0iMTQ3IiB4Mj0iMzgwLjMzMzMzMzMzMzMzMzM3IiB5Mj0iMTUzIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjM4OCIgeTE9IjE0NyIgeDI9IjM4OCIgeTI9IjE1MyIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSIzOTUuNjY2NjY2NjY2NjY2NyIgeTE9IjE0NyIgeDI9IjM5NS42NjY2NjY2NjY2NjY3IiB5Mj0iMTUzIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjQwMy4zMzMzMzMzMzMzMzMzNyIgeTE9IjE0NyIgeDI9IjQwMy4zMzMzMzMzMzMzMzMzNyIgeTI9IjE1MyIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSI0MTEiIHkxPSIxNDciIHgyPSI0MTEiIHkyPSIxNTMiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iNDE4LjY2NjY2NjY2NjY2NjciIHkxPSIxNDciIHgyPSI0MTguNjY2NjY2NjY2NjY2NyIgeTI9IjE1MyIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSI0MjYuMzMzMzMzMzMzMzMzMzciIHkxPSIxNDciIHgyPSI0MjYuMzMzMzMzMzMzMzMzMzciIHkyPSIxNTMiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iNDM0IiB5MT0iMTQ3IiB4Mj0iNDM0IiB5Mj0iMTUzIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjQ0MS42NjY2NjY2NjY2NjY3IiB5MT0iMTQ3IiB4Mj0iNDQxLjY2NjY2NjY2NjY2NjciIHkyPSIxNTMiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iNDQ5LjMzMzMzMzMzMzMzMzM3IiB5MT0iMTQ3IiB4Mj0iNDQ5LjMzMzMzMzMzMzMzMzM3IiB5Mj0iMTUzIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjQ1NyIgeTE9IjE0NyIgeDI9IjQ1NyIgeTI9IjE1MyIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSI0NjQuNjY2NjY2NjY2NjY2NyIgeTE9IjE0NyIgeDI9IjQ2NC42NjY2NjY2NjY2NjY3IiB5Mj0iMTUzIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjQ3Mi4zMzMzMzMzMzMzMzMzNyIgeTE9IjE0NyIgeDI9IjQ3Mi4zMzMzMzMzMzMzMzMzNyIgeTI9IjE1MyIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSIyMCIgeTE9IjE0NSIgeDI9IjIwIiB5Mj0iMTU1IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMjAiIHk9IjE3MCIgZm9udC1zaXplPSIxMSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+MDwvdGV4dD48bGluZSB4MT0iMTM1IiB5MT0iMTQ1IiB4Mj0iMTM1IiB5Mj0iMTU1IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMTM1IiB5PSIxNzAiIGZvbnQtc2l6ZT0iMTEiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjE1PC90ZXh0PjxsaW5lIHgxPSIyNTAiIHkxPSIxNDUiIHgyPSIyNTAiIHkyPSIxNTUiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIyNTAiIHk9IjE3MCIgZm9udC1zaXplPSIxMSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+MzA8L3RleHQ+PGxpbmUgeDE9IjM2NSIgeTE9IjE0NSIgeDI9IjM2NSIgeTI9IjE1NSIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjM2NSIgeT0iMTcwIiBmb250LXNpemU9IjExIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzMzMzMzIj40NTwvdGV4dD48bGluZSB4MT0iNDgwIiB5MT0iMTQ1IiB4Mj0iNDgwIiB5Mj0iMTU1IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iNDgwIiB5PSIxNzAiIGZvbnQtc2l6ZT0iMTEiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjYwPC90ZXh0PjxjaXJjbGUgY3g9IjQ0MS42NjY2NjY2NjY2NjY3IiBjeT0iMTUwIiByPSI1IiBmaWxsPSIjQTA1MjJEIiBzdHJva2U9IiNBMDUyMkQiIHN0cm9rZS13aWR0aD0iMSIvPjxmb3JlaWduT2JqZWN0IHg9IjM4MS42NjY2NjY2NjY2NjY3IiB5PSIxMDAiIHdpZHRoPSIxMjAiIGhlaWdodD0iMzIiPjwhRE9DVFlQRSBodG1sPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6ZmxleC1lbmQ7anVzdGlmeS1jb250ZW50OmNlbnRlcjt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2xpbmUtaGVpZ2h0OjE7Zm9udC1mYW1pbHk6c2Fucy1zZXJpZjtjb2xvcjojQTA1MjJEOyI+PG1hdGggeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aC9NYXRoTUwiIGRpc3BsYXk9ImlubGluZSIgc3R5bGU9ImZvbnQtc2l6ZToxOS4ycHg7Ij48bW4+NTU8L21uPjwvbWF0aD48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PC9zdmc+" alt="Widget visualization" />
        <p>What time is shown on the number line? <qti-text-entry-interaction response-identifier="RESPONSE_HR" expected-length="2"/>:<qti-text-entry-interaction response-identifier="RESPONSE_MIN" expected-length="2"/></p>
        <qti-feedback-block outcome-identifier="FEEDBACK__GLOBAL" identifier="CORRECT" show-hide="show">
            <qti-content-body><p>Excellent work! You correctly read the time as <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>12</mn></math>:<math xmlns="http://www.w3.org/1998/Math/MathML"><mn>55</mn></math>.</p>
        <p>You understood that the point is positioned at <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>55</mn></math> minutes on the number line, which represents <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>55</mn></math> minutes after <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>12</mn></math> o'clock.</p>
        <p>This shows great understanding of how time works! <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>55</mn></math> minutes means we're <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5</mn></math> minutes away from the next hour (<math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math>:00).</p>
        <p>Reading time on number lines helps you understand elapsed time, scheduling, and time intervals - skills you use every day!</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__GLOBAL" identifier="INCORRECT" show-hide="show">
            <qti-content-body><p>Let's read this time number line together! Number lines for time work just like regular number lines, but with time units.</p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math>: Identify the hour. The number line shows minutes from <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0</mn></math> to <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>60</mn></math>, representing one hour starting at <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>12</mn></math>:00.</p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math>: Find where the point is located. The point is at position <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>55</mn></math> on the number line.</p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math>: Convert to time format. Position <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>55</mn></math> means <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>55</mn></math> minutes after <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>12</mn></math>:00, which is <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>12</mn></math>:<math xmlns="http://www.w3.org/1998/Math/MathML"><mn>55</mn></math>.</p>
        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDUwIiBoZWlnaHQ9IjM0MCIgdmlld0JveD0iLTIwIC0yMCA0NTAgMzQwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIj48bGluZSB4MT0iMjAiIHkxPSIxNTAiIHgyPSIzODAiIHkyPSIxNTAiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIyIi8+PGxpbmUgeDE9IjUwIiB5MT0iMTQ3IiB4Mj0iNTAiIHkyPSIxNTMiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iODAiIHkxPSIxNDciIHgyPSI4MCIgeTI9IjE1MyIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSIxNDAiIHkxPSIxNDciIHgyPSIxNDAiIHkyPSIxNTMiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iMTcwIiB5MT0iMTQ3IiB4Mj0iMTcwIiB5Mj0iMTUzIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjIzMCIgeTE9IjE0NyIgeDI9IjIzMCIgeTI9IjE1MyIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSIyNjAiIHkxPSIxNDciIHgyPSIyNjAiIHkyPSIxNTMiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iMzIwIiB5MT0iMTQ3IiB4Mj0iMzIwIiB5Mj0iMTUzIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjM1MCIgeTE9IjE0NyIgeDI9IjM1MCIgeTI9IjE1MyIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSIyMCIgeTE9IjE0NSIgeDI9IjIwIiB5Mj0iMTU1IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMjAiIHk9IjE3MCIgZm9udC1zaXplPSIxMSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+MDwvdGV4dD48bGluZSB4MT0iMTEwIiB5MT0iMTQ1IiB4Mj0iMTEwIiB5Mj0iMTU1IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMTEwIiB5PSIxNzAiIGZvbnQtc2l6ZT0iMTEiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjE1PC90ZXh0PjxsaW5lIHgxPSIyMDAiIHkxPSIxNDUiIHgyPSIyMDAiIHkyPSIxNTUiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIyMDAiIHk9IjE3MCIgZm9udC1zaXplPSIxMSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+MzA8L3RleHQ+PGxpbmUgeDE9IjI5MCIgeTE9IjE0NSIgeDI9IjI5MCIgeTI9IjE1NSIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjx0ZXh0IHg9IjI5MCIgeT0iMTcwIiBmb250LXNpemU9IjExIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzMzMzMzIj40NTwvdGV4dD48bGluZSB4MT0iMzgwIiB5MT0iMTQ1IiB4Mj0iMzgwIiB5Mj0iMTU1IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iMzgwIiB5PSIxNzAiIGZvbnQtc2l6ZT0iMTEiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiPjYwPC90ZXh0PjxjaXJjbGUgY3g9IjM1MCIgY3k9IjE1MCIgcj0iNSIgZmlsbD0iI0ZGNkI2QiIgc3Ryb2tlPSIjRkY2QjZCIiBzdHJva2Utd2lkdGg9IjEiLz48Zm9yZWlnbk9iamVjdCB4PSIyOTAiIHk9IjEwMCIgd2lkdGg9IjEyMCIgaGVpZ2h0PSIzMiI+PCFET0NUWVBFIGh0bWw+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpmbGV4LWVuZDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7bGluZS1oZWlnaHQ6MTtmb250LWZhbWlseTpzYW5zLXNlcmlmO2NvbG9yOiNGRjZCNkI7Ij48bWF0aCB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoL01hdGhNTCIgZGlzcGxheT0iaW5saW5lIiBzdHlsZT0iZm9udC1zaXplOjE5LjJweDsiPjxtbj41NTwvbW4+PC9tYXRoPjwvZGl2PjwvZm9yZWlnbk9iamVjdD48L3N2Zz4=" alt="Widget visualization" /></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        
    <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_HR"/>
                <qti-correct identifier="RESPONSE_HR"/>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">CORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_MIN"/>
                <qti-correct identifier="RESPONSE_MIN"/>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">CORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE_HR"/><qti-correct identifier="RESPONSE_HR"/></qti-match>
                        <qti-match><qti-variable identifier="RESPONSE_MIN"/><qti-correct identifier="RESPONSE_MIN"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "compare-2-digit-numbers" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="compare-2-digit-numbers"
    title="Compare 2-digit numbers"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE" cardinality="single" base-type="identifier">
        <qti-correct-response>
            <qti-value>GT</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__RESPONSE" cardinality="single" base-type="identifier"/>
    <qti-item-body>
        <p>Compare using &gt;, &lt;, or =.</p>
        <p><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>83</mn></math> <qti-inline-choice-interaction response-identifier="RESPONSE" shuffle="true">
                <qti-inline-choice identifier="GT"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></qti-inline-choice>
                <qti-inline-choice identifier="LT"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&lt;</mo></math></qti-inline-choice>
                <qti-inline-choice identifier="EQ"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>=</mo></math></qti-inline-choice>
            </qti-inline-choice-interaction> <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>58</mn></math></p>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="GT" show-hide="show">
            <qti-content-body><p>Excellent work! You correctly identified that <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>83</mn></math> is greater than <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>58</mn></math>, so the correct symbol is <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math>.</p>
        <p>You used place value thinking perfectly! <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>83</mn></math> has <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>8</mn></math> tens, while <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>58</mn></math> has only <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5</mn></math> tens, making <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>83</mn></math> the larger number.</p>
        <p>The &gt; symbol always "points" toward the smaller number, like an arrow showing which way to go!</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="LT" show-hide="show">
            <qti-content-body><p>Let's compare these numbers using place value! This is a systematic way to never make mistakes.</p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math>: Compare the tens place first. <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>83</mn></math> has <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>8</mn></math> tens, <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>58</mn></math> has <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5</mn></math> tens.</p>
        <p>Since <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>8</mn></math> &gt; <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5</mn></math>, we know <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>83</mn></math> &gt; <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>58</mn></math> without even looking at the ones place!</p>
        <p>The correct comparison is <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>83</mn><mo>&gt;</mo><mn>58</mn></math> (not <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>83</mn><mo>&lt;</mo><mn>58</mn></math>).</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="EQ" show-hide="show">
            <qti-content-body><p>These numbers look similar, but they're not equal! Let's examine them digit by digit.</p>
        <p>Breaking down the numbers:</p>
        <p>• <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>83</mn></math> = <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>8</mn></math> tens + <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math> ones</p>
        <p>• <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>58</mn></math> = <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5</mn></math> tens + <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>8</mn></math> ones</p>
        <p>Since <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>8</mn></math> tens ≠ <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5</mn></math> tens, these numbers are not equal. The correct comparison is <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>83</mn><mo>&gt;</mo><mn>58</mn></math>.</p></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">GT</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">GT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">LT</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">LT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">EQ</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">EQ</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if></qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE"/><qti-correct identifier="RESPONSE"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "compare-negative-decimal-vs-root-inline-choice" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="compare-negative-decimal-vs-root-inline-choice"
    title="Compare a decimal and a square root"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE" cardinality="single" base-type="identifier">
        <qti-correct-response>
            <qti-value>GT</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__RESPONSE" cardinality="single" base-type="identifier"/>
    <qti-item-body>
        <p>Compare.</p>
        <p><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>4.1</mn></math> <qti-inline-choice-interaction response-identifier="RESPONSE" shuffle="true">
                <qti-inline-choice identifier="LT">&lt;</qti-inline-choice>
                <qti-inline-choice identifier="GT">&gt;</qti-inline-choice>
                <qti-inline-choice identifier="EQ">=</qti-inline-choice>
            </qti-inline-choice-interaction> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><msqrt><mn>20</mn></msqrt></math></p>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="GT" show-hide="show">
            <qti-content-body><p>Excellent work! You correctly determined that <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>4.1</mn></math> is greater than <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><msqrt><mn>20</mn></msqrt></math>.</p>
        <p>You understood that <math xmlns="http://www.w3.org/1998/Math/MathML"><msqrt><mn>20</mn></msqrt><mo>≈</mo><mn>4.47</mn></math>, so <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><msqrt><mn>20</mn></msqrt><mo>≈</mo><mo>-</mo><mn>4.47</mn></math>. Since <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>4.1</mn></math> is closer to zero than <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>4.47</mn></math>, it's the greater value.</p>
        <p>This shows excellent understanding of both square roots and negative number comparison - advanced mathematical thinking!</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="LT" show-hide="show">
            <qti-content-body><p>I can see why this is tricky! Comparing negative numbers with square roots involves multiple steps.</p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math>: Estimate <math xmlns="http://www.w3.org/1998/Math/MathML"><msqrt><mn>20</mn></msqrt></math>. Since <math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>4</mn><mn>2</mn></msup><mo>=</mo><mn>16</mn></math> and <math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>5</mn><mn>2</mn></msup><mo>=</mo><mn>25</mn></math>, we know <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4</mn><mo>&lt;</mo><msqrt><mn>20</mn></msqrt><mo>&lt;</mo><mn>5</mn></math>. More precisely, <math xmlns="http://www.w3.org/1998/Math/MathML"><msqrt><mn>20</mn></msqrt><mo>≈</mo><mn>4.47</mn></math>.</p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math>: Apply the negative sign: <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><msqrt><mn>20</mn></msqrt><mo>≈</mo><mo>-</mo><mn>4.47</mn></math></p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math>: Compare: <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>4.1</mn></math> vs <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>4.47</mn></math>. Since <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>4.1</mn></math> is closer to zero, <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>4.1</mn><mo>&gt;</mo><mo>-</mo><mn>4.47</mn></math>.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__RESPONSE" identifier="EQ" show-hide="show">
            <qti-content-body><p>These values are close but not equal! Let's calculate to see the difference.</p>
        <p>First, let's find <math xmlns="http://www.w3.org/1998/Math/MathML"><msqrt><mn>20</mn></msqrt></math>. Since <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>20</mn></math> is between <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>16</mn></math> and <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>25</mn></math>, <math xmlns="http://www.w3.org/1998/Math/MathML"><msqrt><mn>20</mn></msqrt></math> is between <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4</mn></math> and <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5</mn></math>. More precisely, <math xmlns="http://www.w3.org/1998/Math/MathML"><msqrt><mn>20</mn></msqrt><mo>≈</mo><mn>4.47</mn></math>.</p>
        <p>So we're comparing <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>4.1</mn></math> and <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>4.47</mn></math>. Since <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>4.1</mn></math> is closer to zero, <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>4.1</mn><mo>&gt;</mo><mo>-</mo><mn>4.47</mn></math>.</p></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">LT</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">LT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">GT</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">GT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE"/>
                <qti-base-value base-type="identifier">EQ</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE">
                <qti-base-value base-type="identifier">EQ</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if></qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE"/><qti-correct identifier="RESPONSE"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "attract-repel-completion-table" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="attract-repel-completion-table"
    title="Complete the table: attract or repel"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE_R1" cardinality="single" base-type="identifier">
        <qti-correct-response>
            <qti-value>REPEL</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-response-declaration identifier="RESPONSE_R2" cardinality="single" base-type="identifier">
        <qti-correct-response>
            <qti-value>ATTRACT</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-response-declaration identifier="RESPONSE_R3" cardinality="single" base-type="identifier">
        <qti-correct-response>
            <qti-value>ATTRACT</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-response-declaration identifier="RESPONSE_R4" cardinality="single" base-type="identifier">
        <qti-correct-response>
            <qti-value>REPEL</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-response-declaration identifier="RESPONSE_TEXT_ENTRY" cardinality="single" base-type="string">
        <qti-correct-response>
            <qti-value>done</qti-value>
        </qti-correct-response>
        <qti-mapping default-value="0">
            <qti-map-entry map-key="done" mapped-value="1"/>
        </qti-mapping>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__GLOBAL" cardinality="single" base-type="identifier"/>
    <qti-item-body>
        <p>Complete the table for each pair of objects.</p>
        <table style="border-collapse: collapse; width: 100%; border: 1px solid #000000;"><thead><tr><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Description of objects</th><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Will the objects attract or repel each other?</th></tr></thead><tbody><tr><td style="border: 1px solid #000000; padding: 8px; text-align: left;">two charged objects, both with positive charge</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><qti-inline-choice-interaction response-identifier="RESPONSE_R1" shuffle="false">
				<qti-inline-choice identifier="ATTRACT">attract</qti-inline-choice>
                <qti-inline-choice identifier="REPEL">repel</qti-inline-choice>
			</qti-inline-choice-interaction></td></tr><tr><td style="border: 1px solid #000000; padding: 8px; text-align: left;">two charged objects, one with positive charge and the other with negative charge</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><qti-inline-choice-interaction response-identifier="RESPONSE_R2" shuffle="false">
				<qti-inline-choice identifier="ATTRACT">attract</qti-inline-choice>
                <qti-inline-choice identifier="REPEL">repel</qti-inline-choice>
			</qti-inline-choice-interaction></td></tr><tr><td style="border: 1px solid #000000; padding: 8px; text-align: left;">two magnets, with the north pole of one facing the south pole of the other</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><qti-inline-choice-interaction response-identifier="RESPONSE_R3" shuffle="false">
				<qti-inline-choice identifier="ATTRACT">attract</qti-inline-choice>
                <qti-inline-choice identifier="REPEL">repel</qti-inline-choice>
			</qti-inline-choice-interaction></td></tr><tr><td style="border: 1px solid #000000; padding: 8px; text-align: left;">two magnets, with their south poles facing each other</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><qti-inline-choice-interaction response-identifier="RESPONSE_R4" shuffle="false">
				<qti-inline-choice identifier="ATTRACT">attract</qti-inline-choice>
                <qti-inline-choice identifier="REPEL">repel</qti-inline-choice>
			</qti-inline-choice-interaction></td></tr></tbody></table>
        <qti-feedback-block outcome-identifier="FEEDBACK__GLOBAL" identifier="CORRECT" show-hide="show">
            <qti-content-body><p>Perfect! You correctly applied the fundamental rule: like charges and poles repel, while opposites attract.</p>
        <p>You understood that:</p>
        <p>• <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math> positive charges → repel (like pushing like)</p>
        <p>• Positive and negative charges → attract (opposites pull together)</p>
        <p>• North and south magnetic poles → attract (opposites pull together)</p>
        <p>• <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math> south magnetic poles → repel (like pushing like)</p>
        <p>This fundamental principle governs everything from why balloons stick to walls after rubbing them, to how electric motors work, to why compass needles point north!</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__GLOBAL" identifier="INCORRECT" show-hide="show">
            <qti-content-body><p>Let's work through the fundamental rules of electric and magnetic forces! These are some of the most important principles in physics.</p>
        <p>The Universal Rule: "Likes repel, opposites attract"</p>
        <p>For electric charges:</p>
        <p>• Positive + Positive = repel (push away)</p>
        <p>• Negative + Negative = repel (push away)</p>
        <p>• Positive + Negative = attract (pull together)</p>
        <p>For magnetic poles:</p>
        <p>• North + North = repel</p>
        <p>• South + South = repel</p>
        <p>• North + South = attract</p>
        <table style="border-collapse: collapse; width: 100%; border: 1px solid #000000;"><caption style="padding: 8px; font-size: 1.2em; font-weight: 700; caption-side: top;">Force Rules Summary</caption><thead><tr><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Force Type</th><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Like Objects</th><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Opposite Objects</th></tr></thead><tbody><tr><td style="border: 1px solid #000000; padding: 8px; text-align: left;">Electric</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;">Repel</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;">Attract</td></tr><tr><td style="border: 1px solid #000000; padding: 8px; text-align: left;">Magnetic</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;">Repel</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;">Attract</td></tr></tbody></table></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        
    <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_R1"/>
                <qti-correct identifier="RESPONSE_R1"/>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">CORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_R2"/>
                <qti-correct identifier="RESPONSE_R2"/>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">CORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_R3"/>
                <qti-correct identifier="RESPONSE_R3"/>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">CORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_R4"/>
                <qti-correct identifier="RESPONSE_R4"/>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">CORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_TEXT_ENTRY"/>
                <qti-correct identifier="RESPONSE_TEXT_ENTRY"/>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">CORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE_R1"/><qti-correct identifier="RESPONSE_R1"/></qti-match>
                        <qti-match><qti-variable identifier="RESPONSE_R2"/><qti-correct identifier="RESPONSE_R2"/></qti-match>
                        <qti-match><qti-variable identifier="RESPONSE_R3"/><qti-correct identifier="RESPONSE_R3"/></qti-match>
                        <qti-match><qti-variable identifier="RESPONSE_R4"/><qti-correct identifier="RESPONSE_R4"/></qti-match>
                        <qti-match><qti-variable identifier="RESPONSE_TEXT_ENTRY"/><qti-correct identifier="RESPONSE_TEXT_ENTRY"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "reaction-rate-changes-table" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="reaction-rate-changes-table"
    title="How changes affect the reaction rate"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE_DROPDOWN_1" cardinality="single" base-type="identifier">
        <qti-correct-response>
            <qti-value>INCREASE</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-response-declaration identifier="RESPONSE_DROPDOWN_2" cardinality="single" base-type="identifier">
        <qti-correct-response>
            <qti-value>INCREASE</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-response-declaration identifier="RESPONSE_DROPDOWN_3" cardinality="single" base-type="identifier">
        <qti-correct-response>
            <qti-value>DECREASE</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-response-declaration identifier="RESPONSE_TEXT_ENTRY" cardinality="single" base-type="string">
        <qti-correct-response>
            <qti-value>done</qti-value>
        </qti-correct-response>
        <qti-mapping default-value="0">
            <qti-map-entry map-key="done" mapped-value="1"/>
        </qti-mapping>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__GLOBAL" cardinality="single" base-type="identifier"/>
    <qti-item-body>
        <p>Different situations call for chemical reactions that release energy quickly, such as an explosion, or slowly, such as a hand warmer.</p>
        <p>To control how quickly energy is released or absorbed, we can make adjustments to change how fast the reaction occurs.</p>
        <p>Complete the table to show how the reaction rate is typically affected by each change.</p>
        <table style="border-collapse: collapse; width: 100%; border: 1px solid #000000;"><caption style="padding: 8px; font-size: 1.2em; font-weight: 700; caption-side: top;">How changes affect the reaction rate</caption><thead><tr><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2; text-align: left;">Change</th><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Effect on rate</th></tr></thead><tbody><tr><th scope="row" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Stir the reactants</th><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><qti-inline-choice-interaction response-identifier="RESPONSE_DROPDOWN_1" shuffle="false">
				<qti-inline-choice identifier="INCREASE">increase</qti-inline-choice>
                <qti-inline-choice identifier="DECREASE">decrease</qti-inline-choice>
			</qti-inline-choice-interaction></td></tr><tr><th scope="row" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Heat the reactants</th><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><qti-inline-choice-interaction response-identifier="RESPONSE_DROPDOWN_2" shuffle="false">
				<qti-inline-choice identifier="INCREASE">increase</qti-inline-choice>
                <qti-inline-choice identifier="DECREASE">decrease</qti-inline-choice>
			</qti-inline-choice-interaction></td></tr><tr><th scope="row" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Decrease the concentration of the reactants</th><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><qti-inline-choice-interaction response-identifier="RESPONSE_DROPDOWN_3" shuffle="false">
				<qti-inline-choice identifier="INCREASE">increase</qti-inline-choice>
                <qti-inline-choice identifier="DECREASE">decrease</qti-inline-choice>
			</qti-inline-choice-interaction></td></tr></tbody></table>
        <qti-feedback-block outcome-identifier="FEEDBACK__GLOBAL" identifier="CORRECT" show-hide="show">
            <qti-content-body><p>Correct! Stirring and heating increase the frequency of effective collisions, so they increase the reaction rate. Decreasing concentration reduces collisions and decreases the rate.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__GLOBAL" identifier="INCORRECT" show-hide="show">
            <qti-content-body><p>Not quite. Stirring and heating bring reactant particles into contact more often, which increases collisions and speeds up the reaction. Lowering the concentration leads to fewer collisions, which slows the reaction.</p></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        
    <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_DROPDOWN_1"/>
                <qti-correct identifier="RESPONSE_DROPDOWN_1"/>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">CORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_DROPDOWN_2"/>
                <qti-correct identifier="RESPONSE_DROPDOWN_2"/>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">CORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_DROPDOWN_3"/>
                <qti-correct identifier="RESPONSE_DROPDOWN_3"/>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">CORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_TEXT_ENTRY"/>
                <qti-correct identifier="RESPONSE_TEXT_ENTRY"/>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">CORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE_DROPDOWN_1"/><qti-correct identifier="RESPONSE_DROPDOWN_1"/></qti-match>
                        <qti-match><qti-variable identifier="RESPONSE_DROPDOWN_2"/><qti-correct identifier="RESPONSE_DROPDOWN_2"/></qti-match>
                        <qti-match><qti-variable identifier="RESPONSE_DROPDOWN_3"/><qti-correct identifier="RESPONSE_DROPDOWN_3"/></qti-match>
                        <qti-match><qti-variable identifier="RESPONSE_TEXT_ENTRY"/><qti-correct identifier="RESPONSE_TEXT_ENTRY"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "ke-mass-speed-relationships" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="ke-mass-speed-relationships"
    title="Kinetic energy relationships with mass and speed"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE_DROPDOWN_1" cardinality="single" base-type="identifier">
        <qti-correct-response>
            <qti-value>LINEAR</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-response-declaration identifier="RESPONSE_DROPDOWN_3" cardinality="single" base-type="identifier">
        <qti-correct-response>
            <qti-value>ONE_HALF</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-response-declaration identifier="RESPONSE_DROPDOWN_2" cardinality="single" base-type="identifier">
        <qti-correct-response>
            <qti-value>NONLINEAR</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-response-declaration identifier="RESPONSE_DROPDOWN_5" cardinality="single" base-type="identifier">
        <qti-correct-response>
            <qti-value>ONE_FOURTH</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-response-declaration identifier="RESPONSE_TEXT_ENTRY" cardinality="single" base-type="string">
        <qti-correct-response>
            <qti-value>test</qti-value>
        </qti-correct-response>
        <qti-mapping default-value="0">
            <qti-map-entry map-key="test" mapped-value="1"/>
        </qti-mapping>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__GLOBAL" cardinality="single" base-type="identifier"/>
    <qti-item-body>
        <p>A moving object's kinetic energy is related to its mass and speed.</p>
        <p>The relationship between kinetic energy and mass for an object with constant speed is modeled by the graph below.</p>
        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzk2IiBoZWlnaHQ9IjM4MSIgdmlld0JveD0iLTg3IC05IDM5NiAzODEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTYiPjxkZWZzPjxjbGlwUGF0aCBpZD0iY2xpcC0wIj48cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMzAwIiBoZWlnaHQ9IjMwMCIvPjwvY2xpcFBhdGg+PG1hcmtlciBpZD0iZ3JhcGgtYXJyb3ciIHZpZXdCb3g9IjAgMCAxMCAxMCIgcmVmWD0iOCIgcmVmWT0iNSIgbWFya2VyV2lkdGg9IjYiIG1hcmtlckhlaWdodD0iNiIgb3JpZW50PSJhdXRvLXN0YXJ0LXJldmVyc2UiPjxwYXRoIGQ9Ik0gMCAwIEwgMTAgNSBMIDAgMTAgeiIgZmlsbD0iIzAwMDAwMCIvPjwvbWFya2VyPjwvZGVmcz48bGluZSB4MT0iMCIgeTE9IjAiIHgyPSIwIiB5Mj0iMzAwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjAiIHkxPSIzMDAiIHgyPSIwIiB5Mj0iMzAwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjAiIHkxPSIyMjUiIHgyPSIwIiB5Mj0iMjI1IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjAiIHkxPSIxNTAiIHgyPSIwIiB5Mj0iMTUwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjAiIHkxPSI3NSIgeDI9IjAiIHkyPSI3NSIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSIwIiB5MT0iMCIgeDI9IjAiIHkyPSIwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iLTY4LjYwMDAwMDAwMDAwMDAxIiB5PSIxNTAiIGZvbnQtc2l6ZT0iMTYiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiIGRvbWluYW50LWJhc2VsaW5lPSJtaWRkbGUiIHRyYW5zZm9ybT0icm90YXRlKC05MCwgLTY4LjYwMDAwMDAwMDAwMDAxLCAxNTApIj48dHNwYW4geD0iLTY4LjYwMDAwMDAwMDAwMDAxIiBkeT0iMGVtIj5raW5ldGljIGVuZXJneTwvdHNwYW4+PC90ZXh0PjxsaW5lIHgxPSIwIiB5MT0iMzAwIiB4Mj0iMzAwIiB5Mj0iMzAwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjAiIHkxPSIzMDAiIHgyPSIwIiB5Mj0iMzAwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9Ijc1IiB5MT0iMzAwIiB4Mj0iNzUiIHkyPSIzMDAiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iMTUwIiB5MT0iMzAwIiB4Mj0iMTUwIiB5Mj0iMzAwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjIyNSIgeTE9IjMwMCIgeDI9IjIyNSIgeTI9IjMwMCIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSIzMDAiIHkxPSIzMDAiIHgyPSIzMDAiIHkyPSIzMDAiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIxNTAiIHk9IjM0NyIgZm9udC1zaXplPSIxNiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+PHRzcGFuIHg9IjE1MCIgZHk9IjBlbSI+bWFzczwvdHNwYW4+PC90ZXh0PjxsaW5lIHgxPSIwIiB5MT0iMzAwIiB4Mj0iMCIgeTI9IjAiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIyIiBtYXJrZXItZW5kPSJ1cmwoI2dyYXBoLWFycm93KSIvPjxsaW5lIHgxPSIwIiB5MT0iMzAwIiB4Mj0iMzAwIiB5Mj0iMzAwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMiIgbWFya2VyLWVuZD0idXJsKCNncmFwaC1hcnJvdykiLz48ZyBjbGlwLXBhdGg9InVybCgjY2xpcC0wKSI+PHBvbHlsaW5lIHBvaW50cz0iMCwzMDAgMzAwLDAiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiLz48L2c+PC9zdmc+" alt="Widget visualization" />
        <p>The relationship between kinetic energy and speed for an object with constant mass is modeled by the graph below.</p>
        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzk2IiBoZWlnaHQ9IjM4MSIgdmlld0JveD0iLTg3IC05IDM5NiAzODEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTYiPjxkZWZzPjxjbGlwUGF0aCBpZD0iY2xpcC0wIj48cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMzAwIiBoZWlnaHQ9IjMwMCIvPjwvY2xpcFBhdGg+PG1hcmtlciBpZD0iZ3JhcGgtYXJyb3ciIHZpZXdCb3g9IjAgMCAxMCAxMCIgcmVmWD0iOCIgcmVmWT0iNSIgbWFya2VyV2lkdGg9IjYiIG1hcmtlckhlaWdodD0iNiIgb3JpZW50PSJhdXRvLXN0YXJ0LXJldmVyc2UiPjxwYXRoIGQ9Ik0gMCAwIEwgMTAgNSBMIDAgMTAgeiIgZmlsbD0iIzAwMDAwMCIvPjwvbWFya2VyPjwvZGVmcz48bGluZSB4MT0iMCIgeTE9IjAiIHgyPSIwIiB5Mj0iMzAwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjAiIHkxPSIzMDAiIHgyPSIwIiB5Mj0iMzAwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjAiIHkxPSIyMjUiIHgyPSIwIiB5Mj0iMjI1IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjAiIHkxPSIxNTAiIHgyPSIwIiB5Mj0iMTUwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjAiIHkxPSI3NSIgeDI9IjAiIHkyPSI3NSIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSIwIiB5MT0iMCIgeDI9IjAiIHkyPSIwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHRleHQgeD0iLTY4LjYwMDAwMDAwMDAwMDAxIiB5PSIxNTAiIGZvbnQtc2l6ZT0iMTYiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiIGRvbWluYW50LWJhc2VsaW5lPSJtaWRkbGUiIHRyYW5zZm9ybT0icm90YXRlKC05MCwgLTY4LjYwMDAwMDAwMDAwMDAxLCAxNTApIj48dHNwYW4geD0iLTY4LjYwMDAwMDAwMDAwMDAxIiBkeT0iMGVtIj5raW5ldGljIGVuZXJneTwvdHNwYW4+PC90ZXh0PjxsaW5lIHgxPSIwIiB5MT0iMzAwIiB4Mj0iMzAwIiB5Mj0iMzAwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjAiIHkxPSIzMDAiIHgyPSIwIiB5Mj0iMzAwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9Ijc1IiB5MT0iMzAwIiB4Mj0iNzUiIHkyPSIzMDAiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48bGluZSB4MT0iMTUwIiB5MT0iMzAwIiB4Mj0iMTUwIiB5Mj0iMzAwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjIyNSIgeTE9IjMwMCIgeDI9IjIyNSIgeTI9IjMwMCIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxsaW5lIHgxPSIzMDAiIHkxPSIzMDAiIHgyPSIzMDAiIHkyPSIzMDAiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIxNTAiIHk9IjM0NyIgZm9udC1zaXplPSIxNiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyI+PHRzcGFuIHg9IjE1MCIgZHk9IjBlbSI+c3BlZWQ8L3RzcGFuPjwvdGV4dD48bGluZSB4MT0iMCIgeTE9IjMwMCIgeDI9IjAiIHkyPSIwIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMiIgbWFya2VyLWVuZD0idXJsKCNncmFwaC1hcnJvdykiLz48bGluZSB4MT0iMCIgeTE9IjMwMCIgeDI9IjMwMCIgeTI9IjMwMCIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjIiIG1hcmtlci1lbmQ9InVybCgjZ3JhcGgtYXJyb3cpIi8+PGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAtMCkiPjxwb2x5bGluZSBwb2ludHM9IjAsMzAwIDYwLDI4OCAxMjAsMjUyIDE4MCwxOTIgMjQwLDEwOCAzMDAsMCIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZmlsbD0ibm9uZSIvPjwvZz48L3N2Zz4=" alt="Widget visualization" />
        <p>Use the patterns on the graphs to complete the statements.</p>
        <p>• The relationship between kinetic energy and mass is <qti-inline-choice-interaction response-identifier="RESPONSE_DROPDOWN_1" shuffle="true">
                <qti-inline-choice identifier="LINEAR">linear</qti-inline-choice>
                <qti-inline-choice identifier="NONLINEAR">nonlinear</qti-inline-choice>
            </qti-inline-choice-interaction>. If an object's mass is cut in half while its speed stays the same, its kinetic energy becomes <qti-inline-choice-interaction response-identifier="RESPONSE_DROPDOWN_3" shuffle="true">
                <qti-inline-choice identifier="ONE_FOURTH">one-fourth</qti-inline-choice>
                <qti-inline-choice identifier="ONE_HALF">one-half</qti-inline-choice>
                <qti-inline-choice identifier="TWO_TIMES">two times</qti-inline-choice>
                <qti-inline-choice identifier="FOUR_TIMES">four times</qti-inline-choice>
            </qti-inline-choice-interaction> its original value.</p>
        <p>• The relationship between kinetic energy and speed is <qti-inline-choice-interaction response-identifier="RESPONSE_DROPDOWN_2" shuffle="true">
                <qti-inline-choice identifier="LINEAR">linear</qti-inline-choice>
                <qti-inline-choice identifier="NONLINEAR">nonlinear</qti-inline-choice>
            </qti-inline-choice-interaction>. If an object's speed is cut in half while its mass stays the same, its kinetic energy becomes <qti-inline-choice-interaction response-identifier="RESPONSE_DROPDOWN_5" shuffle="true">
                <qti-inline-choice identifier="ONE_FOURTH">one-fourth</qti-inline-choice>
                <qti-inline-choice identifier="ONE_HALF">one-half</qti-inline-choice>
                <qti-inline-choice identifier="TWO_TIMES">two times</qti-inline-choice>
                <qti-inline-choice identifier="FOUR_TIMES">four times</qti-inline-choice>
            </qti-inline-choice-interaction> its original value.</p>
        <qti-feedback-block outcome-identifier="FEEDBACK__GLOBAL" identifier="CORRECT" show-hide="show">
            <qti-content-body><p>Correct! The mass–kinetic energy relationship is linear, so halving the mass (at constant speed) halves the kinetic energy.</p>
        <p>The speed–kinetic energy relationship is nonlinear (quadratic), so halving the speed (at constant mass) reduces the kinetic energy to one-fourth of its original value.</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__GLOBAL" identifier="INCORRECT" show-hide="show">
            <qti-content-body><p>Not quite. On the first graph, the straight line shows a linear pattern: when mass is scaled by a factor, kinetic energy scales by the same factor at constant speed.</p>
        <p>On the second graph, the curved shape indicates a nonlinear (quadratic) pattern: when speed is halved, kinetic energy becomes one-fourth of its original value at constant mass.</p></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_DROPDOWN_1"/>
                <qti-base-value base-type="identifier">LINEAR</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE_DROPDOWN_1">
                <qti-base-value base-type="identifier">LINEAR</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_DROPDOWN_1"/>
                <qti-base-value base-type="identifier">NONLINEAR</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE_DROPDOWN_1">
                <qti-base-value base-type="identifier">NONLINEAR</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if></qti-response-condition>
<qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_DROPDOWN_3"/>
                <qti-base-value base-type="identifier">ONE_FOURTH</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE_DROPDOWN_3">
                <qti-base-value base-type="identifier">ONE_FOURTH</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_DROPDOWN_3"/>
                <qti-base-value base-type="identifier">ONE_HALF</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE_DROPDOWN_3">
                <qti-base-value base-type="identifier">ONE_HALF</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_DROPDOWN_3"/>
                <qti-base-value base-type="identifier">TWO_TIMES</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE_DROPDOWN_3">
                <qti-base-value base-type="identifier">TWO_TIMES</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_DROPDOWN_3"/>
                <qti-base-value base-type="identifier">FOUR_TIMES</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE_DROPDOWN_3">
                <qti-base-value base-type="identifier">FOUR_TIMES</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if></qti-response-condition>
<qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_DROPDOWN_2"/>
                <qti-base-value base-type="identifier">LINEAR</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE_DROPDOWN_2">
                <qti-base-value base-type="identifier">LINEAR</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_DROPDOWN_2"/>
                <qti-base-value base-type="identifier">NONLINEAR</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE_DROPDOWN_2">
                <qti-base-value base-type="identifier">NONLINEAR</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if></qti-response-condition>
<qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_DROPDOWN_5"/>
                <qti-base-value base-type="identifier">ONE_FOURTH</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE_DROPDOWN_5">
                <qti-base-value base-type="identifier">ONE_FOURTH</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_DROPDOWN_5"/>
                <qti-base-value base-type="identifier">ONE_HALF</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE_DROPDOWN_5">
                <qti-base-value base-type="identifier">ONE_HALF</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_DROPDOWN_5"/>
                <qti-base-value base-type="identifier">TWO_TIMES</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE_DROPDOWN_5">
                <qti-base-value base-type="identifier">TWO_TIMES</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if>
        <qti-response-else-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_DROPDOWN_5"/>
                <qti-base-value base-type="identifier">FOUR_TIMES</qti-base-value>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__RESPONSE_DROPDOWN_5">
                <qti-base-value base-type="identifier">FOUR_TIMES</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else-if></qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_TEXT_ENTRY"/>
                <qti-correct identifier="RESPONSE_TEXT_ENTRY"/>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">CORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE_DROPDOWN_1"/><qti-correct identifier="RESPONSE_DROPDOWN_1"/></qti-match>
                        <qti-match><qti-variable identifier="RESPONSE_DROPDOWN_3"/><qti-correct identifier="RESPONSE_DROPDOWN_3"/></qti-match>
                        <qti-match><qti-variable identifier="RESPONSE_DROPDOWN_2"/><qti-correct identifier="RESPONSE_DROPDOWN_2"/></qti-match>
                        <qti-match><qti-variable identifier="RESPONSE_DROPDOWN_5"/><qti-correct identifier="RESPONSE_DROPDOWN_5"/></qti-match>
                        <qti-match><qti-variable identifier="RESPONSE_TEXT_ENTRY"/><qti-correct identifier="RESPONSE_TEXT_ENTRY"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;

exports[`QTI Compiler End-to-End Tests should produce consistent XML output for "reactant-amounts-temp-change-table-perseus" 1`] = `
"<?xml version="1.0" encoding="UTF-8"?>
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="reactant-amounts-temp-change-table-perseus"
    title="Identify reactants and amounts from temperature changes"
    time-dependent="false"
    xml:lang="en-US">
    <qti-response-declaration identifier="RESPONSE_DROPDOWN_13" cardinality="single" base-type="identifier">
        <qti-correct-response>
            <qti-value>NEG_3_2_C</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-response-declaration identifier="RESPONSE_DROPDOWN_12" cardinality="single" base-type="identifier">
        <qti-correct-response>
            <qti-value>POS_4_2_C</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-response-declaration identifier="RESPONSE_DROPDOWN_11" cardinality="single" base-type="identifier">
        <qti-correct-response>
            <qti-value>POS_2_0_C</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-response-declaration identifier="RESPONSE_DROPDOWN_9" cardinality="single" base-type="identifier">
        <qti-correct-response>
            <qti-value>KOH</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-response-declaration identifier="RESPONSE_DROPDOWN_10" cardinality="single" base-type="identifier">
        <qti-correct-response>
            <qti-value>BAOH2</qti-value>
        </qti-correct-response>
    </qti-response-declaration>
    <qti-response-declaration identifier="RESPONSE_TEXT_ENTRY" cardinality="single" base-type="string">
        <qti-correct-response>
            <qti-value>done</qti-value>
        </qti-correct-response>
        <qti-mapping default-value="0">
            <qti-map-entry map-key="done" mapped-value="1"/>
        </qti-mapping>
    </qti-response-declaration>
    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value><qti-value>0</qti-value></qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK__GLOBAL" cardinality="single" base-type="identifier"/>
    <qti-item-body>
        <p>Several students tested how the temperature changed when dissolving different solids in the same amount of water. The substances they tested were <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>Na</mi><msub><mi>C</mi><mn>2</mn></msub><msub><mi>H</mi><mn>3</mn></msub><msub><mi>O</mi><mn>2</mn></msub></mrow></math>, <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>K</mi><mi>O</mi><mi>H</mi></mrow></math>, and <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>Ba</mi><msub><mrow><mo>(</mo><mi>OH</mi><mo>)</mo></mrow><mn>2</mn></msub></mrow></math>.</p>
        <p>Only one student kept track of everyone's data. Unfortunately, their lab notebook got wet, and some of the labels were damaged.</p>
        <div style="display: inline-block; text-align: center;"><img src="https://cdn.kastatic.org/ka-content-images/7bebb0e8fd90795225d76add80eb4c2d9d7d4f0d.jpg" alt="A diagram of the lab setup, including a flask with liquid and a thermometer inside, and a solid powder being poured in. Another flask is tipped over and has spilled onto a notebook on the lab desk." style="display: block; width: 372px; height: 300px;" /></div>
        <p>Use the data provided to identify the reactant and amount that caused each temperature change. Each option is only used once.</p>
        <table style="border-collapse: collapse; width: 100%; border: 1px solid #000000;"><caption style="padding: 8px; font-size: 1.2em; font-weight: 700; caption-side: top;">Experiment data</caption><thead><tr><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2; text-align: left;">Experiment</th><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Reactant</th><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Amount of reactant</th><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Temperature change</th></tr></thead><tbody><tr><th scope="row" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">A</th><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>Na</mi><msub><mi>C</mi><mn>2</mn></msub><msub><mi>H</mi><mn>3</mn></msub><msub><mi>O</mi><mn>2</mn></msub></mrow></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4.0</mn></math> grams</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>1.6</mn><mo>°</mo><mi>C</mi></math></td></tr><tr><th scope="row" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">B</th><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>K</mi><mi>O</mi><mi>H</mi></mrow></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3.0</mn></math> grams</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>+</mo><mn>2.1</mn><mo>°</mo><mi>C</mi></math></td></tr><tr><th scope="row" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">C</th><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>Na</mi><msub><mi>C</mi><mn>2</mn></msub><msub><mi>H</mi><mn>3</mn></msub><msub><mi>O</mi><mn>2</mn></msub></mrow></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>8.0</mn></math> grams</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><qti-inline-choice-interaction response-identifier="RESPONSE_DROPDOWN_13" shuffle="false">
				<qti-inline-choice identifier="NEG_3_2_C"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>3.2</mn><mo>°</mo><mi>C</mi></math></qti-inline-choice>
                <qti-inline-choice identifier="POS_2_0_C"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>+</mo><mn>2.0</mn><mo>°</mo><mi>C</mi></math></qti-inline-choice>
                <qti-inline-choice identifier="POS_4_2_C"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>+</mo><mn>4.2</mn><mo>°</mo><mi>C</mi></math></qti-inline-choice>
			</qti-inline-choice-interaction></td></tr><tr><th scope="row" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">D</th><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><qti-inline-choice-interaction response-identifier="RESPONSE_DROPDOWN_9" shuffle="false">
				<qti-inline-choice identifier="NAC2H3O2"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>Na</mi><msub><mi>C</mi><mn>2</mn></msub><msub><mi>H</mi><mn>3</mn></msub><msub><mi>O</mi><mn>2</mn></msub></mrow></math></qti-inline-choice>
                <qti-inline-choice identifier="KOH"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>K</mi><mi>O</mi><mi>H</mi></mrow></math></qti-inline-choice>
                <qti-inline-choice identifier="BAOH2"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>Ba</mi><msub><mrow><mo>(</mo><mi>OH</mi><mo>)</mo></mrow><mn>2</mn></msub></mrow></math></qti-inline-choice>
			</qti-inline-choice-interaction></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>6.0</mn></math> grams</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><qti-inline-choice-interaction response-identifier="RESPONSE_DROPDOWN_12" shuffle="false">
				<qti-inline-choice identifier="NEG_3_2_C"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>3.2</mn><mo>°</mo><mi>C</mi></math></qti-inline-choice>
                <qti-inline-choice identifier="POS_2_0_C"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>+</mo><mn>2.0</mn><mo>°</mo><mi>C</mi></math></qti-inline-choice>
                <qti-inline-choice identifier="POS_4_2_C"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>+</mo><mn>4.2</mn><mo>°</mo><mi>C</mi></math></qti-inline-choice>
			</qti-inline-choice-interaction></td></tr><tr><th scope="row" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">E</th><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><qti-inline-choice-interaction response-identifier="RESPONSE_DROPDOWN_10" shuffle="false">
				<qti-inline-choice identifier="NAC2H3O2"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>Na</mi><msub><mi>C</mi><mn>2</mn></msub><msub><mi>H</mi><mn>3</mn></msub><msub><mi>O</mi><mn>2</mn></msub></mrow></math></qti-inline-choice>
                <qti-inline-choice identifier="KOH"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>K</mi><mi>O</mi><mi>H</mi></mrow></math></qti-inline-choice>
                <qti-inline-choice identifier="BAOH2"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>Ba</mi><msub><mrow><mo>(</mo><mi>OH</mi><mo>)</mo></mrow><mn>2</mn></msub></mrow></math></qti-inline-choice>
			</qti-inline-choice-interaction></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2.0</mn></math> grams</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><qti-inline-choice-interaction response-identifier="RESPONSE_DROPDOWN_11" shuffle="false">
				<qti-inline-choice identifier="NEG_3_2_C"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>3.2</mn><mo>°</mo><mi>C</mi></math></qti-inline-choice>
                <qti-inline-choice identifier="POS_2_0_C"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>+</mo><mn>2.0</mn><mo>°</mo><mi>C</mi></math></qti-inline-choice>
                <qti-inline-choice identifier="POS_4_2_C"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>+</mo><mn>4.2</mn><mo>°</mo><mi>C</mi></math></qti-inline-choice>
			</qti-inline-choice-interaction></td></tr></tbody></table>
        <qti-feedback-block outcome-identifier="FEEDBACK__GLOBAL" identifier="CORRECT" show-hide="show">
            <qti-content-body><p>Excellent detective work! You successfully used the patterns in the data to match each unknown entry.</p>
        <p>You recognized the key relationships:</p>
        <p>• Experiment C has <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>8.0</mn></math> grams of <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>Na</mi><msub><mi>C</mi><mn>2</mn></msub><msub><mi>H</mi><mn>3</mn></msub><msub><mi>O</mi><mn>2</mn></msub></mrow></math> (twice experiment A's <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4.0</mn></math> grams), so its temperature change is twice as large: <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>3.2</mn><mo>°</mo><mi>C</mi></math></p>
        <p>• Experiment D uses <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>K</mi><mi>O</mi><mi>H</mi></mrow></math> (which causes heating) with temperature increase <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>+</mo><mn>4.2</mn><mo>°</mo><mi>C</mi></math></p>
        <p>• Experiment E uses <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>Ba</mi><msub><mrow><mo>(</mo><mi>OH</mi><mo>)</mo></mrow><mn>2</mn></msub></mrow></math> with temperature increase <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>+</mo><mn>2.0</mn><mo>°</mo><mi>C</mi></math></p>
        <p>This type of pattern recognition is essential in chemistry for predicting reaction outcomes and understanding how concentration affects reaction intensity!</p></qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK__GLOBAL" identifier="INCORRECT" show-hide="show">
            <qti-content-body><p>This is challenging! Let's approach it systematically by looking for patterns in the data.</p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math>: Identify reaction types. Temperature decreases = endothermic (absorbs heat), temperature increases = exothermic (releases heat).</p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math>: Look for amount patterns. Experiment A uses <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4.0</mn></math> g <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>Na</mi><msub><mi>C</mi><mn>2</mn></msub><msub><mi>H</mi><mn>3</mn></msub><msub><mi>O</mi><mn>2</mn></msub></mrow></math> → <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>-</mo><mn>1.6</mn><mo>°</mo><mi>C</mi></math></p>
        <p>Step <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math>: Use proportional reasoning. If <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>8.0</mn></math> g is twice <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4.0</mn></math> g, then the temperature change should be twice as large: <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn><mo>×</mo><mo>(</mo><mo>-</mo><mn>1.6</mn><mo>)</mo><mo>=</mo><mo>-</mo><mn>3.2</mn><mo>°</mo><mi>C</mi></math></p>
        <table style="border-collapse: collapse; width: 100%; border: 1px solid #000000;"><caption style="padding: 8px; font-size: 1.2em; font-weight: 700; caption-side: top;">Reaction Pattern Analysis</caption><thead><tr><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Experiment</th><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Compound</th><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Amount (g)</th><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Temp Change</th><th scope="col" style="border: 1px solid #000000; padding: 8px; text-align: left; font-weight: 700; background-color: #f2f2f2;">Pattern</th></tr></thead><tbody><tr><td style="border: 1px solid #000000; padding: 8px; text-align: left;">A</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;">NaC₂H₃O₂</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4.0</mn></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;">-1.6°C</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;">Base case</td></tr><tr><td style="border: 1px solid #000000; padding: 8px; text-align: left;">C</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;">NaC₂H₃O₂</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>8.0</mn></math></td><td style="border: 1px solid #000000; padding: 8px; text-align: left;">-3.2°C</td><td style="border: 1px solid #000000; padding: 8px; text-align: left;">2× amount = 2× effect</td></tr></tbody></table>
        <p>This pattern recognition helps chemists predict how changing concentrations will affect reaction outcomes!</p></qti-content-body>
        </qti-feedback-block>
    </qti-item-body>
    <qti-response-processing>
        
    <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_DROPDOWN_13"/>
                <qti-correct identifier="RESPONSE_DROPDOWN_13"/>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">CORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_DROPDOWN_12"/>
                <qti-correct identifier="RESPONSE_DROPDOWN_12"/>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">CORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_DROPDOWN_11"/>
                <qti-correct identifier="RESPONSE_DROPDOWN_11"/>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">CORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_DROPDOWN_9"/>
                <qti-correct identifier="RESPONSE_DROPDOWN_9"/>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">CORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_DROPDOWN_10"/>
                <qti-correct identifier="RESPONSE_DROPDOWN_10"/>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">CORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-match>
                <qti-variable identifier="RESPONSE_TEXT_ENTRY"/>
                <qti-correct identifier="RESPONSE_TEXT_ENTRY"/>
            </qti-match>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">CORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="FEEDBACK__GLOBAL">
                <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
            </qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    <qti-response-condition>
        <qti-response-if>
            <qti-and>
                <qti-match><qti-variable identifier="RESPONSE_DROPDOWN_13"/><qti-correct identifier="RESPONSE_DROPDOWN_13"/></qti-match>
                        <qti-match><qti-variable identifier="RESPONSE_DROPDOWN_12"/><qti-correct identifier="RESPONSE_DROPDOWN_12"/></qti-match>
                        <qti-match><qti-variable identifier="RESPONSE_DROPDOWN_11"/><qti-correct identifier="RESPONSE_DROPDOWN_11"/></qti-match>
                        <qti-match><qti-variable identifier="RESPONSE_DROPDOWN_9"/><qti-correct identifier="RESPONSE_DROPDOWN_9"/></qti-match>
                        <qti-match><qti-variable identifier="RESPONSE_DROPDOWN_10"/><qti-correct identifier="RESPONSE_DROPDOWN_10"/></qti-match>
                        <qti-match><qti-variable identifier="RESPONSE_TEXT_ENTRY"/><qti-correct identifier="RESPONSE_TEXT_ENTRY"/></qti-match>
            </qti-and>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">1.0</qti-base-value></qti-set-outcome-value>
        </qti-response-if>
        <qti-response-else>
            <qti-set-outcome-value identifier="SCORE"><qti-base-value base-type="float">0.0</qti-base-value></qti-set-outcome-value>
        </qti-response-else>
    </qti-response-condition>
    </qti-response-processing>
</qti-assessment-item>"
`;
